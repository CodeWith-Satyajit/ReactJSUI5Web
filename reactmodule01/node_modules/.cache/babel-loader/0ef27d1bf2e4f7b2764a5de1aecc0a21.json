{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport { isTabNext, isTabPrevious, isSpace, isEnter, isCtrlA, isUpAlt, isDownAlt, isUpShift, isDownShift, isHomeCtrl, isEndCtrl, isHomeShift, isEndShift } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport getNormalizedTarget from \"@ui5/webcomponents-base/dist/util/getNormalizedTarget.js\";\nimport getActiveElement from \"@ui5/webcomponents-base/dist/util/getActiveElement.js\";\nimport { getLastTabbableElement, getTabbableElements } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport debounce from \"@ui5/webcomponents-base/dist/util/debounce.js\";\nimport isElementInView from \"@ui5/webcomponents-base/dist/util/isElementInView.js\";\nimport TableGrowingMode from \"./types/TableGrowingMode.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport TableMode from \"./types/TableMode.js\";\nimport CheckBox from \"./CheckBox.js\"; // Ensure the dependency as it is being used in the renderer\n\n// Texts\nimport { LOAD_MORE_TEXT, ARIA_LABEL_SELECT_ALL_CHECKBOX, TABLE_HEADER_ROW_INFORMATION, TABLE_ROW_POSITION } from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport TableTemplate from \"./generated/templates/TableTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/Table.css.js\";\nconst GROWING_WITH_SCROLL_DEBOUNCE_RATE = 250; // ms\n\nconst PAGE_UP_DOWN_SIZE = 20;\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-table\",\n  managedSlots: true,\n  fastNavigation: true,\n  slots: /** @lends sap.ui.webcomponents.main.Table.prototype */{\n    /**\n     * Defines the component rows.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-table-row</code> for the intended design.\n     *\n     * @type {sap.ui.webcomponents.main.ITableRow[]}\n     * @slot rows\n     * @public\n     */\n    \"default\": {\n      propertyName: \"rows\",\n      type: HTMLElement,\n      individualSlots: true,\n      invalidateOnChildChange: true\n    },\n    /**\n     * Defines the configuration for the columns of the component.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-table-column</code> for the intended design.\n     *\n     * @type {sap.ui.webcomponents.main.ITableColumn[]}\n     * @slot\n     * @public\n     */\n    columns: {\n      type: HTMLElement,\n      individualSlots: true,\n      invalidateOnChildChange: {\n        properties: true,\n        slots: false\n      }\n    }\n  },\n  properties: /** @lends sap.ui.webcomponents.main.Table.prototype */{\n    /**\n     * Defines the text that will be displayed when there is no data and <code>hideNoData</code> is not present.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    noDataText: {\n      type: String\n    },\n    /**\n     * Defines the text that will be displayed inside the growing button at the bottom of the table,\n     * meant for loading more rows upon press.\n     *\n     * <br><br>\n     * <b>Note:</b> If not specified a built-in text will be displayed.\n     * <br>\n     * <b>Note:</b> This property takes effect if <code>growing</code> is set to <code>Button</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.15\n     * @public\n     */\n    growingButtonText: {\n      type: String\n    },\n    /**\n     * Defines the subtext that will be displayed under the <code>growingButtonText</code>.\n     *\n     * <br><br>\n     * <b>Note:</b> This property takes effect if <code>growing</code> is set to <code>Button</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.15\n     * @public\n     */\n    growingButtonSubtext: {\n      type: String\n    },\n    /**\n     * Defines if the value of <code>noDataText</code> will be diplayed when there is no rows present in the table.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    hideNoData: {\n      type: Boolean\n    },\n    /**\n     * Defines whether the table will have growing capability either by pressing a <code>More</code> button,\n     * or via user scroll. In both cases <code>load-more</code> event is fired.\n     * <br><br>\n     *\n     * Available options:\n     * <br><br>\n     * <code>Button</code> - Shows a <code>More</code> button at the bottom of the table, pressing of which triggers the <code>load-more</code> event.\n     * <br>\n     * <code>Scroll</code> - The <code>load-more</code> event is triggered when the user scrolls to the bottom of the table;\n     * <br>\n     * <code>None</code> (default) - The growing is off.\n     * <br><br>\n     *\n     * <b>Restrictions:</b> <code>growing=\"Scroll\"</code> is not supported for Internet Explorer,\n     * and the component will fallback to <code>growing=\"Button\"</code>.\n     * @type {sap.ui.webcomponents.main.types.TableGrowingMode}\n     * @defaultvalue \"None\"\n     * @since 1.0.0-rc.12\n     * @public\n     */\n    growing: {\n      type: TableGrowingMode,\n      defaultValue: TableGrowingMode.None\n    },\n    /**\n     * Defines if the table is in busy state.\n     * <b>\n     *\n     * In this state the component's opacity is reduced\n     * and busy indicator is displayed at the bottom of the table.\n     * @type {boolean}\n     * @defaultvalue false\n     * @since 1.0.0-rc.12\n     * @public\n    */\n    busy: {\n      type: Boolean\n    },\n    /**\n     * Defines the delay in milliseconds, after which the busy indicator will show up for this component.\n     *\n     * @type {sap.ui.webcomponents.base.types.Integer}\n     * @defaultValue 1000\n     * @public\n     */\n    busyDelay: {\n      type: Integer,\n      defaultValue: 1000\n    },\n    /**\n     * Determines whether the column headers remain fixed at the top of the page during\n     * vertical scrolling as long as the Web Component is in the viewport.\n     * <br><br>\n     * <b>Restrictions:</b>\n     * <ul>\n     * <li>Browsers that do not support this feature:\n     * <ul>\n     * <li>Internet Explorer</li>\n     * <li>Microsoft Edge lower than version 41 (EdgeHTML 16)</li>\n     * <li>Mozilla Firefox lower than version 59</li>\n     * </ul>\n     * </li>\n     * <li>Scrolling behavior:\n     * <ul>\n     * <li>If the Web Component is placed in layout containers that have the <code>overflow: hidden</code>\n     * or <code>overflow: auto</code> style definition, this can\n     * prevent the sticky elements of the Web Component from becoming fixed at the top of the viewport.</li>\n     * </ul>\n     * </li>\n     * </ul>\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    stickyColumnHeader: {\n      type: Boolean\n    },\n    /**\n     * Defines the mode of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>MultiSelect</code></li>\n     * <li><code>SingleSelect</code></li>\n     * <li><code>None</code></li>\n     * <ul>\n     * @type {sap.ui.webcomponents.main.types.TableMode}\n     * @defaultvalue \"None\"\n     * @since 1.0.0-rc.15\n     * @public\n     */\n    mode: {\n      type: TableMode,\n      defaultValue: TableMode.None\n    },\n    /**\n     * Defines the accessible ARIA name of the component.\n     *\n     * @type {string}\n     * @defaultvalue: \"\"\n     * @public\n     * @since 1.3.0\n     */\n    accessibleName: {\n      type: String,\n      defaultValue: undefined\n    },\n    /**\n     * Receives id(or many ids) of the elements that label the component.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     * @since 1.3.0\n     */\n    accessibleNameRef: {\n      type: String,\n      defaultValue: \"\"\n    },\n    _hiddenColumns: {\n      type: Object,\n      multiple: true\n    },\n    _noDataDisplayed: {\n      type: Boolean\n    },\n    /**\n     * Defines the active state of the <code>More</code> button.\n     * @private\n     */\n    _loadMoreActive: {\n      type: Boolean\n    },\n    /**\n     * Used to represent the table column header for the purpose of the item navigation as it does not work with DOM objects directly\n     * @private\n     */\n    _columnHeader: {\n      type: Object\n    },\n    /**\n     * Defines if the entire table is in view port.\n     * @private\n     */\n    _inViewport: {\n      type: Boolean\n    },\n    /**\n     * Defines whether all rows are selected or not when table is in MultiSelect mode.\n     * @type {boolean}\n     * @defaultvalue false\n     * @since 1.0.0-rc.15\n     * @private\n     */\n    _allRowsSelected: {\n      type: Boolean\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.Table.prototype */{\n    /**\n     * Fired when a row in <code>Active</code> mode is clicked or <code>Enter</code> key is pressed.\n     *\n     * @event sap.ui.webcomponents.main.Table#row-click\n     * @param {HTMLElement} row the activated row.\n     * @public\n     */\n    \"row-click\": {\n      detail: {\n        row: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when <code>ui5-table-column</code> is shown as a pop-in instead of hiding it.\n     *\n     * @event sap.ui.webcomponents.main.Table#popin-change\n     * @param {Array} poppedColumns popped-in columns.\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    \"popin-change\": {\n      detail: {\n        poppedColumns: {}\n      }\n    },\n    /**\n     * Fired when the user presses the <code>More</code> button or scrolls to the table's end.\n     * <br><br>\n     *\n     * <b>Note:</b> The event will be fired if <code>growing</code> is set to <code>Button</code> or <code>Scroll</code>.\n     * @event sap.ui.webcomponents.main.Table#load-more\n     * @public\n     * @since 1.0.0-rc.11\n     */\n    \"load-more\": {},\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n     *\n     * @event sap.ui.webcomponents.main.Table#selection-change\n     * @param {Array} selectedRows An array of the selected rows.\n     * @param {Array} previouslySelectedRows An array of the previously selected rows.\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    \"selection-change\": {\n      detail: {\n        selectedRows: {\n          type: Array\n        },\n        previouslySelectedRows: {\n          type: Array\n        }\n      }\n    }\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-table</code> component provides a set of sophisticated and convenient functions for responsive table design.\n * It provides a comprehensive set of features for displaying and dealing with vast amounts of data.\n * <br><br>\n * To render the <code>Table</code> properly, the order of the <code>columns</code> should match with the\n * order of the item <code>cells</code> in the <code>rows</code>.\n * <br><br>\n * Desktop and tablet devices are supported.\n * On tablets, special consideration should be given to the number of visible columns\n * and rows due to the limited performance of some devices.\n *\n * <h3>Selection</h3>\n * To benefit from the selection mechanism of <code>ui5-table</code> component, you can use the available selection modes:\n * <code>SingleSelect</code> and <code>MultiSelect</code>.\n * <br>\n * In additition to the used mode, you can also specify the <code>ui5-table-row</code> type choosing between\n * <code>Active</code> or <code>Inactive</code>.\n * <br><br>\n * In <code>SingleSelect</code> mode, you can select both an <code>Active</code> and <code>Inactive</code> row via mouse or\n * by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n * In <code>MultiSelect</code> mode, you can select both an <code>Active</code> and <code>Inactive</code> row by pressing the\n * <code>Space</code> key when a row is on focus or via mouse click over the selection checkbox of the row.\n * In order to select all the available rows at once, you can use the selection checkbox presented in the table's header.\n * <br><br>\n * <b>Note:</b> Currently, when a column is shown as a pop-in, the visual indication for selection is not presented over it.\n *\n * <h3>Keyboard Handling</h3>\n *\n * <h4>Fast Navigation</h4>\n * This component provides a build in fast navigation group which can be used via <code>F6 / Shift + F6</code> or <code> Ctrl + Alt(Option) + Down /  Ctrl + Alt(Option) + Up</code>.\n * In order to use this functionality, you need to import the following module:\n * <code>import \"@ui5/webcomponents-base/dist/features/F6Navigation.js\"</code>\n * <br><br>\n * Furthermore, you can interact with <code>ui5-table</code> via the following keys.\n * <br>\n *\n * <ul>\n * <li>[F7] - If focus is on an interactive control inside an item, moves focus to the corresponding item.</li>\n * <li>[CTRL]+[A] - Selects all items, if MultiSelect mode is enabled.</li>\n * <li>[HOME]/[END] - Focuses the first/last item.</li>\n * <li>[PAGEUP]/[PAGEDOWN] - Moves focus up/down by page size (20 items by default).</li>\n * <li>[ALT]+[DOWN]/[UP] - Switches focus between header, last focused item, and More button (if applies) in either direction.</li>\n * <li>[SHIFT]+[DOWN]/[UP] - Selects the next/previous item in a MultiSelect table, if the current item is selected (Range selection). Otherwise, deselects them (Range deselection).</li>\n * <li>[SHIFT]+[HOME]/[END] - Range selection to the first/last item of the List.</li>\n * <li>[CTRL]+[HOME]/[END] - Same behavior as HOME & END.</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Table.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableColumn.js\";</code> (for <code>ui5-table-column</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableRow.js\";</code> (for <code>ui5-table-row</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableCell.js\";</code> (for <code>ui5-table-cell</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Table\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-table\n * @appenddocs TableColumn TableRow TableGroupRow TableCell\n * @public\n */\nclass Table extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get styles() {\n    return styles;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get template() {\n    return TableTemplate;\n  }\n  static get dependencies() {\n    return [BusyIndicator, CheckBox];\n  }\n  static async onDefine() {\n    Table.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n  }\n  constructor() {\n    super();\n\n    // The ItemNavigation requires each item to 1) have a \"_tabIndex\" property and 2) be either a UI5Element, or have an id property (to find it in the component's shadow DOM by)\n    this._columnHeader = {\n      id: `${this._id}-columnHeader`,\n      _tabIndex: \"0\"\n    };\n    this._itemNavigation = new ItemNavigation(this, {\n      navigationMode: NavigationMode.Vertical,\n      affectedPropertiesNames: [\"_columnHeader\"],\n      getItemsCallback: () => [this._columnHeader, ...this.rows],\n      skipItemsSize: PAGE_UP_DOWN_SIZE\n    });\n    this.fnOnRowFocused = this.onRowFocused.bind(this);\n    this._handleResize = this.popinContent.bind(this);\n    this.fnHandleF7 = this._handleF7.bind(this);\n    this.tableEndObserved = false;\n    this.addEventListener(\"ui5-selection-requested\", this._handleSelect.bind(this));\n    this.addEventListener(\"ui5-_forward-after\", this._onForwardAfter.bind(this));\n    this.addEventListener(\"ui5-_forward-before\", this._onForwardBefore.bind(this));\n\n    // Stores the last focused element within the table.\n    this.lastFocusedElement = null;\n\n    // Indicates whether the table is forwarding focus before or after the current table row.\n    this._forwardingFocus = false;\n\n    // Stores the last focused nested element index (within a table row) for F7 navigation.\n    this._prevNestedElementIndex = 0;\n  }\n  onBeforeRendering() {\n    const columnSettings = this.getColumnPropagationSettings();\n    const columnSettingsString = JSON.stringify(columnSettings);\n    const rowsCount = this.rows.length + 1;\n    const selectedRows = this.selectedRows;\n    this.rows.forEach((row, index) => {\n      if (row._columnsInfoString !== columnSettingsString) {\n        row._columnsInfo = columnSettings;\n        row._columnsInfoString = JSON.stringify(row._columnsInfo);\n      }\n      row._ariaPosition = Table.i18nBundle.getText(TABLE_ROW_POSITION, index + 2, rowsCount);\n      row._busy = this.busy;\n      row.removeEventListener(\"ui5-_focused\", this.fnOnRowFocused);\n      row.addEventListener(\"ui5-_focused\", this.fnOnRowFocused);\n      row.removeEventListener(\"ui5-f7-pressed\", this.fnHandleF7);\n      row.addEventListener(\"ui5-f7-pressed\", this.fnHandleF7);\n      row.mode = this.mode;\n    });\n    this.visibleColumns = this.columns.filter((column, index) => {\n      return !this._hiddenColumns[index];\n    });\n    this._noDataDisplayed = !this.rows.length && !this.hideNoData;\n    this.visibleColumnsCount = this.visibleColumns.length;\n    if (this.isMultiSelect) {\n      // we have to count the selection column as well\n      this.visibleColumnsCount += 1;\n    }\n    this._allRowsSelected = selectedRows.length === this.rows.length;\n    this._prevFocusedRow = this._prevFocusedRow || this.rows[0];\n  }\n  onAfterRendering() {\n    if (this.growsOnScroll) {\n      this.observeTableEnd();\n    }\n    this.checkTableInViewport();\n  }\n  onEnterDOM() {\n    this.growingIntersectionObserver = this.getIntersectionObserver();\n    ResizeHandler.register(this.getDomRef(), this._handleResize);\n    this._itemNavigation.setCurrentItem(this.rows.length ? this.rows[0] : this._columnHeader);\n  }\n  onExitDOM() {\n    ResizeHandler.deregister(this.getDomRef(), this._handleResize);\n    this.growingIntersectionObserver.disconnect();\n    this.growingIntersectionObserver = null;\n    this.tableEndObserved = false;\n  }\n  _onkeydown(event) {\n    if (isTabNext(event) || isTabPrevious(event)) {\n      this._handleTab(event);\n    }\n    if (isCtrlA(event)) {\n      event.preventDefault();\n      this.isMultiSelect && this._selectAll(event);\n    }\n    if (isUpAlt(event) || isDownAlt(event)) {\n      this._handleArrowAlt(event);\n    }\n    if ((isUpShift(event) || isDownShift(event)) && this.isMultiSelect) {\n      this._handleArrowNav(event);\n    }\n    if (isHomeCtrl(event)) {\n      event.preventDefault();\n      this._itemNavigation._handleHome(event);\n      this._itemNavigation._applyTabIndex();\n      this._itemNavigation._focusCurrentItem();\n    }\n    if (isEndCtrl(event)) {\n      event.preventDefault();\n      this._itemNavigation._handleEnd(event);\n      this._itemNavigation._applyTabIndex();\n      this._itemNavigation._focusCurrentItem();\n    }\n    if ((isHomeShift(event) || isEndShift(event)) && this.isMultiSelect) {\n      this._handleHomeEndSelection(event);\n    }\n  }\n  _handleTab(event) {\n    const isNext = isTabNext(event);\n    const target = getNormalizedTarget(event.target);\n    const targetType = this.getFocusedElementType(event.target);\n    if (this.columnHeaderTabbables.includes(target)) {\n      if (isNext && this.columnHeaderLastElement === target) {\n        return this._focusNextElement(event);\n      }\n      return;\n    }\n    if (isNext && targetType === \"columnHeader\" && !this.columnHeaderTabbables.length) {\n      return this._focusNextElement(event);\n    }\n    if (targetType === \"tableRow\" || !targetType) {\n      return;\n    }\n    switch (targetType) {\n      case \"tableGroupRow\":\n        return isNext ? this._focusNextElement(event) : this._focusForwardElement(event, false);\n      case \"columnHeader\":\n        return !isNext && this._focusForwardElement(event, false);\n      case \"moreButton\":\n        if (isNext) {\n          this._focusForwardElement(event, true);\n        } else {\n          event.preventDefault();\n          this.currentElement.focus();\n        }\n    }\n  }\n  _focusNextElement(event) {\n    if (!this.growsWithButton) {\n      this._focusForwardElement(event, true);\n    } else {\n      this.morеBtn.focus();\n    }\n  }\n  _handleArrowNav(event) {\n    const isRowFocused = this.currentElement.localName === \"tr\";\n    if (!isRowFocused) {\n      return;\n    }\n    const previouslySelectedRows = this.selectedRows;\n    const currentItem = this.currentItem;\n    const currentItemIdx = this.currentItemIdx;\n    const prevItemIdx = currentItemIdx - 1;\n    const nextItemIdx = currentItemIdx + 1;\n    const prevItem = this.rows[prevItemIdx];\n    const nextItem = this.rows[nextItemIdx];\n    const wasSelected = currentItem.selected;\n    if (isUpShift(event) && !prevItem || isDownShift(event) && !nextItem) {\n      return;\n    }\n    if (isUpShift(event)) {\n      currentItem.selected = currentItem.selected && !prevItem.selected;\n      prevItem.selected = currentItem.selected || wasSelected && !currentItem.selected;\n      prevItem.focus();\n    }\n    if (isDownShift(event)) {\n      currentItem.selected = currentItem.selected && !nextItem.selected;\n      nextItem.selected = currentItem.selected || wasSelected && !currentItem.selected;\n      nextItem.focus();\n    }\n    const selectedRows = this.selectedRows;\n    this.fireEvent(\"selection-change\", {\n      selectedRows,\n      previouslySelectedRows\n    });\n  }\n  _handleHomeEndSelection(event) {\n    const isRowFocused = this.currentElement.localName === \"tr\";\n    if (!isRowFocused) {\n      return;\n    }\n    const rows = this.rows;\n    const previouslySelectedRows = this.selectedRows;\n    const currentItemIdx = this.currentItemIdx;\n    if (isHomeShift(event)) {\n      rows.slice(0, currentItemIdx + 1).forEach(item => {\n        item.selected = true;\n      });\n      rows[0].focus();\n    }\n    if (isEndShift(event)) {\n      rows.slice(currentItemIdx).forEach(item => {\n        item.selected = true;\n      });\n      rows[rows.length - 1].focus();\n    }\n    const selectedRows = this.selectedRows;\n    this.fireEvent(\"selection-change\", {\n      selectedRows,\n      previouslySelectedRows\n    });\n  }\n\n  /**\n   * Handles Alt + Up/Down.\n   * Switches focus between column header, last focused item, and \"More\" button (if applicable).\n   * @private\n   * @param {CustomEvent} event\n   */\n  _handleArrowAlt(event) {\n    const shouldMoveUp = isUpAlt(event);\n    const focusedElementType = this.getFocusedElementType(event.target);\n    if (shouldMoveUp) {\n      switch (focusedElementType) {\n        case \"tableRow\":\n        case \"tableGroupRow\":\n          this._prevFocusedRow = event.target;\n          return this._onColumnHeaderClick(event);\n        case \"columnHeader\":\n          return this.morеBtn ? this.morеBtn.focus() : this._prevFocusedRow.focus();\n        case \"moreButton\":\n          return this._prevFocusedRow ? this._prevFocusedRow.focus() : this._onColumnHeaderClick(event);\n      }\n    } else {\n      switch (focusedElementType) {\n        case \"tableRow\":\n        case \"tableGroupRow\":\n          this._prevFocusedRow = event.target;\n          return this.morеBtn ? this.morеBtn.focus() : this._onColumnHeaderClick(event);\n        case \"columnHeader\":\n          if (this._prevFocusedRow) {\n            this._prevFocusedRow.focus();\n          } else if (this.morеBtn) {\n            this.morеBtn.focus();\n          }\n          return;\n        case \"moreButton\":\n          return this._onColumnHeaderClick(event);\n      }\n    }\n  }\n\n  /**\n   * Determines the type of the currently focused element.\n   * @private\n   * @param {object} element The DOM element\n   * @returns {(\"columnHeader\"|\"tableRow\"|\"tableGroupRow\"|\"moreButton\")} A string identifier\n   */\n  getFocusedElementType(element) {\n    if (element === this.columnHeader) {\n      return \"columnHeader\";\n    }\n    if (element === this.morеBtn) {\n      return \"moreButton\";\n    }\n    if (this.rows.includes(element)) {\n      const isGroupRow = element.hasAttribute(\"ui5-table-group-row\");\n      return isGroupRow ? \"tableGroupRow\" : \"tableRow\";\n    }\n  }\n\n  /**\n   * Toggles focus between the table row's root and the last focused nested element.\n   * @private\n   * @param {CustomEvent} event \"ui5-f7-pressed\"\n   */\n  _handleF7(event) {\n    const row = event.detail.row;\n    row._tabbables = getTabbableElements(row);\n    const activeElement = getActiveElement();\n    const lastFocusedElement = row._tabbables[this._prevNestedElementIndex] || row._tabbables[0];\n    const targetIndex = row._tabbables.indexOf(activeElement);\n    if (!row._tabbables.length) {\n      return;\n    }\n    if (activeElement === row.root) {\n      lastFocusedElement.focus();\n    } else if (targetIndex > -1) {\n      this._prevNestedElementIndex = targetIndex;\n      row.root.focus();\n    }\n  }\n  _onfocusin(event) {\n    const target = getNormalizedTarget(event.target);\n    if (!this._isForwardElement(target)) {\n      this.lastFocusedElement = target;\n      return;\n    }\n    if (!this._forwardingFocus) {\n      if (this.lastFocusedElement) {\n        this.lastFocusedElement.focus();\n      } else {\n        this.currentElement.focus();\n      }\n      event.stopImmediatePropagation();\n    }\n    this._forwardingFocus = false;\n  }\n  _onForwardBefore(event) {\n    this.lastFocusedElement = event.detail.target;\n    this._focusForwardElement(event, false);\n    event.stopImmediatePropagation();\n  }\n  _onForwardAfter(event) {\n    this.lastFocusedElement = event.detail.target;\n    if (!this.growsWithButton) {\n      this._focusForwardElement(event, true);\n    } else {\n      this.morеBtn.focus();\n    }\n  }\n  _focusForwardElement(event, isAfter) {\n    this._forwardingFocus = true;\n    this.shadowRoot.querySelector(`#${this._id}-${isAfter ? \"after\" : \"before\"}`).focus();\n  }\n  _isForwardElement(node) {\n    const nodeId = node.id;\n    const afterElement = this._getForwardElement(true);\n    const beforeElement = this._getForwardElement(false);\n    if (this._id === nodeId || beforeElement && beforeElement.id === nodeId) {\n      return true;\n    }\n    return afterElement && afterElement.id === nodeId;\n  }\n  _getForwardElement(isAfter) {\n    const dir = isAfter ? \"after\" : \"before\";\n    if (!this[`_${dir}Element`]) {\n      this[`_${dir}Element`] = this.shadowRoot.querySelector(`#${this._id}-${dir}`);\n    }\n    return this[`_${dir}Element`];\n  }\n  onRowFocused(event) {\n    this._itemNavigation.setCurrentItem(event.target);\n  }\n  _onColumnHeaderFocused(event) {\n    this._itemNavigation.setCurrentItem(this._columnHeader);\n  }\n  _onColumnHeaderClick(event) {\n    if (!event.target) {\n      this.columnHeader.focus();\n    }\n    const target = getNormalizedTarget(event.target);\n    const isNestedElement = this.columnHeaderTabbables.includes(target);\n    if (!isNestedElement) {\n      this.columnHeader.focus();\n    }\n  }\n  _onColumnHeaderKeydown(event) {\n    if (isSpace(event)) {\n      event.preventDefault();\n      this.isMultiSelect && this._selectAll();\n    }\n  }\n  _onLoadMoreKeydown(event) {\n    if (isSpace(event)) {\n      event.preventDefault();\n      this._loadMoreActive = true;\n    }\n    if (isEnter(event)) {\n      this._onLoadMoreClick();\n      this._loadMoreActive = true;\n    }\n  }\n  _onLoadMoreKeyup(event) {\n    if (isSpace(event)) {\n      this._onLoadMoreClick();\n    }\n    this._loadMoreActive = false;\n  }\n  _onLoadMoreClick() {\n    this.fireEvent(\"load-more\");\n  }\n  observeTableEnd() {\n    if (!this.tableEndObserved) {\n      this.getIntersectionObserver().observe(this.tableEndDOM);\n      this.tableEndObserved = true;\n    }\n  }\n  onInteresection(entries) {\n    if (entries.some(entry => entry.isIntersecting)) {\n      debounce(this.loadMore.bind(this), GROWING_WITH_SCROLL_DEBOUNCE_RATE);\n    }\n  }\n  loadMore() {\n    this.fireEvent(\"load-more\");\n  }\n  _handleSingleSelect(event) {\n    const row = this.getRowParent(event.target);\n    if (!row.selected) {\n      const previouslySelectedRows = this.selectedRows;\n      this.rows.forEach(item => {\n        if (item.selected) {\n          item.selected = false;\n        }\n      });\n      row.selected = true;\n      this.fireEvent(\"selection-change\", {\n        selectedRows: [row],\n        previouslySelectedRows\n      });\n    }\n  }\n  _handleMultiSelect(event) {\n    const row = this.getRowParent(event.target);\n    const previouslySelectedRows = this.selectedRows;\n    row.selected = !row.selected;\n    const selectedRows = this.selectedRows;\n    if (selectedRows.length === this.rows.length) {\n      this._allRowsSelected = true;\n    } else {\n      this._allRowsSelected = false;\n    }\n    this.fireEvent(\"selection-change\", {\n      selectedRows,\n      previouslySelectedRows\n    });\n  }\n  _handleSelect(event) {\n    this[`_handle${this.mode}`](event);\n  }\n  _selectAll(event) {\n    const bAllSelected = !this._allRowsSelected;\n    const previouslySelectedRows = this.rows.filter(row => row.selected);\n    this._allRowsSelected = bAllSelected;\n    this.rows.forEach(row => {\n      row.selected = bAllSelected;\n    });\n    const selectedRows = bAllSelected ? this.rows : [];\n    this.fireEvent(\"selection-change\", {\n      selectedRows,\n      previouslySelectedRows\n    });\n  }\n  getRowParent(child) {\n    const parent = child.parentElement;\n    if (child.hasAttribute(\"ui5-table-row\")) {\n      return child;\n    }\n    if (parent && parent.hasAttribute(\"ui5-table-row\")) {\n      return parent;\n    }\n    this.getRowParent(parent);\n  }\n  get columnHeader() {\n    return this.getDomRef() && this.getDomRef().querySelector(`#${this._id}-columnHeader`);\n  }\n  get morеBtn() {\n    return this.growsWithButton && this.getDomRef() && this.getDomRef().querySelector(`#${this._id}-growingButton`);\n  }\n  handleResize(event) {\n    this.checkTableInViewport();\n    this.popinContent(event);\n  }\n  checkTableInViewport() {\n    this._inViewport = isElementInView(this.getDomRef());\n  }\n  popinContent(_event) {\n    const clientRect = this.getDomRef().getBoundingClientRect();\n    const tableWidth = clientRect.width;\n    const hiddenColumns = [];\n    const visibleColumnsIndexes = [];\n\n    // store the hidden columns\n    this.columns.forEach((column, index) => {\n      if (tableWidth < column.minWidth && column.minWidth !== Infinity) {\n        hiddenColumns[index] = {\n          index,\n          popinText: column.popinText,\n          demandPopin: column.demandPopin\n        };\n      } else {\n        visibleColumnsIndexes.push(index);\n      }\n    });\n    if (visibleColumnsIndexes.length) {\n      if (!this.isMultiSelect) {\n        this.columns[visibleColumnsIndexes[0]].first = true;\n      }\n      this.columns[visibleColumnsIndexes[visibleColumnsIndexes.length - 1]].last = true;\n    }\n\n    // invalidate only if hidden columns count has changed\n    if (this._hiddenColumns.length !== hiddenColumns.length) {\n      this._hiddenColumns = hiddenColumns;\n      if (hiddenColumns.length) {\n        this.fireEvent(\"popin-change\", {\n          poppedColumns: this._hiddenColumns\n        });\n      }\n    }\n  }\n\n  /**\n   * Gets settings to be propagated from columns to rows.\n   *\n   * @returns {object}\n   * @memberof Table\n   */\n  getColumnPropagationSettings() {\n    return this.columns.map((column, index) => {\n      return {\n        index,\n        minWidth: column.minWidth,\n        demandPopin: column.demandPopin,\n        text: column.textContent,\n        popinText: column.popinText,\n        visible: !this._hiddenColumns[index]\n      };\n    }, this);\n  }\n  getIntersectionObserver() {\n    if (!this.growingIntersectionObserver) {\n      this.growingIntersectionObserver = new IntersectionObserver(this.onInteresection.bind(this), {\n        root: document,\n        rootMargin: \"0px\",\n        threshold: 1.0\n      });\n    }\n    return this.growingIntersectionObserver;\n  }\n  get styles() {\n    return {\n      busy: {\n        position: this.busyIndPosition\n      }\n    };\n  }\n  get growsWithButton() {\n    return this.growing === TableGrowingMode.Button;\n  }\n  get growsOnScroll() {\n    return this.growing === TableGrowingMode.Scroll;\n  }\n  get _growingButtonText() {\n    return this.growingButtonText || Table.i18nBundle.getText(LOAD_MORE_TEXT);\n  }\n  get ariaLabelText() {\n    const rowsCount = this.rows.length + 1;\n    const headerRowText = Table.i18nBundle.getText(TABLE_HEADER_ROW_INFORMATION, rowsCount);\n    const columnsTitle = this.columns.map(column => {\n      return column.textContent.trim();\n    }).join(\" \");\n    return `${headerRowText} ${columnsTitle}`;\n  }\n  get tableAriaLabelText() {\n    return getEffectiveAriaLabelText(this);\n  }\n  get ariaLabelSelectAllText() {\n    return Table.i18nBundle.getText(ARIA_LABEL_SELECT_ALL_CHECKBOX);\n  }\n  get loadMoreAriaLabelledBy() {\n    if (this.moreDataText) {\n      return `${this._id}-growingButton-text ${this._id}-growingButton-subtext`;\n    }\n    return `${this._id}-growingButton-text`;\n  }\n  get tableEndDOM() {\n    return this.shadowRoot.querySelector(\".ui5-table-end-marker\");\n  }\n  get busyIndPosition() {\n    return this._inViewport ? \"absolute\" : \"sticky\";\n  }\n  get isMultiSelect() {\n    return this.mode === \"MultiSelect\";\n  }\n  get selectedRows() {\n    return this.rows.filter(row => row.selected);\n  }\n  get currentItemIdx() {\n    return this.rows.indexOf(this.currentItem);\n  }\n  get currentItem() {\n    return this.getRootNode().activeElement;\n  }\n  get currentElement() {\n    return this._itemNavigation._getCurrentItem();\n  }\n  get columnHeaderTabbables() {\n    return getTabbableElements(this.columnHeader);\n  }\n  get columnHeaderLastElement() {\n    return getLastTabbableElement(this.columnHeader);\n  }\n}\nTable.define();\nexport default Table;","map":{"version":3,"names":["UI5Element","litRender","ResizeHandler","ItemNavigation","Integer","NavigationMode","isTabNext","isTabPrevious","isSpace","isEnter","isCtrlA","isUpAlt","isDownAlt","isUpShift","isDownShift","isHomeCtrl","isEndCtrl","isHomeShift","isEndShift","getNormalizedTarget","getActiveElement","getLastTabbableElement","getTabbableElements","getEffectiveAriaLabelText","getI18nBundle","debounce","isElementInView","TableGrowingMode","BusyIndicator","TableMode","CheckBox","LOAD_MORE_TEXT","ARIA_LABEL_SELECT_ALL_CHECKBOX","TABLE_HEADER_ROW_INFORMATION","TABLE_ROW_POSITION","TableTemplate","styles","GROWING_WITH_SCROLL_DEBOUNCE_RATE","PAGE_UP_DOWN_SIZE","metadata","tag","managedSlots","fastNavigation","slots","propertyName","type","HTMLElement","individualSlots","invalidateOnChildChange","columns","properties","noDataText","String","growingButtonText","growingButtonSubtext","hideNoData","Boolean","growing","defaultValue","None","busy","busyDelay","stickyColumnHeader","mode","accessibleName","undefined","accessibleNameRef","_hiddenColumns","Object","multiple","_noDataDisplayed","_loadMoreActive","_columnHeader","_inViewport","_allRowsSelected","events","detail","row","poppedColumns","selectedRows","Array","previouslySelectedRows","Table","render","template","dependencies","onDefine","i18nBundle","constructor","id","_id","_tabIndex","_itemNavigation","navigationMode","Vertical","affectedPropertiesNames","getItemsCallback","rows","skipItemsSize","fnOnRowFocused","onRowFocused","bind","_handleResize","popinContent","fnHandleF7","_handleF7","tableEndObserved","addEventListener","_handleSelect","_onForwardAfter","_onForwardBefore","lastFocusedElement","_forwardingFocus","_prevNestedElementIndex","onBeforeRendering","columnSettings","getColumnPropagationSettings","columnSettingsString","JSON","stringify","rowsCount","length","forEach","index","_columnsInfoString","_columnsInfo","_ariaPosition","getText","_busy","removeEventListener","visibleColumns","filter","column","visibleColumnsCount","isMultiSelect","_prevFocusedRow","onAfterRendering","growsOnScroll","observeTableEnd","checkTableInViewport","onEnterDOM","growingIntersectionObserver","getIntersectionObserver","register","getDomRef","setCurrentItem","onExitDOM","deregister","disconnect","_onkeydown","event","_handleTab","preventDefault","_selectAll","_handleArrowAlt","_handleArrowNav","_handleHome","_applyTabIndex","_focusCurrentItem","_handleEnd","_handleHomeEndSelection","isNext","target","targetType","getFocusedElementType","columnHeaderTabbables","includes","columnHeaderLastElement","_focusNextElement","_focusForwardElement","currentElement","focus","growsWithButton","morеBtn","isRowFocused","localName","currentItem","currentItemIdx","prevItemIdx","nextItemIdx","prevItem","nextItem","wasSelected","selected","fireEvent","slice","item","shouldMoveUp","focusedElementType","_onColumnHeaderClick","element","columnHeader","isGroupRow","hasAttribute","_tabbables","activeElement","targetIndex","indexOf","root","_onfocusin","_isForwardElement","stopImmediatePropagation","isAfter","shadowRoot","querySelector","node","nodeId","afterElement","_getForwardElement","beforeElement","dir","_onColumnHeaderFocused","isNestedElement","_onColumnHeaderKeydown","_onLoadMoreKeydown","_onLoadMoreClick","_onLoadMoreKeyup","observe","tableEndDOM","onInteresection","entries","some","entry","isIntersecting","loadMore","_handleSingleSelect","getRowParent","_handleMultiSelect","bAllSelected","child","parent","parentElement","handleResize","_event","clientRect","getBoundingClientRect","tableWidth","width","hiddenColumns","visibleColumnsIndexes","minWidth","Infinity","popinText","demandPopin","push","first","last","map","text","textContent","visible","IntersectionObserver","document","rootMargin","threshold","position","busyIndPosition","Button","Scroll","_growingButtonText","ariaLabelText","headerRowText","columnsTitle","trim","join","tableAriaLabelText","ariaLabelSelectAllText","loadMoreAriaLabelledBy","moreDataText","getRootNode","_getCurrentItem","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/Table.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport {\n\tisTabNext,\n\tisTabPrevious,\n\tisSpace,\n\tisEnter,\n\tisCtrlA,\n\tisUpAlt,\n\tisDownAlt,\n\tisUpShift,\n\tisDownShift,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisHomeShift,\n\tisEndShift,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport getNormalizedTarget from \"@ui5/webcomponents-base/dist/util/getNormalizedTarget.js\";\nimport getActiveElement from \"@ui5/webcomponents-base/dist/util/getActiveElement.js\";\nimport { getLastTabbableElement, getTabbableElements } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport debounce from \"@ui5/webcomponents-base/dist/util/debounce.js\";\nimport isElementInView from \"@ui5/webcomponents-base/dist/util/isElementInView.js\";\nimport TableGrowingMode from \"./types/TableGrowingMode.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport TableMode from \"./types/TableMode.js\";\nimport CheckBox from \"./CheckBox.js\"; // Ensure the dependency as it is being used in the renderer\n\n// Texts\nimport {\n\tLOAD_MORE_TEXT,\n\tARIA_LABEL_SELECT_ALL_CHECKBOX,\n\tTABLE_HEADER_ROW_INFORMATION,\n\tTABLE_ROW_POSITION,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport TableTemplate from \"./generated/templates/TableTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/Table.css.js\";\n\nconst GROWING_WITH_SCROLL_DEBOUNCE_RATE = 250; // ms\n\nconst PAGE_UP_DOWN_SIZE = 20;\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-table\",\n\tmanagedSlots: true,\n\tfastNavigation: true,\n\tslots: /** @lends sap.ui.webcomponents.main.Table.prototype */ {\n\n\t\t/**\n\t\t * Defines the component rows.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-table-row</code> for the intended design.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.ITableRow[]}\n\t\t * @slot rows\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"rows\",\n\t\t\ttype: HTMLElement,\n\t\t\tindividualSlots: true,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\n\t\t/**\n\t\t * Defines the configuration for the columns of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-table-column</code> for the intended design.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.ITableColumn[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tcolumns: {\n\t\t\ttype: HTMLElement,\n\t\t\tindividualSlots: true,\n\t\t\tinvalidateOnChildChange: {\n\t\t\t\tproperties: true,\n\t\t\t\tslots: false,\n\t\t\t},\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webcomponents.main.Table.prototype */ {\n\n\t\t/**\n\t\t * Defines the text that will be displayed when there is no data and <code>hideNoData</code> is not present.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tnoDataText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the text that will be displayed inside the growing button at the bottom of the table,\n\t\t * meant for loading more rows upon press.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> If not specified a built-in text will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> This property takes effect if <code>growing</code> is set to <code>Button</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.15\n\t\t * @public\n\t\t */\n\t\tgrowingButtonText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the subtext that will be displayed under the <code>growingButtonText</code>.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> This property takes effect if <code>growing</code> is set to <code>Button</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.15\n\t\t * @public\n\t\t */\n\t\t growingButtonSubtext: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the value of <code>noDataText</code> will be diplayed when there is no rows present in the table.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\thideNoData: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the table will have growing capability either by pressing a <code>More</code> button,\n\t\t * or via user scroll. In both cases <code>load-more</code> event is fired.\n\t\t * <br><br>\n\t\t *\n\t\t * Available options:\n\t\t * <br><br>\n\t\t * <code>Button</code> - Shows a <code>More</code> button at the bottom of the table, pressing of which triggers the <code>load-more</code> event.\n\t\t * <br>\n\t\t * <code>Scroll</code> - The <code>load-more</code> event is triggered when the user scrolls to the bottom of the table;\n\t\t * <br>\n\t\t * <code>None</code> (default) - The growing is off.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Restrictions:</b> <code>growing=\"Scroll\"</code> is not supported for Internet Explorer,\n\t\t * and the component will fallback to <code>growing=\"Button\"</code>.\n\t\t * @type {sap.ui.webcomponents.main.types.TableGrowingMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @since 1.0.0-rc.12\n\t\t * @public\n\t\t */\n\t\tgrowing: {\n\t\t\ttype: TableGrowingMode,\n\t\t\tdefaultValue: TableGrowingMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the table is in busy state.\n\t\t * <b>\n\t\t *\n\t\t * In this state the component's opacity is reduced\n\t\t * and busy indicator is displayed at the bottom of the table.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @since 1.0.0-rc.12\n\t\t * @public\n\t\t*/\n\t\tbusy: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the delay in milliseconds, after which the busy indicator will show up for this component.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.base.types.Integer}\n\t\t * @defaultValue 1000\n\t\t * @public\n\t\t */\n\t\tbusyDelay: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 1000,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the column headers remain fixed at the top of the page during\n\t\t * vertical scrolling as long as the Web Component is in the viewport.\n\t\t * <br><br>\n\t\t * <b>Restrictions:</b>\n\t\t * <ul>\n\t\t * <li>Browsers that do not support this feature:\n\t\t * <ul>\n\t\t * <li>Internet Explorer</li>\n\t\t * <li>Microsoft Edge lower than version 41 (EdgeHTML 16)</li>\n\t\t * <li>Mozilla Firefox lower than version 59</li>\n\t\t * </ul>\n\t\t * </li>\n\t\t * <li>Scrolling behavior:\n\t\t * <ul>\n\t\t * <li>If the Web Component is placed in layout containers that have the <code>overflow: hidden</code>\n\t\t * or <code>overflow: auto</code> style definition, this can\n\t\t * prevent the sticky elements of the Web Component from becoming fixed at the top of the viewport.</li>\n\t\t * </ul>\n\t\t * </li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tstickyColumnHeader: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the mode of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>MultiSelect</code></li>\n\t\t * <li><code>SingleSelect</code></li>\n\t\t * <li><code>None</code></li>\n\t\t * <ul>\n\t\t * @type {sap.ui.webcomponents.main.types.TableMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @since 1.0.0-rc.15\n\t\t * @public\n\t\t */\n\t\tmode: {\n\t\t\ttype: TableMode,\n\t\t\tdefaultValue: TableMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines the accessible ARIA name of the component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue: \"\"\n\t\t * @public\n\t\t * @since 1.3.0\n\t\t */\n\t\taccessibleName: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Receives id(or many ids) of the elements that label the component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t * @since 1.3.0\n\t\t */\n\t\taccessibleNameRef: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t_hiddenColumns: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_noDataDisplayed: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the active state of the <code>More</code> button.\n\t\t * @private\n\t\t */\n\t\t_loadMoreActive: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Used to represent the table column header for the purpose of the item navigation as it does not work with DOM objects directly\n\t\t * @private\n\t\t */\n\t\t_columnHeader: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the entire table is in view port.\n\t\t * @private\n\t\t */\n\t\t_inViewport: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether all rows are selected or not when table is in MultiSelect mode.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @since 1.0.0-rc.15\n\t\t * @private\n\t\t */\n\t\t_allRowsSelected: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.Table.prototype */ {\n\t\t/**\n\t\t * Fired when a row in <code>Active</code> mode is clicked or <code>Enter</code> key is pressed.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.Table#row-click\n\t\t * @param {HTMLElement} row the activated row.\n\t\t * @public\n\t\t */\n\t\t\"row-click\": {\n\t\t\tdetail: {\n\t\t\t\trow: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when <code>ui5-table-column</code> is shown as a pop-in instead of hiding it.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.Table#popin-change\n\t\t * @param {Array} poppedColumns popped-in columns.\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\t\"popin-change\": {\n\t\t\tdetail: {\n\t\t\t\tpoppedColumns: {},\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the user presses the <code>More</code> button or scrolls to the table's end.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> The event will be fired if <code>growing</code> is set to <code>Button</code> or <code>Scroll</code>.\n\t\t * @event sap.ui.webcomponents.main.Table#load-more\n\t\t * @public\n\t\t * @since 1.0.0-rc.11\n\t\t */\n\t\t\"load-more\": {},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.Table#selection-change\n\t\t * @param {Array} selectedRows An array of the selected rows.\n\t\t * @param {Array} previouslySelectedRows An array of the previously selected rows.\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\tselectedRows: { type: Array },\n\t\t\t\tpreviouslySelectedRows: { type: Array },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-table</code> component provides a set of sophisticated and convenient functions for responsive table design.\n * It provides a comprehensive set of features for displaying and dealing with vast amounts of data.\n * <br><br>\n * To render the <code>Table</code> properly, the order of the <code>columns</code> should match with the\n * order of the item <code>cells</code> in the <code>rows</code>.\n * <br><br>\n * Desktop and tablet devices are supported.\n * On tablets, special consideration should be given to the number of visible columns\n * and rows due to the limited performance of some devices.\n *\n * <h3>Selection</h3>\n * To benefit from the selection mechanism of <code>ui5-table</code> component, you can use the available selection modes:\n * <code>SingleSelect</code> and <code>MultiSelect</code>.\n * <br>\n * In additition to the used mode, you can also specify the <code>ui5-table-row</code> type choosing between\n * <code>Active</code> or <code>Inactive</code>.\n * <br><br>\n * In <code>SingleSelect</code> mode, you can select both an <code>Active</code> and <code>Inactive</code> row via mouse or\n * by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n * In <code>MultiSelect</code> mode, you can select both an <code>Active</code> and <code>Inactive</code> row by pressing the\n * <code>Space</code> key when a row is on focus or via mouse click over the selection checkbox of the row.\n * In order to select all the available rows at once, you can use the selection checkbox presented in the table's header.\n * <br><br>\n * <b>Note:</b> Currently, when a column is shown as a pop-in, the visual indication for selection is not presented over it.\n *\n * <h3>Keyboard Handling</h3>\n *\n * <h4>Fast Navigation</h4>\n * This component provides a build in fast navigation group which can be used via <code>F6 / Shift + F6</code> or <code> Ctrl + Alt(Option) + Down /  Ctrl + Alt(Option) + Up</code>.\n * In order to use this functionality, you need to import the following module:\n * <code>import \"@ui5/webcomponents-base/dist/features/F6Navigation.js\"</code>\n * <br><br>\n * Furthermore, you can interact with <code>ui5-table</code> via the following keys.\n * <br>\n *\n * <ul>\n * <li>[F7] - If focus is on an interactive control inside an item, moves focus to the corresponding item.</li>\n * <li>[CTRL]+[A] - Selects all items, if MultiSelect mode is enabled.</li>\n * <li>[HOME]/[END] - Focuses the first/last item.</li>\n * <li>[PAGEUP]/[PAGEDOWN] - Moves focus up/down by page size (20 items by default).</li>\n * <li>[ALT]+[DOWN]/[UP] - Switches focus between header, last focused item, and More button (if applies) in either direction.</li>\n * <li>[SHIFT]+[DOWN]/[UP] - Selects the next/previous item in a MultiSelect table, if the current item is selected (Range selection). Otherwise, deselects them (Range deselection).</li>\n * <li>[SHIFT]+[HOME]/[END] - Range selection to the first/last item of the List.</li>\n * <li>[CTRL]+[HOME]/[END] - Same behavior as HOME & END.</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Table.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableColumn.js\";</code> (for <code>ui5-table-column</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableRow.js\";</code> (for <code>ui5-table-row</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/TableCell.js\";</code> (for <code>ui5-table-cell</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Table\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-table\n * @appenddocs TableColumn TableRow TableGroupRow TableCell\n * @public\n */\nclass Table extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn TableTemplate;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [BusyIndicator, CheckBox];\n\t}\n\n\tstatic async onDefine() {\n\t\tTable.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\t// The ItemNavigation requires each item to 1) have a \"_tabIndex\" property and 2) be either a UI5Element, or have an id property (to find it in the component's shadow DOM by)\n\t\tthis._columnHeader = {\n\t\t\tid: `${this._id}-columnHeader`,\n\t\t\t_tabIndex: \"0\",\n\t\t};\n\n\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\tnavigationMode: NavigationMode.Vertical,\n\t\t\taffectedPropertiesNames: [\"_columnHeader\"],\n\t\t\tgetItemsCallback: () => [this._columnHeader, ...this.rows],\n\t\t\tskipItemsSize: PAGE_UP_DOWN_SIZE,\n\t\t});\n\n\t\tthis.fnOnRowFocused = this.onRowFocused.bind(this);\n\n\t\tthis._handleResize = this.popinContent.bind(this);\n\n\t\tthis.fnHandleF7 = this._handleF7.bind(this);\n\n\t\tthis.tableEndObserved = false;\n\n\t\tthis.addEventListener(\"ui5-selection-requested\", this._handleSelect.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-after\", this._onForwardAfter.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-before\", this._onForwardBefore.bind(this));\n\n\t\t// Stores the last focused element within the table.\n\t\tthis.lastFocusedElement = null;\n\n\t\t// Indicates whether the table is forwarding focus before or after the current table row.\n\t\tthis._forwardingFocus = false;\n\n\t\t// Stores the last focused nested element index (within a table row) for F7 navigation.\n\t\tthis._prevNestedElementIndex = 0;\n\t}\n\n\tonBeforeRendering() {\n\t\tconst columnSettings = this.getColumnPropagationSettings();\n\t\tconst columnSettingsString = JSON.stringify(columnSettings);\n\t\tconst rowsCount = this.rows.length + 1;\n\t\tconst selectedRows = this.selectedRows;\n\n\t\tthis.rows.forEach((row, index) => {\n\t\t\tif (row._columnsInfoString !== columnSettingsString) {\n\t\t\t\trow._columnsInfo = columnSettings;\n\t\t\t\trow._columnsInfoString = JSON.stringify(row._columnsInfo);\n\t\t\t}\n\n\t\t\trow._ariaPosition = Table.i18nBundle.getText(TABLE_ROW_POSITION, index + 2, rowsCount);\n\t\t\trow._busy = this.busy;\n\t\t\trow.removeEventListener(\"ui5-_focused\", this.fnOnRowFocused);\n\t\t\trow.addEventListener(\"ui5-_focused\", this.fnOnRowFocused);\n\t\t\trow.removeEventListener(\"ui5-f7-pressed\", this.fnHandleF7);\n\t\t\trow.addEventListener(\"ui5-f7-pressed\", this.fnHandleF7);\n\t\t\trow.mode = this.mode;\n\t\t});\n\n\t\tthis.visibleColumns = this.columns.filter((column, index) => {\n\t\t\treturn !this._hiddenColumns[index];\n\t\t});\n\n\t\tthis._noDataDisplayed = !this.rows.length && !this.hideNoData;\n\t\tthis.visibleColumnsCount = this.visibleColumns.length;\n\n\t\tif (this.isMultiSelect) {\n\t\t\t// we have to count the selection column as well\n\t\t\tthis.visibleColumnsCount += 1;\n\t\t}\n\n\t\tthis._allRowsSelected = selectedRows.length === this.rows.length;\n\n\t\tthis._prevFocusedRow = this._prevFocusedRow || this.rows[0];\n\t}\n\n\tonAfterRendering() {\n\t\tif (this.growsOnScroll) {\n\t\t\tthis.observeTableEnd();\n\t\t}\n\n\t\tthis.checkTableInViewport();\n\t}\n\n\tonEnterDOM() {\n\t\tthis.growingIntersectionObserver = this.getIntersectionObserver();\n\n\t\tResizeHandler.register(this.getDomRef(), this._handleResize);\n\n\t\tthis._itemNavigation.setCurrentItem(this.rows.length ? this.rows[0] : this._columnHeader);\n\t}\n\n\tonExitDOM() {\n\t\tResizeHandler.deregister(this.getDomRef(), this._handleResize);\n\n\t\tthis.growingIntersectionObserver.disconnect();\n\t\tthis.growingIntersectionObserver = null;\n\t\tthis.tableEndObserved = false;\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isTabNext(event) || isTabPrevious(event)) {\n\t\t\tthis._handleTab(event);\n\t\t}\n\n\t\tif (isCtrlA(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.isMultiSelect && this._selectAll(event);\n\t\t}\n\n\t\tif (isUpAlt(event) || isDownAlt(event)) {\n\t\t\tthis._handleArrowAlt(event);\n\t\t}\n\n\t\tif ((isUpShift(event) || isDownShift(event)) && this.isMultiSelect) {\n\t\t\tthis._handleArrowNav(event);\n\t\t}\n\n\t\tif (isHomeCtrl(event)) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._itemNavigation._handleHome(event);\n\t\t\tthis._itemNavigation._applyTabIndex();\n\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t}\n\n\t\tif (isEndCtrl(event)) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._itemNavigation._handleEnd(event);\n\t\t\tthis._itemNavigation._applyTabIndex();\n\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t}\n\n\t\tif ((isHomeShift(event) || isEndShift(event)) && this.isMultiSelect) {\n\t\t\tthis._handleHomeEndSelection(event);\n\t\t}\n\t}\n\n\t_handleTab(event) {\n\t\tconst isNext = isTabNext(event);\n\t\tconst target = getNormalizedTarget(event.target);\n\t\tconst targetType = this.getFocusedElementType(event.target);\n\n\t\tif (this.columnHeaderTabbables.includes(target)) {\n\t\t\tif (isNext && this.columnHeaderLastElement === target) {\n\t\t\t\treturn this._focusNextElement(event);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (isNext && targetType === \"columnHeader\" && !this.columnHeaderTabbables.length) {\n\t\t\treturn this._focusNextElement(event);\n\t\t}\n\n\t\tif (targetType === \"tableRow\" || !targetType) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (targetType) {\n\t\tcase \"tableGroupRow\":\n\t\t\treturn isNext ? this._focusNextElement(event) : this._focusForwardElement(event, false);\n\t\tcase \"columnHeader\":\n\t\t\treturn !isNext && this._focusForwardElement(event, false);\n\t\tcase \"moreButton\":\n\t\t\tif (isNext) {\n\t\t\t\tthis._focusForwardElement(event, true);\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.currentElement.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t_focusNextElement(event) {\n\t\tif (!this.growsWithButton) {\n\t\t\tthis._focusForwardElement(event, true);\n\t\t} else {\n\t\t\tthis.morеBtn.focus();\n\t\t}\n\t}\n\n\t_handleArrowNav(event) {\n\t\tconst isRowFocused = this.currentElement.localName === \"tr\";\n\n\t\tif (!isRowFocused) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst previouslySelectedRows = this.selectedRows;\n\t\tconst currentItem = this.currentItem;\n\t\tconst currentItemIdx = this.currentItemIdx;\n\n\t\tconst prevItemIdx = currentItemIdx - 1;\n\t\tconst nextItemIdx = currentItemIdx + 1;\n\n\t\tconst prevItem = this.rows[prevItemIdx];\n\t\tconst nextItem = this.rows[nextItemIdx];\n\t\tconst wasSelected = currentItem.selected;\n\n\t\tif ((isUpShift(event) && !prevItem) || (isDownShift(event) && !nextItem)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isUpShift(event)) {\n\t\t\tcurrentItem.selected = currentItem.selected && !prevItem.selected;\n\t\t\tprevItem.selected = currentItem.selected || (wasSelected && !currentItem.selected);\n\n\t\t\tprevItem.focus();\n\t\t}\n\n\t\tif (isDownShift(event)) {\n\t\t\tcurrentItem.selected = currentItem.selected && !nextItem.selected;\n\t\t\tnextItem.selected = currentItem.selected || (wasSelected && !currentItem.selected);\n\n\t\t\tnextItem.focus();\n\t\t}\n\n\t\tconst selectedRows = this.selectedRows;\n\n\t\tthis.fireEvent(\"selection-change\", {\n\t\t\tselectedRows,\n\t\t\tpreviouslySelectedRows,\n\t\t});\n\t}\n\n\t_handleHomeEndSelection(event) {\n\t\tconst isRowFocused = this.currentElement.localName === \"tr\";\n\n\t\tif (!isRowFocused) {\n\t\t\treturn;\n\t\t}\n\t\tconst rows = this.rows;\n\t\tconst previouslySelectedRows = this.selectedRows;\n\t\tconst currentItemIdx = this.currentItemIdx;\n\n\t\tif (isHomeShift(event)) {\n\t\t\trows.slice(0, currentItemIdx + 1).forEach(item => {\n\t\t\t\titem.selected = true;\n\t\t\t});\n\t\t\trows[0].focus();\n\t\t}\n\n\t\tif (isEndShift(event)) {\n\t\t\trows.slice(currentItemIdx).forEach(item => {\n\t\t\t\titem.selected = true;\n\t\t\t});\n\t\t\trows[rows.length - 1].focus();\n\t\t}\n\n\t\tconst selectedRows = this.selectedRows;\n\n\t\tthis.fireEvent(\"selection-change\", {\n\t\t\tselectedRows,\n\t\t\tpreviouslySelectedRows,\n\t\t});\n\t}\n\n\t/**\n\t * Handles Alt + Up/Down.\n\t * Switches focus between column header, last focused item, and \"More\" button (if applicable).\n\t * @private\n\t * @param {CustomEvent} event\n\t */\n\t_handleArrowAlt(event) {\n\t\tconst shouldMoveUp = isUpAlt(event);\n\t\tconst focusedElementType = this.getFocusedElementType(event.target);\n\n\t\tif (shouldMoveUp) {\n\t\t\tswitch (focusedElementType) {\n\t\t\tcase \"tableRow\":\n\t\t\tcase \"tableGroupRow\":\n\t\t\t\tthis._prevFocusedRow = event.target;\n\t\t\t\treturn this._onColumnHeaderClick(event);\n\t\t\tcase \"columnHeader\":\n\t\t\t\treturn this.morеBtn ? this.morеBtn.focus() : this._prevFocusedRow.focus();\n\t\t\tcase \"moreButton\":\n\t\t\t\treturn this._prevFocusedRow ? this._prevFocusedRow.focus() : this._onColumnHeaderClick(event);\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (focusedElementType) {\n\t\t\tcase \"tableRow\":\n\t\t\tcase \"tableGroupRow\":\n\t\t\t\tthis._prevFocusedRow = event.target;\n\t\t\t\treturn this.morеBtn ? this.morеBtn.focus() : this._onColumnHeaderClick(event);\n\t\t\tcase \"columnHeader\":\n\t\t\t\tif (this._prevFocusedRow) {\n\t\t\t\t\tthis._prevFocusedRow.focus();\n\t\t\t\t} else if (this.morеBtn) {\n\t\t\t\t\tthis.morеBtn.focus();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\tcase \"moreButton\":\n\t\t\t\treturn this._onColumnHeaderClick(event);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Determines the type of the currently focused element.\n\t * @private\n\t * @param {object} element The DOM element\n\t * @returns {(\"columnHeader\"|\"tableRow\"|\"tableGroupRow\"|\"moreButton\")} A string identifier\n\t */\n\tgetFocusedElementType(element) {\n\t\tif (element === this.columnHeader) {\n\t\t\treturn \"columnHeader\";\n\t\t}\n\n\t\tif (element === this.morеBtn) {\n\t\t\treturn \"moreButton\";\n\t\t}\n\n\t\tif (this.rows.includes(element)) {\n\t\t\tconst isGroupRow = element.hasAttribute(\"ui5-table-group-row\");\n\t\t\treturn isGroupRow ? \"tableGroupRow\" : \"tableRow\";\n\t\t}\n\t}\n\n\t/**\n\t * Toggles focus between the table row's root and the last focused nested element.\n\t * @private\n\t * @param {CustomEvent} event \"ui5-f7-pressed\"\n\t */\n\t_handleF7(event) {\n\t\tconst row = event.detail.row;\n\t\trow._tabbables = getTabbableElements(row);\n\t\tconst activeElement = getActiveElement();\n\t\tconst lastFocusedElement = row._tabbables[this._prevNestedElementIndex] || row._tabbables[0];\n\t\tconst targetIndex = row._tabbables.indexOf(activeElement);\n\n\t\tif (!row._tabbables.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (activeElement === row.root) {\n\t\t\tlastFocusedElement.focus();\n\t\t} else if (targetIndex > -1) {\n\t\t\tthis._prevNestedElementIndex = targetIndex;\n\t\t\trow.root.focus();\n\t\t}\n\t}\n\n\t_onfocusin(event) {\n\t\tconst target = getNormalizedTarget(event.target);\n\n\t\tif (!this._isForwardElement(target)) {\n\t\t\tthis.lastFocusedElement = target;\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._forwardingFocus) {\n\t\t\tif (this.lastFocusedElement) {\n\t\t\t\tthis.lastFocusedElement.focus();\n\t\t\t} else {\n\t\t\t\tthis.currentElement.focus();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\n\t\tthis._forwardingFocus = false;\n\t}\n\n\t_onForwardBefore(event) {\n\t\tthis.lastFocusedElement = event.detail.target;\n\t\tthis._focusForwardElement(event, false);\n\t\tevent.stopImmediatePropagation();\n\t}\n\n\t_onForwardAfter(event) {\n\t\tthis.lastFocusedElement = event.detail.target;\n\n\t\tif (!this.growsWithButton) {\n\t\t\tthis._focusForwardElement(event, true);\n\t\t} else {\n\t\t\tthis.morеBtn.focus();\n\t\t}\n\t}\n\n\t_focusForwardElement(event, isAfter) {\n\t\tthis._forwardingFocus = true;\n\t\tthis.shadowRoot.querySelector(`#${this._id}-${isAfter ? \"after\" : \"before\"}`).focus();\n\t}\n\n\t_isForwardElement(node) {\n\t\tconst nodeId = node.id;\n\t\tconst afterElement = this._getForwardElement(true);\n\t\tconst beforeElement = this._getForwardElement(false);\n\n\t\tif (this._id === nodeId || (beforeElement && beforeElement.id === nodeId)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn afterElement && afterElement.id === nodeId;\n\t}\n\n\t_getForwardElement(isAfter) {\n\t\tconst dir = isAfter ? \"after\" : \"before\";\n\n\t\tif (!this[`_${dir}Element`]) {\n\t\t\tthis[`_${dir}Element`] = this.shadowRoot.querySelector(`#${this._id}-${dir}`);\n\t\t}\n\n\t\treturn this[`_${dir}Element`];\n\t}\n\n\tonRowFocused(event) {\n\t\tthis._itemNavigation.setCurrentItem(event.target);\n\t}\n\n\t_onColumnHeaderFocused(event) {\n\t\tthis._itemNavigation.setCurrentItem(this._columnHeader);\n\t}\n\n\t_onColumnHeaderClick(event) {\n\t\tif (!event.target) {\n\t\t\tthis.columnHeader.focus();\n\t\t}\n\n\t\tconst target = getNormalizedTarget(event.target);\n\t\tconst isNestedElement = this.columnHeaderTabbables.includes(target);\n\n\t\tif (!isNestedElement) {\n\t\t\tthis.columnHeader.focus();\n\t\t}\n\t}\n\n\t_onColumnHeaderKeydown(event) {\n\t\tif (isSpace(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.isMultiSelect && this._selectAll();\n\t\t}\n\t}\n\n\t_onLoadMoreKeydown(event) {\n\t\tif (isSpace(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._loadMoreActive = true;\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._onLoadMoreClick();\n\t\t\tthis._loadMoreActive = true;\n\t\t}\n\t}\n\n\t_onLoadMoreKeyup(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis._onLoadMoreClick();\n\t\t}\n\t\tthis._loadMoreActive = false;\n\t}\n\n\t_onLoadMoreClick() {\n\t\tthis.fireEvent(\"load-more\");\n\t}\n\n\tobserveTableEnd() {\n\t\tif (!this.tableEndObserved) {\n\t\t\tthis.getIntersectionObserver().observe(this.tableEndDOM);\n\t\t\tthis.tableEndObserved = true;\n\t\t}\n\t}\n\n\tonInteresection(entries) {\n\t\tif (entries.some(entry => entry.isIntersecting)) {\n\t\t\tdebounce(this.loadMore.bind(this), GROWING_WITH_SCROLL_DEBOUNCE_RATE);\n\t\t}\n\t}\n\n\tloadMore() {\n\t\tthis.fireEvent(\"load-more\");\n\t}\n\n\t_handleSingleSelect(event) {\n\t\tconst row = this.getRowParent(event.target);\n\t\tif (!row.selected) {\n\t\t\tconst previouslySelectedRows = this.selectedRows;\n\t\t\tthis.rows.forEach(item => {\n\t\t\t\tif (item.selected) {\n\t\t\t\t\titem.selected = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\trow.selected = true;\n\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\tselectedRows: [row],\n\t\t\t\tpreviouslySelectedRows,\n\t\t\t});\n\t\t}\n\t}\n\n\t_handleMultiSelect(event) {\n\t\tconst row = this.getRowParent(event.target);\n\t\tconst previouslySelectedRows = this.selectedRows;\n\n\t\trow.selected = !row.selected;\n\n\t\tconst selectedRows = this.selectedRows;\n\n\t\tif (selectedRows.length === this.rows.length) {\n\t\t\tthis._allRowsSelected = true;\n\t\t} else {\n\t\t\tthis._allRowsSelected = false;\n\t\t}\n\n\t\tthis.fireEvent(\"selection-change\", {\n\t\t\tselectedRows,\n\t\t\tpreviouslySelectedRows,\n\t\t});\n\t}\n\n\t_handleSelect(event) {\n\t\tthis[`_handle${this.mode}`](event);\n\t}\n\n\t_selectAll(event) {\n\t\tconst bAllSelected = !this._allRowsSelected;\n\t\tconst previouslySelectedRows = this.rows.filter(row => row.selected);\n\n\t\tthis._allRowsSelected = bAllSelected;\n\n\t\tthis.rows.forEach(row => {\n\t\t\trow.selected = bAllSelected;\n\t\t});\n\n\t\tconst selectedRows = bAllSelected ? this.rows : [];\n\n\t\tthis.fireEvent(\"selection-change\", {\n\t\t\tselectedRows,\n\t\t\tpreviouslySelectedRows,\n\t\t});\n\t}\n\n\tgetRowParent(child) {\n\t\tconst parent = child.parentElement;\n\n\t\tif (child.hasAttribute(\"ui5-table-row\")) {\n\t\t\treturn child;\n\t\t}\n\n\t\tif (parent && parent.hasAttribute(\"ui5-table-row\")) {\n\t\t\treturn parent;\n\t\t}\n\n\t\tthis.getRowParent(parent);\n\t}\n\n\tget columnHeader() {\n\t\treturn this.getDomRef() && this.getDomRef().querySelector(`#${this._id}-columnHeader`);\n\t}\n\n\tget morеBtn() {\n\t\treturn this.growsWithButton && this.getDomRef() && this.getDomRef().querySelector(`#${this._id}-growingButton`);\n\t}\n\n\thandleResize(event) {\n\t\tthis.checkTableInViewport();\n\t\tthis.popinContent(event);\n\t}\n\n\tcheckTableInViewport() {\n\t\tthis._inViewport = isElementInView(this.getDomRef());\n\t}\n\n\tpopinContent(_event) {\n\t\tconst clientRect = this.getDomRef().getBoundingClientRect();\n\t\tconst tableWidth = clientRect.width;\n\t\tconst hiddenColumns = [];\n\t\tconst visibleColumnsIndexes = [];\n\n\t\t// store the hidden columns\n\t\tthis.columns.forEach((column, index) => {\n\t\t\tif (tableWidth < column.minWidth && column.minWidth !== Infinity) {\n\t\t\t\thiddenColumns[index] = {\n\t\t\t\t\tindex,\n\t\t\t\t\tpopinText: column.popinText,\n\t\t\t\t\tdemandPopin: column.demandPopin,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tvisibleColumnsIndexes.push(index);\n\t\t\t}\n\t\t});\n\n\t\tif (visibleColumnsIndexes.length) {\n\t\t\tif (!this.isMultiSelect) {\n\t\t\t\tthis.columns[visibleColumnsIndexes[0]].first = true;\n\t\t\t}\n\t\t\tthis.columns[visibleColumnsIndexes[visibleColumnsIndexes.length - 1]].last = true;\n\t\t}\n\n\t\t// invalidate only if hidden columns count has changed\n\t\tif (this._hiddenColumns.length !== hiddenColumns.length) {\n\t\t\tthis._hiddenColumns = hiddenColumns;\n\t\t\tif (hiddenColumns.length) {\n\t\t\t\tthis.fireEvent(\"popin-change\", {\n\t\t\t\t\tpoppedColumns: this._hiddenColumns,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets settings to be propagated from columns to rows.\n\t *\n\t * @returns {object}\n\t * @memberof Table\n\t */\n\tgetColumnPropagationSettings() {\n\t\treturn this.columns.map((column, index) => {\n\t\t\treturn {\n\t\t\t\tindex,\n\t\t\t\tminWidth: column.minWidth,\n\t\t\t\tdemandPopin: column.demandPopin,\n\t\t\t\ttext: column.textContent,\n\t\t\t\tpopinText: column.popinText,\n\t\t\t\tvisible: !this._hiddenColumns[index],\n\t\t\t};\n\t\t}, this);\n\t}\n\n\tgetIntersectionObserver() {\n\t\tif (!this.growingIntersectionObserver) {\n\t\t\tthis.growingIntersectionObserver = new IntersectionObserver(this.onInteresection.bind(this), {\n\t\t\t\troot: document,\n\t\t\t\trootMargin: \"0px\",\n\t\t\t\tthreshold: 1.0,\n\t\t\t});\n\t\t}\n\n\t\treturn this.growingIntersectionObserver;\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tbusy: {\n\t\t\t\tposition: this.busyIndPosition,\n\t\t\t},\n\t\t};\n\t}\n\n\tget growsWithButton() {\n\t\treturn this.growing === TableGrowingMode.Button;\n\t}\n\n\tget growsOnScroll() {\n\t\treturn this.growing === TableGrowingMode.Scroll;\n\t}\n\n\tget _growingButtonText() {\n\t\treturn this.growingButtonText || Table.i18nBundle.getText(LOAD_MORE_TEXT);\n\t}\n\n\tget ariaLabelText() {\n\t\tconst rowsCount = this.rows.length + 1;\n\t\tconst headerRowText = Table.i18nBundle.getText(TABLE_HEADER_ROW_INFORMATION, rowsCount);\n\t\tconst columnsTitle = this.columns.map(column => {\n\t\t\treturn column.textContent.trim();\n\t\t}).join(\" \");\n\n\t\treturn `${headerRowText} ${columnsTitle}`;\n\t}\n\n\tget tableAriaLabelText() {\n\t\treturn getEffectiveAriaLabelText(this);\n\t}\n\n\tget ariaLabelSelectAllText() {\n\t\treturn Table.i18nBundle.getText(ARIA_LABEL_SELECT_ALL_CHECKBOX);\n\t}\n\n\tget loadMoreAriaLabelledBy() {\n\t\tif (this.moreDataText) {\n\t\t\treturn `${this._id}-growingButton-text ${this._id}-growingButton-subtext`;\n\t\t}\n\n\t\treturn `${this._id}-growingButton-text`;\n\t}\n\n\tget tableEndDOM() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-table-end-marker\");\n\t}\n\n\tget busyIndPosition() {\n\t\treturn this._inViewport ? \"absolute\" : \"sticky\";\n\t}\n\n\tget isMultiSelect() {\n\t\treturn this.mode === \"MultiSelect\";\n\t}\n\n\tget selectedRows() {\n\t\treturn this.rows.filter(row => row.selected);\n\t}\n\n\tget currentItemIdx() {\n\t\treturn this.rows.indexOf(this.currentItem);\n\t}\n\n\tget currentItem() {\n\t\treturn this.getRootNode().activeElement;\n\t}\n\n\tget currentElement() {\n\t\treturn this._itemNavigation._getCurrentItem();\n\t}\n\n\tget columnHeaderTabbables() {\n\t\treturn getTabbableElements(this.columnHeader);\n\t}\n\n\tget columnHeaderLastElement() {\n\t\treturn getLastTabbableElement(this.columnHeader);\n\t}\n}\n\nTable.define();\n\nexport default Table;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,aAAa,MAAM,wDAAwD;AAClF,OAAOC,cAAc,MAAM,yDAAyD;AACpF,OAAOC,OAAO,MAAM,+CAA+C;AACnE,OAAOC,cAAc,MAAM,sDAAsD;AACjF,SACCC,SAAS,EACTC,aAAa,EACbC,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,WAAW,EACXC,UAAU,EACVC,SAAS,EACTC,WAAW,EACXC,UAAU,QACJ,sCAAsC;AAC7C,OAAOC,mBAAmB,MAAM,0DAA0D;AAC1F,OAAOC,gBAAgB,MAAM,uDAAuD;AACpF,SAASC,sBAAsB,EAAEC,mBAAmB,QAAQ,uDAAuD;AACnH,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,eAAe,MAAM,sDAAsD;AAClF,OAAOC,gBAAgB,MAAM,6BAA6B;AAC1D,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,QAAQ,MAAM,eAAe,CAAC,CAAC;;AAEtC;AACA,SACCC,cAAc,EACdC,8BAA8B,EAC9BC,4BAA4B,EAC5BC,kBAAkB,QACZ,mCAAmC;;AAE1C;AACA,OAAOC,aAAa,MAAM,4CAA4C;;AAEtE;AACA,OAAOC,MAAM,MAAM,iCAAiC;AAEpD,MAAMC,iCAAiC,GAAG,GAAG,CAAC,CAAC;;AAE/C,MAAMC,iBAAiB,GAAG,EAAE;;AAE5B;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,WAAW;EAChBC,YAAY,EAAE,IAAI;EAClBC,cAAc,EAAE,IAAI;EACpBC,KAAK,EAAE,uDAAwD;IAE9D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,SAAS,EAAE;MACVC,YAAY,EAAE,MAAM;MACpBC,IAAI,EAAEC,WAAW;MACjBC,eAAe,EAAE,IAAI;MACrBC,uBAAuB,EAAE;IAC1B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACRJ,IAAI,EAAEC,WAAW;MACjBC,eAAe,EAAE,IAAI;MACrBC,uBAAuB,EAAE;QACxBE,UAAU,EAAE,IAAI;QAChBP,KAAK,EAAE;MACR;IACD;EACD,CAAC;EACDO,UAAU,EAAE,uDAAwD;IAEnE;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXN,IAAI,EAAEO;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBR,IAAI,EAAEO;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACGE,oBAAoB,EAAE;MACtBT,IAAI,EAAEO;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEG,UAAU,EAAE;MACXV,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACRZ,IAAI,EAAElB,gBAAgB;MACtB+B,YAAY,EAAE/B,gBAAgB,CAACgC;IAChC,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,IAAI,EAAE;MACLf,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEK,SAAS,EAAE;MACVhB,IAAI,EAAEzC,OAAO;MACbsD,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEI,kBAAkB,EAAE;MACnBjB,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEO,IAAI,EAAE;MACLlB,IAAI,EAAEhB,SAAS;MACf6B,YAAY,EAAE7B,SAAS,CAAC8B;IACzB,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEK,cAAc,EAAE;MACfnB,IAAI,EAAEO,MAAM;MACZM,YAAY,EAAEO;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBrB,IAAI,EAAEO,MAAM;MACZM,YAAY,EAAE;IACf,CAAC;IAEDS,cAAc,EAAE;MACftB,IAAI,EAAEuB,MAAM;MACZC,QAAQ,EAAE;IACX,CAAC;IAEDC,gBAAgB,EAAE;MACjBzB,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;IACEe,eAAe,EAAE;MAChB1B,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;IACEgB,aAAa,EAAE;MACd3B,IAAI,EAAEuB;IACP,CAAC;IAED;AACF;AACA;AACA;IACEK,WAAW,EAAE;MACZ5B,IAAI,EAAEW;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEkB,gBAAgB,EAAE;MACjB7B,IAAI,EAAEW;IACP;EACD,CAAC;EACDmB,MAAM,EAAE,uDAAwD;IAC/D;AACF;AACA;AACA;AACA;AACA;AACA;IACE,WAAW,EAAE;MACZC,MAAM,EAAE;QACPC,GAAG,EAAE;UAAEhC,IAAI,EAAEC;QAAY;MAC1B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,cAAc,EAAE;MACf8B,MAAM,EAAE;QACPE,aAAa,EAAE,CAAC;MACjB;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,WAAW,EAAE,CAAC,CAAC;IAEf;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,kBAAkB,EAAE;MACnBF,MAAM,EAAE;QACPG,YAAY,EAAE;UAAElC,IAAI,EAAEmC;QAAM,CAAC;QAC7BC,sBAAsB,EAAE;UAAEpC,IAAI,EAAEmC;QAAM;MACv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"},"metadata":{},"sourceType":"module"}