{"ast":null,"code":"import { getI18nBundle } from '@ui5/webcomponents-base/dist/i18nBundle.js';\nimport { attachLanguageChange, detachLanguageChange } from '@ui5/webcomponents-base/dist/locale/languageChange.js';\nimport { getI18nContext } from '@ui5/webcomponents-react-base';\nimport React, { useCallback, useEffect, useReducer, useRef } from 'react';\nconst bundleReducer = (currentBundles, action) => {\n  return Object.assign(Object.assign({}, currentBundles), action.payload);\n};\nexport function I18nProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [i18nBundles, setI18nBundles] = useReducer(bundleReducer, {});\n  const localBundles = useRef({});\n  const isMounted = useRef(false);\n  const updateBundles = useCallback(() => {\n    Promise.all(Object.keys(localBundles.current).map(bundleName => getI18nBundle(bundleName))).then(bundles => {\n      const bundleMap = bundles.reduce((acc, bundle) => Object.assign(Object.assign({}, acc), {\n        [bundle.packageName]: bundle\n      }), {});\n      if (isMounted.current) {\n        setI18nBundles({\n          payload: bundleMap\n        });\n      }\n    });\n  }, []);\n  const setI18nBundle = useCallback((name, bundle) => {\n    localBundles.current[name] = bundle;\n    updateBundles();\n  }, []);\n  useEffect(() => {\n    isMounted.current = true;\n    attachLanguageChange(updateBundles);\n    return () => {\n      isMounted.current = false;\n      detachLanguageChange(updateBundles);\n    };\n  }, []);\n  const Context = getI18nContext();\n  return React.createElement(Context.Provider, {\n    value: {\n      i18nBundles,\n      setI18nBundle\n    }\n  }, children);\n}","map":{"version":3,"names":["getI18nBundle","attachLanguageChange","detachLanguageChange","getI18nContext","React","useCallback","useEffect","useReducer","useRef","bundleReducer","currentBundles","action","Object","assign","payload","I18nProvider","children","i18nBundles","setI18nBundles","localBundles","isMounted","updateBundles","Promise","all","keys","current","map","bundleName","then","bundles","bundleMap","reduce","acc","bundle","packageName","setI18nBundle","name","Context","createElement","Provider","value"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/internal/I18nProvider.js"],"sourcesContent":["import { getI18nBundle } from '@ui5/webcomponents-base/dist/i18nBundle.js';\nimport { attachLanguageChange, detachLanguageChange } from '@ui5/webcomponents-base/dist/locale/languageChange.js';\nimport { getI18nContext } from '@ui5/webcomponents-react-base';\nimport React, { useCallback, useEffect, useReducer, useRef } from 'react';\nconst bundleReducer = (currentBundles, action) => {\n    return Object.assign(Object.assign({}, currentBundles), action.payload);\n};\nexport function I18nProvider({ children }) {\n    const [i18nBundles, setI18nBundles] = useReducer(bundleReducer, {});\n    const localBundles = useRef({});\n    const isMounted = useRef(false);\n    const updateBundles = useCallback(() => {\n        Promise.all(Object.keys(localBundles.current).map((bundleName) => getI18nBundle(bundleName))).then((bundles) => {\n            const bundleMap = bundles.reduce((acc, bundle) => (Object.assign(Object.assign({}, acc), { [bundle.packageName]: bundle })), {});\n            if (isMounted.current) {\n                setI18nBundles({\n                    payload: bundleMap\n                });\n            }\n        });\n    }, []);\n    const setI18nBundle = useCallback((name, bundle) => {\n        localBundles.current[name] = bundle;\n        updateBundles();\n    }, []);\n    useEffect(() => {\n        isMounted.current = true;\n        attachLanguageChange(updateBundles);\n        return () => {\n            isMounted.current = false;\n            detachLanguageChange(updateBundles);\n        };\n    }, []);\n    const Context = getI18nContext();\n    return (React.createElement(Context.Provider, { value: {\n            i18nBundles,\n            setI18nBundle\n        } }, children));\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,oBAAoB,EAAEC,oBAAoB,QAAQ,uDAAuD;AAClH,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,OAAOC,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AACzE,MAAMC,aAAa,GAAG,CAACC,cAAc,EAAEC,MAAM,KAAK;EAC9C,OAAOC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,cAAc,CAAC,EAAEC,MAAM,CAACG,OAAO,CAAC;AAC3E,CAAC;AACD,OAAO,SAASC,YAAY,OAAe;EAAA,IAAd;IAAEC;EAAS,CAAC;EACrC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,UAAU,CAACE,aAAa,EAAE,CAAC,CAAC,CAAC;EACnE,MAAMU,YAAY,GAAGX,MAAM,CAAC,CAAC,CAAC,CAAC;EAC/B,MAAMY,SAAS,GAAGZ,MAAM,CAAC,KAAK,CAAC;EAC/B,MAAMa,aAAa,GAAGhB,WAAW,CAAC,MAAM;IACpCiB,OAAO,CAACC,GAAG,CAACX,MAAM,CAACY,IAAI,CAACL,YAAY,CAACM,OAAO,CAAC,CAACC,GAAG,CAAEC,UAAU,IAAK3B,aAAa,CAAC2B,UAAU,CAAC,CAAC,CAAC,CAACC,IAAI,CAAEC,OAAO,IAAK;MAC5G,MAAMC,SAAS,GAAGD,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAMrB,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEmB,GAAG,CAAC,EAAE;QAAE,CAACC,MAAM,CAACC,WAAW,GAAGD;MAAO,CAAC,CAAE,EAAE,CAAC,CAAC,CAAC;MAChI,IAAIb,SAAS,CAACK,OAAO,EAAE;QACnBP,cAAc,CAAC;UACXJ,OAAO,EAAEgB;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,MAAMK,aAAa,GAAG9B,WAAW,CAAC,CAAC+B,IAAI,EAAEH,MAAM,KAAK;IAChDd,YAAY,CAACM,OAAO,CAACW,IAAI,CAAC,GAAGH,MAAM;IACnCZ,aAAa,EAAE;EACnB,CAAC,EAAE,EAAE,CAAC;EACNf,SAAS,CAAC,MAAM;IACZc,SAAS,CAACK,OAAO,GAAG,IAAI;IACxBxB,oBAAoB,CAACoB,aAAa,CAAC;IACnC,OAAO,MAAM;MACTD,SAAS,CAACK,OAAO,GAAG,KAAK;MACzBvB,oBAAoB,CAACmB,aAAa,CAAC;IACvC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN,MAAMgB,OAAO,GAAGlC,cAAc,EAAE;EAChC,OAAQC,KAAK,CAACkC,aAAa,CAACD,OAAO,CAACE,QAAQ,EAAE;IAAEC,KAAK,EAAE;MAC/CvB,WAAW;MACXkB;IACJ;EAAE,CAAC,EAAEnB,QAAQ,CAAC;AACtB"},"metadata":{},"sourceType":"module"}