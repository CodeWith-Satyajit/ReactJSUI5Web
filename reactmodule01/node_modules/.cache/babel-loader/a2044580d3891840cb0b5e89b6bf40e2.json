{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isPhone, isAndroid, isSafari } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport announce from \"@ui5/webcomponents-base/dist/util/InvisibleMessage.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/not-editable.js\";\nimport \"@ui5/webcomponents-icons/dist/error.js\";\nimport \"@ui5/webcomponents-icons/dist/alert.js\";\nimport \"@ui5/webcomponents-icons/dist/sys-enter-2.js\";\nimport \"@ui5/webcomponents-icons/dist/information.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport { isBackSpace, isDelete, isShow, isUp, isDown, isEnter, isEscape, isTabNext, isTabPrevious, isPageUp, isPageDown, isHome, isEnd } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport * as Filters from \"./Filters.js\";\nimport { VALUE_STATE_SUCCESS, VALUE_STATE_ERROR, VALUE_STATE_WARNING, VALUE_STATE_INFORMATION, VALUE_STATE_TYPE_SUCCESS, VALUE_STATE_TYPE_INFORMATION, VALUE_STATE_TYPE_ERROR, VALUE_STATE_TYPE_WARNING, INPUT_SUGGESTIONS_TITLE, SELECT_OPTIONS, LIST_ITEM_POSITION, LIST_ITEM_GROUP_HEADER } from \"./generated/i18n/i18n-defaults.js\";\n\n// Templates\nimport ComboBoxTemplate from \"./generated/templates/ComboBoxTemplate.lit.js\";\nimport ComboBoxPopoverTemplate from \"./generated/templates/ComboBoxPopoverTemplate.lit.js\";\n\n// Styles\nimport ComboBoxCss from \"./generated/themes/ComboBox.css.js\";\nimport ComboBoxPopoverCss from \"./generated/themes/ComboBoxPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\nimport ComboBoxItem from \"./ComboBoxItem.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ComboBoxGroupItem from \"./ComboBoxGroupItem.js\";\nimport GroupHeaderListItem from \"./GroupHeaderListItem.js\";\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-combobox\",\n  languageAware: true,\n  properties: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */{\n    /**\n     * Defines the value of the component.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @formEvents change input\n     * @formProperty\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: \"\"\n    },\n    /**\n     * Defines the \"live\" value of the component.\n     * <br><br>\n     * <b>Note:</b> If we have an item e.g. \"Bulgaria\", \"B\" is typed, \"ulgaria\" is typed ahead, value will be \"Bulgaria\", filterValue will be \"B\".\n     *\n     * <br><br>\n     * <b>Note:</b> Initially the filter value is synced with value.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @private\n     */\n    filterValue: {\n      type: String,\n      defaultValue: \"\"\n    },\n    /**\n     * Defines a short hint intended to aid the user with data entry when the\n     * component has no value.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: \"\"\n    },\n    /**\n     * Defines whether the component is in disabled state.\n     * <br><br>\n     * <b>Note:</b> A disabled component is completely noninteractive.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n    /**\n     * Defines the value state of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.base.types.ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n    /**\n     * Defines whether the component is read-only.\n     * <br><br>\n     * <b>Note:</b> A read-only component is not editable,\n     * but still provides visual feedback upon user interaction.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n    /**\n     * Defines whether the component is required.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    required: {\n      type: Boolean\n    },\n    /**\n     * Indicates whether a loading indicator should be shown in the picker.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    loading: {\n      type: Boolean\n    },\n    /**\n     * Defines the filter type of the component.\n     * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code> and <code>Contains</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"StartsWithPerTerm\"\n     * @public\n     */\n    filter: {\n      type: String,\n      defaultValue: \"StartsWithPerTerm\"\n    },\n    /**\n     * Indicates whether the input is focssed\n     * @private\n     */\n    focused: {\n      type: Boolean\n    },\n    /**\n     * Indicates whether the visual focus is on the value state header\n     * @private\n     */\n    _isValueStateFocused: {\n      type: Boolean\n    },\n    /**\n     * Defines the accessible ARIA name of the component.\n     *\n     * @type {string}\n     * @defaultvalue: \"\"\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    accessibleName: {\n      type: String,\n      defaultValue: undefined\n    },\n    /**\n     * Receives id(or many ids) of the elements that label the component\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    accessibleNameRef: {\n      type: String,\n      defaultValue: \"\"\n    },\n    _iconPressed: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _filteredItems: {\n      type: Object\n    },\n    _listWidth: {\n      type: Integer,\n      defaultValue: 0,\n      noAttribute: true\n    }\n  },\n  managedSlots: true,\n  slots: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */{\n    /**\n     * Defines the component items.\n     *\n     * @type {sap.ui.webcomponents.main.IComboBoxItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      invalidateOnChildChange: true\n    },\n    /**\n     * Defines the value state message that will be displayed as pop up under the component.\n     * <br><br>\n     *\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     * <br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n     * when the <code>ui5-combobox</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n     * @type {HTMLElement[]}\n     * @since 1.0.0-rc.9\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    },\n    /**\n     * Defines the icon to be displayed in the input field.\n     *\n     * @type {sap.ui.webcomponents.main.IIcon}\n     * @slot\n     * @public\n     * @since 1.0.0-rc.9\n     */\n    icon: {\n      type: HTMLElement\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */{\n    /**\n     * Fired when the input operation has finished by pressing Enter, focusout or an item is selected.\n     *\n     * @event\n     * @public\n     */\n    change: {},\n    /**\n     * Fired when typing in input.\n     * <br><br>\n     * <b>Note:</b> filterValue property is updated, input is changed.\n     * @event\n     * @public\n     */\n    input: {},\n    /**\n     * Fired when selection is changed by user interaction\n     *\n     * @event sap.ui.webcomponents.main.ComboBox#selection-change\n     * @param {HTMLElement} item item to be selected.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    }\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-combobox</code> component represents a drop-down menu with a list of the available options and a text input field to narrow down the options.\n *\n * It is commonly used to enable users to select an option from a predefined list.\n *\n * <h3>Structure</h3>\n * The <code>ui5-combobox</code> consists of the following elements:\n * <ul>\n * <li> Input field - displays the selected option or a custom user entry. Users can type to narrow down the list or enter their own value.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n *\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-combobox</code> provides advanced keyboard handling.\n * <br>\n *\n * <ul>\n * <li>[F4], [ALT]+[UP], or [ALT]+[DOWN] - Toggles the picker.</li>\n * <li>[ESC] - Closes the picker, if open. If closed, cancels changes and reverts the typed in value.</li>\n * <li>[ENTER] or [RETURN] - If picker is open, takes over the currently selected item and closes it.</li>\n * <li>[DOWN] - Selects the next matching item in the picker.</li>\n * <li>[UP] - Selects the previous matching item in the picker.</li>\n * <li>[PAGEDOWN] - Moves selection down by page size (10 items by default).</li>\n * <li>[PAGEUP] - Moves selection up by page size (10 items by default). </li>\n * <li>[HOME] - If focus is in the ComboBox, moves cursor at the beginning of text. If focus is in the picker, selects the first item.</li>\n * <li>[END] - If focus is in the ComboBox, moves cursor at the end of text. If focus is in the picker, selects the last item.</li>\n * </ul>\n *\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/ComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ComboBox\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-combobox\n * @appenddocs ComboBoxItem ComboBoxGroupItem\n * @public\n * @since 1.0.0-rc.6\n */\nclass ComboBox extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get styles() {\n    return ComboBoxCss;\n  }\n  static get staticAreaStyles() {\n    return [ResponsivePopoverCommonCss, ValueStateMessageCss, ComboBoxPopoverCss, SuggestionsCss];\n  }\n  static get template() {\n    return ComboBoxTemplate;\n  }\n  static get staticAreaTemplate() {\n    return ComboBoxPopoverTemplate;\n  }\n  constructor(props) {\n    super(props);\n    this._filteredItems = [];\n    this._initialRendering = true;\n    this._itemFocused = false;\n    this._selectionChanged = false;\n    this.FormSupport = undefined;\n  }\n  onBeforeRendering() {\n    this.FormSupport = getFeature(\"FormSupport\");\n    if (this._initialRendering) {\n      this._filteredItems = this.items;\n    }\n    if (!this._initialRendering && this.popover && document.activeElement === this && !this._filteredItems.length) {\n      this.popover.close();\n    }\n    this._selectMatchingItem();\n    this._initialRendering = false;\n  }\n  async onAfterRendering() {\n    await this._respPopover();\n    if (isPhone() && this.responsivePopover.opened) {\n      // Set initial focus to the native input\n      this.inner.focus();\n    }\n    if (this.shouldClosePopover() && !isPhone()) {\n      this.responsivePopover.close(false, false, true);\n      this._clearFocus();\n      this._itemFocused = false;\n    }\n    this.toggleValueStatePopover(this.shouldOpenValueStateMessagePopover);\n    this.storeResponsivePopoverWidth();\n\n    // Safari is quite slow and does not preserve text highlighting on control rerendering.\n    // That's why we need to restore it \"manually\".\n    if (isSafari() && this._autocomplete && this.filterValue !== this.value) {\n      this.inner.setSelectionRange(this._isKeyNavigation ? 0 : this.filterValue.length, this.value.length);\n    }\n  }\n  shouldClosePopover() {\n    return this.responsivePopover.opened && !this.focused && !this._itemFocused && !this._isValueStateFocused;\n  }\n  _focusin(event) {\n    this.focused = true;\n    this._lastValue = this.value;\n    this._autocomplete = false;\n    !isPhone() && event.target.setSelectionRange(0, this.value.length);\n  }\n  _focusout(event) {\n    const focusedOutToValueStateMessage = event.relatedTarget && event.relatedTarget.shadowRoot && event.relatedTarget.shadowRoot.querySelector(\".ui5-valuestatemessage-root\");\n    this._fireChangeEvent();\n    if (focusedOutToValueStateMessage) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    if (!this.shadowRoot.contains(event.relatedTarget) && this.staticAreaItem !== event.relatedTarget) {\n      this.focused = false;\n      !isPhone() && this._closeRespPopover(event);\n    }\n  }\n  _afterOpenPopover() {\n    this._iconPressed = true;\n  }\n  _afterClosePopover() {\n    this._iconPressed = false;\n    this._filteredItems = this.items;\n\n    // close device's keyboard and prevent further typing\n    if (isPhone()) {\n      this.blur();\n    }\n    if (this._selectionPerformed) {\n      this._lastValue = this.value;\n      this._selectionPerformed = false;\n    }\n  }\n  _toggleRespPopover() {\n    if (this.responsivePopover.opened) {\n      this._closeRespPopover();\n    } else {\n      this._openRespPopover();\n    }\n  }\n  storeResponsivePopoverWidth() {\n    if (this.open && !this._listWidth) {\n      this._listWidth = this.responsivePopover.offsetWidth;\n    }\n  }\n  toggleValueStatePopover(open) {\n    if (open) {\n      this.openValueStatePopover();\n    } else {\n      this.closeValueStatePopover();\n    }\n  }\n  async openValueStatePopover() {\n    this.popover = await this._getPopover();\n    this.popover && this.popover.showAt(this);\n  }\n  async closeValueStatePopover() {\n    this.popover = await this._getPopover();\n    this.popover && this.popover.close();\n  }\n  async _getPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    return staticAreaItem.querySelector(\".ui5-valuestatemessage-popover\");\n  }\n  _resetFilter() {\n    this._userTypedValue = null;\n    this.inner.setSelectionRange(0, this.value.length);\n    this._filteredItems = this._filterItems(\"\");\n    this._selectMatchingItem();\n  }\n  _arrowClick() {\n    this.inner.focus();\n    this._resetFilter();\n    if (isPhone() && this.value && !this._lastValue) {\n      this._lastValue = this.value;\n    }\n    this._toggleRespPopover();\n  }\n  _input(event) {\n    const {\n      value\n    } = event.target;\n    if (event.target === this.inner) {\n      // stop the native event, as the semantic \"input\" would be fired.\n      event.stopImmediatePropagation();\n      this.focused = true;\n      this._isValueStateFocused = false;\n    }\n    this._filteredItems = this._filterItems(value);\n    this.value = value;\n    this.filterValue = value;\n    this._clearFocus();\n\n    // autocomplete\n    if (this._autocomplete && !isAndroid()) {\n      const item = this._getFirstMatchingItem(value);\n      this._applyAtomicValueAndSelection(item, value, true);\n      if (value !== \"\" && !this._selectionChanged && item && !item.selected && !item.isGroupItem) {\n        this.fireEvent(\"selection-change\", {\n          item\n        });\n        this._selectionChanged = false;\n      }\n    }\n    this.fireEvent(\"input\");\n    if (isPhone()) {\n      return;\n    }\n    if (!this._filteredItems.length || value === \"\") {\n      this._closeRespPopover();\n    } else {\n      this._openRespPopover();\n    }\n  }\n  _startsWithMatchingItems(str) {\n    return Filters.StartsWith(str, this._filteredItems, \"text\");\n  }\n  _clearFocus() {\n    this._filteredItems.map(item => {\n      item.focused = false;\n      return item;\n    });\n  }\n  handleNavKeyPress(event) {\n    if (this.focused && (isHome(event) || isEnd(event)) && this.value) {\n      return;\n    }\n    const isOpen = this.open;\n    const currentItem = this._filteredItems.find(item => {\n      return isOpen ? item.focused : item.selected;\n    });\n    const indexOfItem = this._filteredItems.indexOf(currentItem);\n    event.preventDefault();\n    if (this.focused && isOpen && (isUp(event) || isPageUp(event) || isPageDown(event))) {\n      return;\n    }\n    if (this._filteredItems.length - 1 === indexOfItem && isDown(event)) {\n      return;\n    }\n    this._isKeyNavigation = true;\n    this[`_handle${event.key}`](event, indexOfItem);\n  }\n  _handleItemNavigation(event, indexOfItem, isForward) {\n    const isOpen = this.open;\n    const currentItem = this._filteredItems[indexOfItem];\n    const nextItem = isForward ? this._filteredItems[indexOfItem + 1] : this._filteredItems[indexOfItem - 1];\n    const isGroupItem = currentItem && currentItem.isGroupItem;\n    if (!isOpen && (isGroupItem && !nextItem || !isGroupItem && !currentItem)) {\n      return;\n    }\n    this._clearFocus();\n    if (isOpen) {\n      this._itemFocused = true;\n      this.value = isGroupItem ? \"\" : currentItem.text;\n      this.focused = false;\n      currentItem.focused = true;\n    } else {\n      this.focused = true;\n      this.value = isGroupItem ? nextItem.text : currentItem.text;\n      currentItem.focused = false;\n    }\n    this._isValueStateFocused = false;\n    this._selectionChanged = true;\n    this._announceSelectedItem(indexOfItem);\n    if (isGroupItem && isOpen) {\n      return;\n    }\n\n    // autocomplete\n    const item = this._getFirstMatchingItem(this.value);\n    this._applyAtomicValueAndSelection(item, this.open ? this._userTypedValue : null, true);\n    if (item && !item.selected) {\n      this.fireEvent(\"selection-change\", {\n        item\n      });\n    }\n    this.fireEvent(\"input\");\n    this._fireChangeEvent();\n  }\n  _handleArrowDown(event, indexOfItem) {\n    const isOpen = this.open;\n    if (this.focused && indexOfItem === -1 && this.hasValueStateText && isOpen) {\n      this._isValueStateFocused = true;\n      this.focused = false;\n      return;\n    }\n    indexOfItem = !isOpen && this.hasValueState && indexOfItem === -1 ? 0 : indexOfItem;\n    this._handleItemNavigation(event, ++indexOfItem, true /* isForward */);\n  }\n\n  _handleArrowUp(event, indexOfItem) {\n    const isOpen = this.open;\n    if (indexOfItem === 0 && !this.hasValueStateText) {\n      this._clearFocus();\n      this.focused = true;\n      this._itemFocused = false;\n      return;\n    }\n    if (indexOfItem === 0 && this.hasValueStateText && isOpen) {\n      this._clearFocus();\n      this._itemFocused = false;\n      this._isValueStateFocused = true;\n      this._filteredItems[0].selected = false;\n      return;\n    }\n    if (this._isValueStateFocused) {\n      this.focused = true;\n      this._isValueStateFocused = false;\n      return;\n    }\n    indexOfItem = !isOpen && this.hasValueState && indexOfItem === -1 ? 0 : indexOfItem;\n    this._handleItemNavigation(event, --indexOfItem, false /* isForward */);\n  }\n\n  _handlePageUp(event, indexOfItem) {\n    const isProposedIndexValid = indexOfItem - ComboBox.SKIP_ITEMS_SIZE > -1;\n    indexOfItem = isProposedIndexValid ? indexOfItem - ComboBox.SKIP_ITEMS_SIZE : 0;\n    const shouldMoveForward = this._filteredItems[indexOfItem].isGroupItem && !this.open;\n    if (!isProposedIndexValid && this.hasValueStateText && this.open) {\n      this._clearFocus();\n      this._itemFocused = false;\n      this._isValueStateFocused = true;\n      return;\n    }\n    this._handleItemNavigation(event, indexOfItem, shouldMoveForward);\n  }\n  _handlePageDown(event, indexOfItem) {\n    const itemsLength = this._filteredItems.length;\n    const isProposedIndexValid = indexOfItem + ComboBox.SKIP_ITEMS_SIZE < itemsLength;\n    indexOfItem = isProposedIndexValid ? indexOfItem + ComboBox.SKIP_ITEMS_SIZE : itemsLength - 1;\n    const shouldMoveForward = this._filteredItems[indexOfItem].isGroupItem && !this.open;\n    this._handleItemNavigation(event, indexOfItem, shouldMoveForward);\n  }\n  _handleHome(event, indexOfItem) {\n    const shouldMoveForward = this._filteredItems[0].isGroupItem && !this.open;\n    if (this.hasValueStateText && this.open) {\n      this._clearFocus();\n      this._itemFocused = false;\n      this._isValueStateFocused = true;\n      return;\n    }\n    this._handleItemNavigation(event, indexOfItem = 0, shouldMoveForward);\n  }\n  _handleEnd(event, indexOfItem) {\n    this._handleItemNavigation(event, indexOfItem = this._filteredItems.length - 1, true /* isForward */);\n  }\n\n  _keyup(event) {\n    this._userTypedValue = this.value.substring(0, this.inner.selectionStart);\n  }\n  _keydown(event) {\n    const isNavKey = isDown(event) || isUp(event) || isPageUp(event) || isPageDown(event) || isHome(event) || isEnd(event);\n    this._autocomplete = !(isBackSpace(event) || isDelete(event));\n    this._isKeyNavigation = false;\n    if (isNavKey && !this.readonly && this._filteredItems.length) {\n      this.handleNavKeyPress(event);\n    }\n    if (isEnter(event)) {\n      this._fireChangeEvent();\n      if (this.responsivePopover.opened) {\n        this._closeRespPopover();\n        this.focused = true;\n      } else if (this.FormSupport) {\n        this.FormSupport.triggerFormSubmit(this);\n      }\n    }\n    if (isEscape(event)) {\n      this.focused = true;\n      this.value = !this.open ? this._lastValue : this.value;\n      this._isValueStateFocused = false;\n    }\n    if ((isTabNext(event) || isTabPrevious(event)) && this.open) {\n      this._closeRespPopover();\n    }\n    if (isShow(event) && !this.readonly && !this.disabled) {\n      event.preventDefault();\n      this._resetFilter();\n      this._toggleRespPopover();\n      const selectedItem = this._filteredItems.find(item => {\n        return item.selected;\n      });\n      if (selectedItem && this.open) {\n        this._itemFocused = true;\n        selectedItem.focused = true;\n        this.focused = false;\n      } else if (this.open && this._filteredItems.length) {\n        // If no item is selected, select the first one on \"Show\" (F4, Alt+Up/Down)\n        this._handleItemNavigation(event, 0, true /* isForward */);\n      } else {\n        this.focused = true;\n      }\n    }\n  }\n  _click(event) {\n    if (isPhone() && !this.readonly) {\n      this._openRespPopover();\n    }\n  }\n  _closeRespPopover(event) {\n    if (event && event.target.classList.contains(\"ui5-responsive-popover-close-btn\") && this._selectedItemText) {\n      this.value = this._selectedItemText;\n      this.filterValue = this._selectedItemText;\n    }\n    if (event && event.target.classList.contains(\"ui5-responsive-popover-close-btn\")) {\n      this.value = this._lastValue ? this._lastValue : \"\";\n      this.filterValue = this._lastValue ? this._lastValue : \"\";\n    }\n    if (isPhone()) {\n      this._fireChangeEvent();\n    }\n    this._isValueStateFocused = false;\n    this._clearFocus();\n    this.responsivePopover.close();\n  }\n  _openRespPopover() {\n    this.responsivePopover.showAt(this);\n  }\n  _filterItems(str) {\n    const itemsToFilter = this.items.filter(item => !item.isGroupItem);\n    const filteredItems = (Filters[this.filter] || Filters.StartsWithPerTerm)(str, itemsToFilter, \"text\");\n\n    // Return the filtered items and their group items\n    return this.items.filter((item, idx, allItems) => ComboBox._groupItemFilter(item, ++idx, allItems, filteredItems) || filteredItems.indexOf(item) !== -1);\n  }\n\n  /**\n   * Returns true if the group header should be shown (if there is a filtered suggestion item for this group item)\n   *\n   * @private\n   */\n  static _groupItemFilter(item, idx, allItems, filteredItems) {\n    if (item.isGroupItem) {\n      let groupHasFilteredItems;\n      while (allItems[idx] && !allItems[idx].isGroupItem && !groupHasFilteredItems) {\n        groupHasFilteredItems = filteredItems.indexOf(allItems[idx]) !== -1;\n        idx++;\n      }\n      return groupHasFilteredItems;\n    }\n  }\n  _getFirstMatchingItem(current) {\n    const currentlyFocusedItem = this.items.find(item => item.focused === true);\n    if (currentlyFocusedItem && currentlyFocusedItem.isGroupItem) {\n      this.value = this.filterValue;\n      return;\n    }\n    const matchingItems = this._startsWithMatchingItems(current).filter(item => !item.isGroupItem);\n    if (matchingItems.length) {\n      return matchingItems[0];\n    }\n  }\n  _applyAtomicValueAndSelection(item, filterValue, highlightValue) {\n    if (!item) {\n      return;\n    }\n    const value = item && item.text || \"\";\n    this.inner.value = value;\n    if (highlightValue) {\n      filterValue = filterValue || \"\";\n      this.inner.setSelectionRange(filterValue.length, value.length);\n    }\n    this.value = value;\n  }\n  _selectMatchingItem() {\n    const currentlyFocusedItem = this.items.find(item => item.focused);\n    const shouldSelectionBeCleared = currentlyFocusedItem && currentlyFocusedItem.isGroupItem;\n    this._filteredItems = this._filteredItems.map(item => {\n      item.selected = !item.isGroupItem && item.text === this.value && !shouldSelectionBeCleared;\n      return item;\n    });\n  }\n  _fireChangeEvent() {\n    if (this.value !== this._lastValue) {\n      this.fireEvent(\"change\");\n      this._lastValue = this.value;\n    }\n  }\n  _inputChange(event) {\n    event.preventDefault();\n  }\n  _itemMousedown(event) {\n    event.preventDefault();\n  }\n  _selectItem(event) {\n    const listItem = event.detail.item;\n    this._selectedItemText = listItem.mappedItem.text;\n    this._selectionPerformed = true;\n    const sameItemSelected = this.value === this._selectedItemText;\n    const sameSelectionPerformed = this.value.toLowerCase() === this.filterValue.toLowerCase();\n    if (sameItemSelected && sameSelectionPerformed) {\n      this._fireChangeEvent(); // Click on an already typed, but not memoized value shouold also trigger the change event\n      return this._closeRespPopover();\n    }\n    this.value = this._selectedItemText;\n    if (!listItem.mappedItem.selected) {\n      this.fireEvent(\"selection-change\", {\n        item: listItem.mappedItem\n      });\n      this._selectionChanged = true;\n    }\n    this._filteredItems.map(item => {\n      item.selected = item === listItem.mappedItem && !item.isGroupItem;\n      return item;\n    });\n    this._fireChangeEvent();\n    this._closeRespPopover();\n\n    // reset selection\n    this.inner.setSelectionRange(this.value.length, this.value.length);\n  }\n  _onItemFocus(event) {\n    this._itemFocused = true;\n  }\n  _announceSelectedItem(indexOfItem) {\n    const currentItem = this._filteredItems[indexOfItem];\n    const currentItemAdditionalText = currentItem.additionalText;\n    const isGroupItem = currentItem && currentItem.isGroupItem;\n    const itemPositionText = ComboBox.i18nBundle.getText(LIST_ITEM_POSITION, indexOfItem + 1, this._filteredItems.length);\n    const groupHeaderText = ComboBox.i18nBundle.getText(LIST_ITEM_GROUP_HEADER);\n    if (isGroupItem) {\n      announce(`${groupHeaderText} ${currentItem.text} ${itemPositionText}`, \"Polite\");\n    } else {\n      announce(`${currentItemAdditionalText} ${itemPositionText}`.trim(), \"Polite\");\n    }\n  }\n  get _headerTitleText() {\n    return ComboBox.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n  }\n  get _iconAccessibleNameText() {\n    return ComboBox.i18nBundle.getText(SELECT_OPTIONS);\n  }\n  get inner() {\n    return isPhone() ? this.responsivePopover.querySelector(\".ui5-input-inner-phone\") : this.shadowRoot.querySelector(\"[inner-input]\");\n  }\n  async _respPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    this.responsivePopover = staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n    return this.responsivePopover;\n  }\n  get editable() {\n    return !this.readonly;\n  }\n  get hasValueState() {\n    return this.valueState !== ValueState.None;\n  }\n  get hasValueStateText() {\n    return this.hasValueState && this.valueState !== ValueState.Success;\n  }\n  get ariaValueStateHiddenText() {\n    if (!this.hasValueState) {\n      return;\n    }\n    if (this.shouldDisplayDefaultValueStateMessage) {\n      return `${this.valueStateTypeMappings[this.valueState]} ${this.valueStateDefaultText}`;\n    }\n    return `${this.valueStateTypeMappings[this.valueState]}`.concat(\" \", this.valueStateMessageText.map(el => el.textContent).join(\" \"));\n  }\n  get valueStateDefaultText() {\n    return this.valueStateTextMappings[this.valueState];\n  }\n  get valueStateMessageText() {\n    return this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n  }\n  get valueStateTextId() {\n    return this.hasValueState ? `${this._id}-valueStateDesc` : undefined;\n  }\n  get valueStateTextMappings() {\n    return {\n      \"Success\": ComboBox.i18nBundle.getText(VALUE_STATE_SUCCESS),\n      \"Error\": ComboBox.i18nBundle.getText(VALUE_STATE_ERROR),\n      \"Warning\": ComboBox.i18nBundle.getText(VALUE_STATE_WARNING),\n      \"Information\": ComboBox.i18nBundle.getText(VALUE_STATE_INFORMATION)\n    };\n  }\n  get valueStateTypeMappings() {\n    return {\n      \"Success\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_SUCCESS),\n      \"Information\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_INFORMATION),\n      \"Error\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_ERROR),\n      \"Warning\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_WARNING)\n    };\n  }\n  get shouldOpenValueStateMessagePopover() {\n    return this.focused && !this.readonly && this.hasValueStateText && !this._iconPressed && !this.open && !this._isPhone;\n  }\n  get shouldDisplayDefaultValueStateMessage() {\n    return !this.valueStateMessage.length && this.hasValueStateText;\n  }\n  get _valueStatePopoverHorizontalAlign() {\n    return this.effectiveDir !== \"rtl\" ? \"Left\" : \"Right\";\n  }\n\n  /**\n   * This method is relevant for sap_horizon theme only\n   */\n  get _valueStateMessageIcon() {\n    const iconPerValueState = {\n      Error: \"error\",\n      Warning: \"alert\",\n      Success: \"sys-enter-2\",\n      Information: \"information\"\n    };\n    return this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n  }\n  get open() {\n    return this.responsivePopover ? this.responsivePopover.opened : false;\n  }\n  get _isPhone() {\n    return isPhone();\n  }\n  get itemTabIndex() {\n    return undefined;\n  }\n  get ariaLabelText() {\n    return getEffectiveAriaLabelText(this);\n  }\n  static get dependencies() {\n    return [ComboBoxItem, Icon, ResponsivePopover, List, BusyIndicator, Button, StandardListItem, GroupHeaderListItem, Popover, ComboBoxGroupItem];\n  }\n  static async onDefine() {\n    ComboBox.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n  }\n  get styles() {\n    const remSizeInPx = parseInt(getComputedStyle(document.documentElement).fontSize);\n    return {\n      popoverHeader: {\n        \"width\": `${this.offsetWidth}px`\n      },\n      suggestionPopoverHeader: {\n        \"display\": this._listWidth === 0 ? \"none\" : \"inline-block\",\n        \"width\": `${this._listWidth}px`\n      },\n      suggestionsPopover: {\n        \"min-width\": `${this.offsetWidth}px`,\n        \"max-width\": this.offsetWidth / remSizeInPx > 40 ? `${this.offsetWidth}px` : \"40rem\"\n      }\n    };\n  }\n  get classes() {\n    return {\n      popover: {\n        \"ui5-suggestions-popover\": !this.isPhone,\n        \"ui5-suggestions-popover-with-value-state-header\": !this.isPhone && this.hasValueStateText\n      },\n      popoverValueState: {\n        \"ui5-valuestatemessage-header\": true,\n        \"ui5-valuestatemessage-root\": true,\n        \"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n        \"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n        \"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n        \"ui5-valuestatemessage--information\": this.valueState === ValueState.Information\n      }\n    };\n  }\n}\nComboBox.SKIP_ITEMS_SIZE = 10;\nComboBox.define();\nexport default ComboBox;","map":{"version":3,"names":["UI5Element","litRender","ValueState","isPhone","isAndroid","isSafari","Integer","getEffectiveAriaLabelText","announce","getI18nBundle","getFeature","isBackSpace","isDelete","isShow","isUp","isDown","isEnter","isEscape","isTabNext","isTabPrevious","isPageUp","isPageDown","isHome","isEnd","Filters","VALUE_STATE_SUCCESS","VALUE_STATE_ERROR","VALUE_STATE_WARNING","VALUE_STATE_INFORMATION","VALUE_STATE_TYPE_SUCCESS","VALUE_STATE_TYPE_INFORMATION","VALUE_STATE_TYPE_ERROR","VALUE_STATE_TYPE_WARNING","INPUT_SUGGESTIONS_TITLE","SELECT_OPTIONS","LIST_ITEM_POSITION","LIST_ITEM_GROUP_HEADER","ComboBoxTemplate","ComboBoxPopoverTemplate","ComboBoxCss","ComboBoxPopoverCss","ResponsivePopoverCommonCss","ValueStateMessageCss","SuggestionsCss","ComboBoxItem","Icon","Popover","ResponsivePopover","List","BusyIndicator","Button","StandardListItem","ComboBoxGroupItem","GroupHeaderListItem","metadata","tag","languageAware","properties","value","type","String","defaultValue","filterValue","placeholder","disabled","Boolean","valueState","None","readonly","required","loading","filter","focused","_isValueStateFocused","accessibleName","undefined","accessibleNameRef","_iconPressed","noAttribute","_filteredItems","Object","_listWidth","managedSlots","slots","propertyName","HTMLElement","invalidateOnChildChange","valueStateMessage","icon","events","change","input","detail","item","ComboBox","render","styles","staticAreaStyles","template","staticAreaTemplate","constructor","props","_initialRendering","_itemFocused","_selectionChanged","FormSupport","onBeforeRendering","items","popover","document","activeElement","length","close","_selectMatchingItem","onAfterRendering","_respPopover","responsivePopover","opened","inner","focus","shouldClosePopover","_clearFocus","toggleValueStatePopover","shouldOpenValueStateMessagePopover","storeResponsivePopoverWidth","_autocomplete","setSelectionRange","_isKeyNavigation","_focusin","event","_lastValue","target","_focusout","focusedOutToValueStateMessage","relatedTarget","shadowRoot","querySelector","_fireChangeEvent","stopImmediatePropagation","contains","staticAreaItem","_closeRespPopover","_afterOpenPopover","_afterClosePopover","blur","_selectionPerformed","_toggleRespPopover","_openRespPopover","open","offsetWidth","openValueStatePopover","closeValueStatePopover","_getPopover","showAt","getStaticAreaItemDomRef","_resetFilter","_userTypedValue","_filterItems","_arrowClick","_input","_getFirstMatchingItem","_applyAtomicValueAndSelection","selected","isGroupItem","fireEvent","_startsWithMatchingItems","str","StartsWith","map","handleNavKeyPress","isOpen","currentItem","find","indexOfItem","indexOf","preventDefault","key","_handleItemNavigation","isForward","nextItem","text","_announceSelectedItem","_handleArrowDown","hasValueStateText","hasValueState","_handleArrowUp","_handlePageUp","isProposedIndexValid","SKIP_ITEMS_SIZE","shouldMoveForward","_handlePageDown","itemsLength","_handleHome","_handleEnd","_keyup","substring","selectionStart","_keydown","isNavKey","triggerFormSubmit","selectedItem","_click","classList","_selectedItemText","itemsToFilter","filteredItems","StartsWithPerTerm","idx","allItems","_groupItemFilter","groupHasFilteredItems","current","currentlyFocusedItem","matchingItems","highlightValue","shouldSelectionBeCleared","_inputChange","_itemMousedown","_selectItem","listItem","mappedItem","sameItemSelected","sameSelectionPerformed","toLowerCase","_onItemFocus","currentItemAdditionalText","additionalText","itemPositionText","i18nBundle","getText","groupHeaderText","trim","_headerTitleText","_iconAccessibleNameText","editable","Success","ariaValueStateHiddenText","shouldDisplayDefaultValueStateMessage","valueStateTypeMappings","valueStateDefaultText","concat","valueStateMessageText","el","textContent","join","valueStateTextMappings","getSlottedNodes","cloneNode","valueStateTextId","_id","_isPhone","_valueStatePopoverHorizontalAlign","effectiveDir","_valueStateMessageIcon","iconPerValueState","Error","Warning","Information","itemTabIndex","ariaLabelText","dependencies","onDefine","remSizeInPx","parseInt","getComputedStyle","documentElement","fontSize","popoverHeader","suggestionPopoverHeader","suggestionsPopover","classes","popoverValueState","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/ComboBox.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isPhone, isAndroid, isSafari } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport announce from \"@ui5/webcomponents-base/dist/util/InvisibleMessage.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/not-editable.js\";\nimport \"@ui5/webcomponents-icons/dist/error.js\";\nimport \"@ui5/webcomponents-icons/dist/alert.js\";\nimport \"@ui5/webcomponents-icons/dist/sys-enter-2.js\";\nimport \"@ui5/webcomponents-icons/dist/information.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport {\n\tisBackSpace,\n\tisDelete,\n\tisShow,\n\tisUp,\n\tisDown,\n\tisEnter,\n\tisEscape,\n\tisTabNext,\n\tisTabPrevious,\n\tisPageUp,\n\tisPageDown,\n\tisHome,\n\tisEnd,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport * as Filters from \"./Filters.js\";\n\nimport {\n\tVALUE_STATE_SUCCESS,\n\tVALUE_STATE_ERROR,\n\tVALUE_STATE_WARNING,\n\tVALUE_STATE_INFORMATION,\n\tVALUE_STATE_TYPE_SUCCESS,\n\tVALUE_STATE_TYPE_INFORMATION,\n\tVALUE_STATE_TYPE_ERROR,\n\tVALUE_STATE_TYPE_WARNING,\n\tINPUT_SUGGESTIONS_TITLE,\n\tSELECT_OPTIONS,\n\tLIST_ITEM_POSITION,\n\tLIST_ITEM_GROUP_HEADER,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Templates\nimport ComboBoxTemplate from \"./generated/templates/ComboBoxTemplate.lit.js\";\nimport ComboBoxPopoverTemplate from \"./generated/templates/ComboBoxPopoverTemplate.lit.js\";\n\n// Styles\nimport ComboBoxCss from \"./generated/themes/ComboBox.css.js\";\nimport ComboBoxPopoverCss from \"./generated/themes/ComboBoxPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\n\nimport ComboBoxItem from \"./ComboBoxItem.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ComboBoxGroupItem from \"./ComboBoxGroupItem.js\";\nimport GroupHeaderListItem from \"./GroupHeaderListItem.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-combobox\",\n\tlanguageAware: true,\n\tproperties: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the value of the component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @formEvents change input\n\t\t * @formProperty\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines the \"live\" value of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If we have an item e.g. \"Bulgaria\", \"B\" is typed, \"ulgaria\" is typed ahead, value will be \"Bulgaria\", filterValue will be \"B\".\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> Initially the filter value is synced with value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @private\n\t\t */\n\t\tfilterValue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint intended to aid the user with data entry when the\n\t\t * component has no value.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is in disabled state.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A disabled component is completely noninteractive.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.base.types.ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is read-only.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A read-only component is not editable,\n\t\t * but still provides visual feedback upon user interaction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is required.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether a loading indicator should be shown in the picker.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the filter type of the component.\n\t\t * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code> and <code>Contains</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"StartsWithPerTerm\"\n\t\t * @public\n\t\t */\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"StartsWithPerTerm\",\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the input is focssed\n\t\t * @private\n\t\t */\n\t\tfocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the visual focus is on the value state header\n\t\t * @private\n\t\t */\n\t\t_isValueStateFocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the accessible ARIA name of the component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue: \"\"\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\taccessibleName: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Receives id(or many ids) of the elements that label the component\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\taccessibleNameRef: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t_iconPressed: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_filteredItems: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_listWidth: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the component items.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IComboBoxItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the component.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n\t\t * when the <code>ui5-combobox</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n\t\t * @type {HTMLElement[]}\n\t\t * @since 1.0.0-rc.9\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the icon to be displayed in the input field.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IIcon}\n\t\t * @slot\n\t\t * @public\n\t\t * @since 1.0.0-rc.9\n\t\t */\n\t\ticon: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Fired when the input operation has finished by pressing Enter, focusout or an item is selected.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when typing in input.\n\t\t * <br><br>\n\t\t * <b>Note:</b> filterValue property is updated, input is changed.\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tinput: {},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.ComboBox#selection-change\n\t\t * @param {HTMLElement} item item to be selected.\n\t\t * @public\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-combobox</code> component represents a drop-down menu with a list of the available options and a text input field to narrow down the options.\n *\n * It is commonly used to enable users to select an option from a predefined list.\n *\n * <h3>Structure</h3>\n * The <code>ui5-combobox</code> consists of the following elements:\n * <ul>\n * <li> Input field - displays the selected option or a custom user entry. Users can type to narrow down the list or enter their own value.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n *\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-combobox</code> provides advanced keyboard handling.\n * <br>\n *\n * <ul>\n * <li>[F4], [ALT]+[UP], or [ALT]+[DOWN] - Toggles the picker.</li>\n * <li>[ESC] - Closes the picker, if open. If closed, cancels changes and reverts the typed in value.</li>\n * <li>[ENTER] or [RETURN] - If picker is open, takes over the currently selected item and closes it.</li>\n * <li>[DOWN] - Selects the next matching item in the picker.</li>\n * <li>[UP] - Selects the previous matching item in the picker.</li>\n * <li>[PAGEDOWN] - Moves selection down by page size (10 items by default).</li>\n * <li>[PAGEUP] - Moves selection up by page size (10 items by default). </li>\n * <li>[HOME] - If focus is in the ComboBox, moves cursor at the beginning of text. If focus is in the picker, selects the first item.</li>\n * <li>[END] - If focus is in the ComboBox, moves cursor at the end of text. If focus is in the picker, selects the last item.</li>\n * </ul>\n *\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/ComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ComboBox\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-combobox\n * @appenddocs ComboBoxItem ComboBoxGroupItem\n * @public\n * @since 1.0.0-rc.6\n */\nclass ComboBox extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get styles() {\n\t\treturn ComboBoxCss;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, ValueStateMessageCss, ComboBoxPopoverCss, SuggestionsCss];\n\t}\n\n\tstatic get template() {\n\t\treturn ComboBoxTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn ComboBoxPopoverTemplate;\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._filteredItems = [];\n\t\tthis._initialRendering = true;\n\t\tthis._itemFocused = false;\n\t\tthis._selectionChanged = false;\n\t\tthis.FormSupport = undefined;\n\t}\n\n\tonBeforeRendering() {\n\t\tthis.FormSupport = getFeature(\"FormSupport\");\n\n\t\tif (this._initialRendering) {\n\t\t\tthis._filteredItems = this.items;\n\t\t}\n\n\t\tif (!this._initialRendering && this.popover && document.activeElement === this && !this._filteredItems.length) {\n\t\t\tthis.popover.close();\n\t\t}\n\n\t\tthis._selectMatchingItem();\n\t\tthis._initialRendering = false;\n\t}\n\n\tasync onAfterRendering() {\n\t\tawait this._respPopover();\n\t\tif (isPhone() && this.responsivePopover.opened) {\n\t\t\t// Set initial focus to the native input\n\t\t\tthis.inner.focus();\n\t\t}\n\n\t\tif (this.shouldClosePopover() && !isPhone()) {\n\t\t\tthis.responsivePopover.close(false, false, true);\n\t\t\tthis._clearFocus();\n\t\t\tthis._itemFocused = false;\n\t\t}\n\n\t\tthis.toggleValueStatePopover(this.shouldOpenValueStateMessagePopover);\n\t\tthis.storeResponsivePopoverWidth();\n\n\t\t// Safari is quite slow and does not preserve text highlighting on control rerendering.\n\t\t// That's why we need to restore it \"manually\".\n\t\tif (isSafari() && this._autocomplete && this.filterValue !== this.value) {\n\t\t\tthis.inner.setSelectionRange(\n\t\t\t\t(this._isKeyNavigation ? 0 : this.filterValue.length),\n\t\t\t\tthis.value.length,\n\t\t\t);\n\t\t}\n\t}\n\n\tshouldClosePopover() {\n\t\treturn this.responsivePopover.opened && !this.focused && !this._itemFocused && !this._isValueStateFocused;\n\t}\n\n\t_focusin(event) {\n\t\tthis.focused = true;\n\n\t\tthis._lastValue = this.value;\n\n\t\tthis._autocomplete = false;\n\n\t\t!isPhone() && event.target.setSelectionRange(0, this.value.length);\n\t}\n\n\t_focusout(event) {\n\t\tconst focusedOutToValueStateMessage = event.relatedTarget && event.relatedTarget.shadowRoot && event.relatedTarget.shadowRoot.querySelector(\".ui5-valuestatemessage-root\");\n\n\t\tthis._fireChangeEvent();\n\n\t\tif (focusedOutToValueStateMessage) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.shadowRoot.contains(event.relatedTarget) && (this.staticAreaItem !== event.relatedTarget)) {\n\t\t\tthis.focused = false;\n\t\t\t!isPhone() && this._closeRespPopover(event);\n\t\t}\n\t}\n\n\t_afterOpenPopover() {\n\t\tthis._iconPressed = true;\n\t}\n\n\t_afterClosePopover() {\n\t\tthis._iconPressed = false;\n\t\tthis._filteredItems = this.items;\n\n\t\t// close device's keyboard and prevent further typing\n\t\tif (isPhone()) {\n\t\t\tthis.blur();\n\t\t}\n\n\t\tif (this._selectionPerformed) {\n\t\t\tthis._lastValue = this.value;\n\t\t\tthis._selectionPerformed = false;\n\t\t}\n\t}\n\n\t_toggleRespPopover() {\n\t\tif (this.responsivePopover.opened) {\n\t\t\tthis._closeRespPopover();\n\t\t} else {\n\t\t\tthis._openRespPopover();\n\t\t}\n\t}\n\n\tstoreResponsivePopoverWidth() {\n\t\tif (this.open && !this._listWidth) {\n\t\t\tthis._listWidth = this.responsivePopover.offsetWidth;\n\t\t}\n\t}\n\n\ttoggleValueStatePopover(open) {\n\t\tif (open) {\n\t\t\tthis.openValueStatePopover();\n\t\t} else {\n\t\t\tthis.closeValueStatePopover();\n\t\t}\n\t}\n\n\tasync openValueStatePopover() {\n\t\tthis.popover = await this._getPopover();\n\t\tthis.popover && this.popover.showAt(this);\n\t}\n\n\tasync closeValueStatePopover() {\n\t\tthis.popover = await this._getPopover();\n\t\tthis.popover && this.popover.close();\n\t}\n\n\tasync _getPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\".ui5-valuestatemessage-popover\");\n\t}\n\n\t_resetFilter() {\n\t\tthis._userTypedValue = null;\n\t\tthis.inner.setSelectionRange(0, this.value.length);\n\t\tthis._filteredItems = this._filterItems(\"\");\n\t\tthis._selectMatchingItem();\n\t}\n\n\t_arrowClick() {\n\t\tthis.inner.focus();\n\t\tthis._resetFilter();\n\n\t\tif (isPhone() && this.value && !this._lastValue) {\n\t\t\tthis._lastValue = this.value;\n\t\t}\n\n\t\tthis._toggleRespPopover();\n\t}\n\n\t_input(event) {\n\t\tconst { value } = event.target;\n\n\t\tif (event.target === this.inner) {\n\t\t\t// stop the native event, as the semantic \"input\" would be fired.\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tthis.focused = true;\n\t\t\tthis._isValueStateFocused = false;\n\t\t}\n\n\t\tthis._filteredItems = this._filterItems(value);\n\n\t\tthis.value = value;\n\t\tthis.filterValue = value;\n\n\t\tthis._clearFocus();\n\n\t\t// autocomplete\n\t\tif (this._autocomplete && !isAndroid()) {\n\t\t\tconst item = this._getFirstMatchingItem(value);\n\t\t\tthis._applyAtomicValueAndSelection(item, value, true);\n\n\t\t\tif (value !== \"\" && !this._selectionChanged && (item && !item.selected && !item.isGroupItem)) {\n\t\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\t\titem,\n\t\t\t\t});\n\n\t\t\t\tthis._selectionChanged = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.fireEvent(\"input\");\n\n\t\tif (isPhone()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._filteredItems.length || value === \"\") {\n\t\t\tthis._closeRespPopover();\n\t\t} else {\n\t\t\tthis._openRespPopover();\n\t\t}\n\t}\n\n\t_startsWithMatchingItems(str) {\n\t\treturn Filters.StartsWith(str, this._filteredItems, \"text\");\n\t}\n\n\t_clearFocus() {\n\t\tthis._filteredItems.map(item => {\n\t\t\titem.focused = false;\n\n\t\t\treturn item;\n\t\t});\n\t}\n\n\thandleNavKeyPress(event) {\n\t\tif (this.focused && (isHome(event) || isEnd(event)) && this.value) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isOpen = this.open;\n\t\tconst currentItem = this._filteredItems.find(item => {\n\t\t\treturn isOpen ? item.focused : item.selected;\n\t\t});\n\t\tconst indexOfItem = this._filteredItems.indexOf(currentItem);\n\n\t\tevent.preventDefault();\n\n\t\tif (this.focused && isOpen && (isUp(event) || isPageUp(event) || isPageDown(event))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._filteredItems.length - 1 === indexOfItem && isDown(event)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isKeyNavigation = true;\n\n\t\tthis[`_handle${event.key}`](event, indexOfItem);\n\t}\n\n\t_handleItemNavigation(event, indexOfItem, isForward) {\n\t\tconst isOpen = this.open;\n\t\tconst currentItem = this._filteredItems[indexOfItem];\n\t\tconst nextItem = isForward ? this._filteredItems[indexOfItem + 1] : this._filteredItems[indexOfItem - 1];\n\t\tconst isGroupItem = currentItem && currentItem.isGroupItem;\n\n\t\tif ((!isOpen) && ((isGroupItem && !nextItem) || (!isGroupItem && !currentItem))) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._clearFocus();\n\n\t\tif (isOpen) {\n\t\t\tthis._itemFocused = true;\n\t\t\tthis.value = isGroupItem ? \"\" : currentItem.text;\n\t\t\tthis.focused = false;\n\t\t\tcurrentItem.focused = true;\n\t\t} else {\n\t\t\tthis.focused = true;\n\t\t\tthis.value = isGroupItem ? nextItem.text : currentItem.text;\n\t\t\tcurrentItem.focused = false;\n\t\t}\n\n\t\tthis._isValueStateFocused = false;\n\t\tthis._selectionChanged = true;\n\n\t\tthis._announceSelectedItem(indexOfItem);\n\n\t\tif (isGroupItem && isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t// autocomplete\n\t\tconst item = this._getFirstMatchingItem(this.value);\n\t\tthis._applyAtomicValueAndSelection(item, (this.open ? this._userTypedValue : null), true);\n\n\t\tif ((item && !item.selected)) {\n\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\titem,\n\t\t\t});\n\t\t}\n\n\t\tthis.fireEvent(\"input\");\n\t\tthis._fireChangeEvent();\n\t}\n\n\t_handleArrowDown(event, indexOfItem) {\n\t\tconst isOpen = this.open;\n\n\t\tif (this.focused && indexOfItem === -1 && this.hasValueStateText && isOpen) {\n\t\t\tthis._isValueStateFocused = true;\n\t\t\tthis.focused = false;\n\t\t\treturn;\n\t\t}\n\n\t\tindexOfItem = !isOpen && this.hasValueState && indexOfItem === -1 ? 0 : indexOfItem;\n\n\t\tthis._handleItemNavigation(event, ++indexOfItem, true /* isForward */);\n\t}\n\n\t_handleArrowUp(event, indexOfItem) {\n\t\tconst isOpen = this.open;\n\n\t\tif (indexOfItem === 0 && !this.hasValueStateText) {\n\t\t\tthis._clearFocus();\n\t\t\tthis.focused = true;\n\t\t\tthis._itemFocused = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (indexOfItem === 0 && this.hasValueStateText && isOpen) {\n\t\t\tthis._clearFocus();\n\t\t\tthis._itemFocused = false;\n\t\t\tthis._isValueStateFocused = true;\n\t\t\tthis._filteredItems[0].selected = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isValueStateFocused) {\n\t\t\tthis.focused = true;\n\t\t\tthis._isValueStateFocused = false;\n\t\t\treturn;\n\t\t}\n\n\t\tindexOfItem = !isOpen && this.hasValueState && indexOfItem === -1 ? 0 : indexOfItem;\n\t\tthis._handleItemNavigation(event, --indexOfItem, false /* isForward */);\n\t}\n\n\t_handlePageUp(event, indexOfItem) {\n\t\tconst isProposedIndexValid = indexOfItem - ComboBox.SKIP_ITEMS_SIZE > -1;\n\t\tindexOfItem = isProposedIndexValid ? indexOfItem - ComboBox.SKIP_ITEMS_SIZE : 0;\n\t\tconst shouldMoveForward = this._filteredItems[indexOfItem].isGroupItem && !this.open;\n\n\t\tif (!isProposedIndexValid && this.hasValueStateText && this.open) {\n\t\t\tthis._clearFocus();\n\t\t\tthis._itemFocused = false;\n\t\t\tthis._isValueStateFocused = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handleItemNavigation(event, indexOfItem, shouldMoveForward);\n\t}\n\n\t_handlePageDown(event, indexOfItem) {\n\t\tconst itemsLength = this._filteredItems.length;\n\t\tconst isProposedIndexValid = indexOfItem + ComboBox.SKIP_ITEMS_SIZE < itemsLength;\n\n\t\tindexOfItem = isProposedIndexValid ? indexOfItem + ComboBox.SKIP_ITEMS_SIZE : itemsLength - 1;\n\t\tconst shouldMoveForward = this._filteredItems[indexOfItem].isGroupItem && !this.open;\n\n\t\tthis._handleItemNavigation(event, indexOfItem, shouldMoveForward);\n\t}\n\n\t_handleHome(event, indexOfItem) {\n\t\tconst shouldMoveForward = this._filteredItems[0].isGroupItem && !this.open;\n\n\t\tif (this.hasValueStateText && this.open) {\n\t\t\tthis._clearFocus();\n\t\t\tthis._itemFocused = false;\n\t\t\tthis._isValueStateFocused = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handleItemNavigation(event, indexOfItem = 0, shouldMoveForward);\n\t}\n\n\t_handleEnd(event, indexOfItem) {\n\t\tthis._handleItemNavigation(event, indexOfItem = this._filteredItems.length - 1, true /* isForward */);\n\t}\n\n\t_keyup(event) {\n\t\tthis._userTypedValue = this.value.substring(0, this.inner.selectionStart);\n\t}\n\n\t_keydown(event) {\n\t\tconst isNavKey = isDown(event) || isUp(event) || isPageUp(event) || isPageDown(event) || isHome(event) || isEnd(event);\n\t\tthis._autocomplete = !(isBackSpace(event) || isDelete(event));\n\t\tthis._isKeyNavigation = false;\n\n\t\tif (isNavKey && !this.readonly && this._filteredItems.length) {\n\t\t\tthis.handleNavKeyPress(event);\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._fireChangeEvent();\n\n\t\t\tif (this.responsivePopover.opened) {\n\t\t\t\tthis._closeRespPopover();\n\t\t\t\tthis.focused = true;\n\t\t\t} else if (this.FormSupport) {\n\t\t\t\tthis.FormSupport.triggerFormSubmit(this);\n\t\t\t}\n\t\t}\n\n\t\tif (isEscape(event)) {\n\t\t\tthis.focused = true;\n\t\t\tthis.value = !this.open ? this._lastValue : this.value;\n\t\t\tthis._isValueStateFocused = false;\n\t\t}\n\n\t\tif ((isTabNext(event) || isTabPrevious(event)) && this.open) {\n\t\t\tthis._closeRespPopover();\n\t\t}\n\n\t\tif (isShow(event) && !this.readonly && !this.disabled) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._resetFilter();\n\t\t\tthis._toggleRespPopover();\n\n\t\t\tconst selectedItem = this._filteredItems.find(item => {\n\t\t\t\treturn item.selected;\n\t\t\t});\n\n\t\t\tif (selectedItem && this.open) {\n\t\t\t\tthis._itemFocused = true;\n\t\t\t\tselectedItem.focused = true;\n\t\t\t\tthis.focused = false;\n\t\t\t} else if (this.open && this._filteredItems.length) {\n\t\t\t\t// If no item is selected, select the first one on \"Show\" (F4, Alt+Up/Down)\n\t\t\t\tthis._handleItemNavigation(event, 0, true /* isForward */);\n\t\t\t} else {\n\t\t\t\tthis.focused = true;\n\t\t\t}\n\t\t}\n\t}\n\n\t_click(event) {\n\t\tif (isPhone() && !this.readonly) {\n\t\t\tthis._openRespPopover();\n\t\t}\n\t}\n\n\t_closeRespPopover(event) {\n\t\tif (event && event.target.classList.contains(\"ui5-responsive-popover-close-btn\") && this._selectedItemText) {\n\t\t\tthis.value = this._selectedItemText;\n\t\t\tthis.filterValue = this._selectedItemText;\n\t\t}\n\n\t\tif (event && event.target.classList.contains(\"ui5-responsive-popover-close-btn\")) {\n\t\t\tthis.value = this._lastValue ? this._lastValue : \"\";\n\t\t\tthis.filterValue = this._lastValue ? this._lastValue : \"\";\n\t\t}\n\n\t\tif (isPhone()) {\n\t\t\tthis._fireChangeEvent();\n\t\t}\n\n\t\tthis._isValueStateFocused = false;\n\t\tthis._clearFocus();\n\n\t\tthis.responsivePopover.close();\n\t}\n\n\t_openRespPopover() {\n\t\tthis.responsivePopover.showAt(this);\n\t}\n\n\t_filterItems(str) {\n\t\tconst itemsToFilter = this.items.filter(item => !item.isGroupItem);\n\t\tconst filteredItems = (Filters[this.filter] || Filters.StartsWithPerTerm)(str, itemsToFilter, \"text\");\n\n\t\t// Return the filtered items and their group items\n\t\treturn this.items.filter((item, idx, allItems) => ComboBox._groupItemFilter(item, ++idx, allItems, filteredItems) || filteredItems.indexOf(item) !== -1);\n\t}\n\n\t/**\n\t * Returns true if the group header should be shown (if there is a filtered suggestion item for this group item)\n\t *\n\t * @private\n\t */\n\tstatic _groupItemFilter(item, idx, allItems, filteredItems) {\n\t\tif (item.isGroupItem) {\n\t\t\tlet groupHasFilteredItems;\n\n\t\t\twhile (allItems[idx] && !allItems[idx].isGroupItem && !groupHasFilteredItems) {\n\t\t\t\tgroupHasFilteredItems = filteredItems.indexOf(allItems[idx]) !== -1;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\treturn groupHasFilteredItems;\n\t\t}\n\t}\n\n\t_getFirstMatchingItem(current) {\n\t\tconst currentlyFocusedItem = this.items.find(item => item.focused === true);\n\n\t\tif (currentlyFocusedItem && currentlyFocusedItem.isGroupItem) {\n\t\t\tthis.value = this.filterValue;\n\t\t\treturn;\n\t\t}\n\n\t\tconst matchingItems = this._startsWithMatchingItems(current).filter(item => !item.isGroupItem);\n\n\t\tif (matchingItems.length) {\n\t\t\treturn matchingItems[0];\n\t\t}\n\t}\n\n\t_applyAtomicValueAndSelection(item, filterValue, highlightValue) {\n\t\tif (!item) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = (item && item.text) || \"\";\n\t\tthis.inner.value = value;\n\t\tif (highlightValue) {\n\t\t\tfilterValue = filterValue || \"\";\n\t\t\tthis.inner.setSelectionRange(filterValue.length, value.length);\n\t\t}\n\t\tthis.value = value;\n\t}\n\n\t_selectMatchingItem() {\n\t\tconst currentlyFocusedItem = this.items.find(item => item.focused);\n\t\tconst shouldSelectionBeCleared = currentlyFocusedItem && currentlyFocusedItem.isGroupItem;\n\n\t\tthis._filteredItems = this._filteredItems.map(item => {\n\t\t\titem.selected = !item.isGroupItem && (item.text === this.value) && !shouldSelectionBeCleared;\n\t\t\treturn item;\n\t\t});\n\t}\n\n\t_fireChangeEvent() {\n\t\tif (this.value !== this._lastValue) {\n\t\t\tthis.fireEvent(\"change\");\n\t\t\tthis._lastValue = this.value;\n\t\t}\n\t}\n\n\t_inputChange(event) {\n\t\tevent.preventDefault();\n\t}\n\n\t_itemMousedown(event) {\n\t\tevent.preventDefault();\n\t}\n\n\t_selectItem(event) {\n\t\tconst listItem = event.detail.item;\n\n\t\tthis._selectedItemText = listItem.mappedItem.text;\n\t\tthis._selectionPerformed = true;\n\n\t\tconst sameItemSelected = this.value === this._selectedItemText;\n\t\tconst sameSelectionPerformed = this.value.toLowerCase() === this.filterValue.toLowerCase();\n\n\t\tif (sameItemSelected && sameSelectionPerformed) {\n\t\t\tthis._fireChangeEvent(); // Click on an already typed, but not memoized value shouold also trigger the change event\n\t\t\treturn this._closeRespPopover();\n\t\t}\n\n\t\tthis.value = this._selectedItemText;\n\n\t\tif (!listItem.mappedItem.selected) {\n\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\titem: listItem.mappedItem,\n\t\t\t});\n\n\t\t\tthis._selectionChanged = true;\n\t\t}\n\n\t\tthis._filteredItems.map(item => {\n\t\t\titem.selected = (item === listItem.mappedItem && !item.isGroupItem);\n\t\t\treturn item;\n\t\t});\n\n\t\tthis._fireChangeEvent();\n\t\tthis._closeRespPopover();\n\n\t\t// reset selection\n\t\tthis.inner.setSelectionRange(this.value.length, this.value.length);\n\t}\n\n\t_onItemFocus(event) {\n\t\tthis._itemFocused = true;\n\t}\n\n\t_announceSelectedItem(indexOfItem) {\n\t\tconst currentItem = this._filteredItems[indexOfItem];\n\t\tconst currentItemAdditionalText = currentItem.additionalText;\n\t\tconst isGroupItem = currentItem && currentItem.isGroupItem;\n\t\tconst itemPositionText = ComboBox.i18nBundle.getText(LIST_ITEM_POSITION, indexOfItem + 1, this._filteredItems.length);\n\t\tconst groupHeaderText = ComboBox.i18nBundle.getText(LIST_ITEM_GROUP_HEADER);\n\n\t\tif (isGroupItem) {\n\t\t\tannounce(`${groupHeaderText} ${currentItem.text} ${itemPositionText}`, \"Polite\");\n\t\t} else {\n\t\t\tannounce(`${currentItemAdditionalText} ${itemPositionText}`.trim(), \"Polite\");\n\t\t}\n\t}\n\n\tget _headerTitleText() {\n\t\treturn ComboBox.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n\t}\n\n\tget _iconAccessibleNameText() {\n\t\treturn ComboBox.i18nBundle.getText(SELECT_OPTIONS);\n\t}\n\n\tget inner() {\n\t\treturn isPhone() ? this.responsivePopover.querySelector(\".ui5-input-inner-phone\") : this.shadowRoot.querySelector(\"[inner-input]\");\n\t}\n\n\tasync _respPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.responsivePopover = staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n\t\treturn this.responsivePopover;\n\t}\n\n\tget editable() {\n\t\treturn !this.readonly;\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState !== ValueState.None;\n\t}\n\n\tget hasValueStateText() {\n\t\treturn this.hasValueState && this.valueState !== ValueState.Success;\n\t}\n\n\tget ariaValueStateHiddenText() {\n\t\tif (!this.hasValueState) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.shouldDisplayDefaultValueStateMessage) {\n\t\t\treturn `${this.valueStateTypeMappings[this.valueState]} ${this.valueStateDefaultText}`;\n\t\t}\n\n\t\treturn `${this.valueStateTypeMappings[this.valueState]}`.concat(\" \", this.valueStateMessageText.map(el => el.textContent).join(\" \"));\n\t}\n\n\tget valueStateDefaultText() {\n\t\treturn this.valueStateTextMappings[this.valueState];\n\t}\n\n\tget valueStateMessageText() {\n\t\treturn this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n\t}\n\n\tget valueStateTextId() {\n\t\treturn this.hasValueState ? `${this._id}-valueStateDesc` : undefined;\n\t}\n\n\tget valueStateTextMappings() {\n\t\treturn {\n\t\t\t\"Success\": ComboBox.i18nBundle.getText(VALUE_STATE_SUCCESS),\n\t\t\t\"Error\": ComboBox.i18nBundle.getText(VALUE_STATE_ERROR),\n\t\t\t\"Warning\": ComboBox.i18nBundle.getText(VALUE_STATE_WARNING),\n\t\t\t\"Information\": ComboBox.i18nBundle.getText(VALUE_STATE_INFORMATION),\n\t\t};\n\t}\n\n\tget valueStateTypeMappings() {\n\t\treturn {\n\t\t\t\"Success\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_SUCCESS),\n\t\t\t\"Information\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_INFORMATION),\n\t\t\t\"Error\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_ERROR),\n\t\t\t\"Warning\": ComboBox.i18nBundle.getText(VALUE_STATE_TYPE_WARNING),\n\t\t};\n\t}\n\n\tget shouldOpenValueStateMessagePopover() {\n\t\treturn this.focused && !this.readonly && this.hasValueStateText && !this._iconPressed\n\t\t\t&& !this.open && !this._isPhone;\n\t}\n\n\tget shouldDisplayDefaultValueStateMessage() {\n\t\treturn !this.valueStateMessage.length && this.hasValueStateText;\n\t}\n\n\tget _valueStatePopoverHorizontalAlign() {\n\t\treturn this.effectiveDir !== \"rtl\" ? \"Left\" : \"Right\";\n\t}\n\n\t/**\n\t * This method is relevant for sap_horizon theme only\n\t */\n\tget _valueStateMessageIcon() {\n\t\tconst iconPerValueState = {\n\t\t\tError: \"error\",\n\t\t\tWarning: \"alert\",\n\t\t\tSuccess: \"sys-enter-2\",\n\t\t\tInformation: \"information\",\n\t\t};\n\n\t\treturn this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n\t}\n\n\tget open() {\n\t\treturn this.responsivePopover ? this.responsivePopover.opened : false;\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\tget itemTabIndex() {\n\t\treturn undefined;\n\t}\n\n\tget ariaLabelText() {\n\t\treturn getEffectiveAriaLabelText(this);\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tComboBoxItem,\n\t\t\tIcon,\n\t\t\tResponsivePopover,\n\t\t\tList,\n\t\t\tBusyIndicator,\n\t\t\tButton,\n\t\t\tStandardListItem,\n\t\t\tGroupHeaderListItem,\n\t\t\tPopover,\n\t\t\tComboBoxGroupItem,\n\t\t];\n\t}\n\n\tstatic async onDefine() {\n\t\tComboBox.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tget styles() {\n\t\tconst remSizeInPx = parseInt(getComputedStyle(document.documentElement).fontSize);\n\t\treturn {\n\t\t\tpopoverHeader: {\n\t\t\t\t\"width\": `${this.offsetWidth}px`,\n\t\t\t},\n\t\t\tsuggestionPopoverHeader: {\n\t\t\t\t\"display\": this._listWidth === 0 ? \"none\" : \"inline-block\",\n\t\t\t\t\"width\": `${this._listWidth}px`,\n\t\t\t},\n\t\t\tsuggestionsPopover: {\n\t\t\t\t\"min-width\": `${this.offsetWidth}px`,\n\t\t\t\t\"max-width\": (this.offsetWidth / remSizeInPx) > 40 ? `${this.offsetWidth}px` : \"40rem\",\n\t\t\t},\n\t\t};\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tpopover: {\n\t\t\t\t\"ui5-suggestions-popover\": !this.isPhone,\n\t\t\t\t\"ui5-suggestions-popover-with-value-state-header\": !this.isPhone && this.hasValueStateText,\n\t\t\t},\n\t\t\tpopoverValueState: {\n\t\t\t\t\"ui5-valuestatemessage-header\": true,\n\t\t\t\t\"ui5-valuestatemessage-root\": true,\n\t\t\t\t\"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n\t\t\t\t\"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n\t\t\t\t\"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n\t\t\t\t\"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n\t\t\t},\n\t\t};\n\t}\n}\n\nComboBox.SKIP_ITEMS_SIZE = 10;\n\nComboBox.define();\n\nexport default ComboBox;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,UAAU,MAAM,kDAAkD;AACzE,SAASC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,wCAAwC;AACrF,OAAOC,OAAO,MAAM,+CAA+C;AACnE,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,OAAOC,QAAQ,MAAM,uDAAuD;AAC5E,OAAO,kDAAkD;AACzD,OAAO,0CAA0C;AACjD,OAAO,+CAA+C;AACtD,OAAO,wCAAwC;AAC/C,OAAO,wCAAwC;AAC/C,OAAO,8CAA8C;AACrD,OAAO,8CAA8C;AACrD,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,UAAU,QAAQ,kDAAkD;AAC7E,SACCC,WAAW,EACXC,QAAQ,EACRC,MAAM,EACNC,IAAI,EACJC,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,SAAS,EACTC,aAAa,EACbC,QAAQ,EACRC,UAAU,EACVC,MAAM,EACNC,KAAK,QACC,sCAAsC;AAC7C,OAAO,KAAKC,OAAO,MAAM,cAAc;AAEvC,SACCC,mBAAmB,EACnBC,iBAAiB,EACjBC,mBAAmB,EACnBC,uBAAuB,EACvBC,wBAAwB,EACxBC,4BAA4B,EAC5BC,sBAAsB,EACtBC,wBAAwB,EACxBC,uBAAuB,EACvBC,cAAc,EACdC,kBAAkB,EAClBC,sBAAsB,QAChB,mCAAmC;;AAE1C;AACA,OAAOC,gBAAgB,MAAM,+CAA+C;AAC5E,OAAOC,uBAAuB,MAAM,sDAAsD;;AAE1F;AACA,OAAOC,WAAW,MAAM,oCAAoC;AAC5D,OAAOC,kBAAkB,MAAM,2CAA2C;AAC1E,OAAOC,0BAA0B,MAAM,mDAAmD;AAC1F,OAAOC,oBAAoB,MAAM,6CAA6C;AAC9E,OAAOC,cAAc,MAAM,uCAAuC;AAElE,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,OAAO,MAAM,cAAc;AAClC,OAAOC,iBAAiB,MAAM,wBAAwB;AACtD,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,OAAOC,iBAAiB,MAAM,wBAAwB;AACtD,OAAOC,mBAAmB,MAAM,0BAA0B;;AAE1D;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,cAAc;EACnBC,aAAa,EAAE,IAAI;EACnBC,UAAU,EAAE,0DAA2D;IACtE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,WAAW,EAAE;MACZH,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,WAAW,EAAE;MACZJ,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEG,QAAQ,EAAE;MACTL,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXP,IAAI,EAAEzD,UAAU;MAChB2D,YAAY,EAAE3D,UAAU,CAACiE;IAC1B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,QAAQ,EAAE;MACTT,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEI,QAAQ,EAAE;MACTV,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEK,OAAO,EAAE;MACRX,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEM,MAAM,EAAE;MACPZ,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;IACEW,OAAO,EAAE;MACRb,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;IACEQ,oBAAoB,EAAE;MACrBd,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACES,cAAc,EAAE;MACff,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAEc;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBjB,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAE;IACf,CAAC;IAEDgB,YAAY,EAAE;MACblB,IAAI,EAAEM,OAAO;MACba,WAAW,EAAE;IACd,CAAC;IAEDC,cAAc,EAAE;MACfpB,IAAI,EAAEqB;IACP,CAAC;IAEDC,UAAU,EAAE;MACXtB,IAAI,EAAErD,OAAO;MACbuD,YAAY,EAAE,CAAC;MACfiB,WAAW,EAAE;IACd;EACD,CAAC;EACDI,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE,0DAA2D;IACjE;AACF;AACA;AACA;AACA;AACA;AACA;IACE,SAAS,EAAE;MACVC,YAAY,EAAE,OAAO;MACrBzB,IAAI,EAAE0B,WAAW;MACjBC,uBAAuB,EAAE;IAC1B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClB5B,IAAI,EAAE0B;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEG,IAAI,EAAE;MACL7B,IAAI,EAAE0B;IACP;EACD,CAAC;EACDI,MAAM,EAAE,0DAA2D;IAClE;AACF;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE,CAAC,CAAC;IAEV;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE,CAAC,CAAC;IAET;AACF;AACA;AACA;AACA;AACA;AACA;IACE,kBAAkB,EAAE;MACnBC,MAAM,EAAE;QACPC,IAAI,EAAE;UAAElC,IAAI,EAAE0B;QAAY;MAC3B;IACD;EACD;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMS,QAAQ,SAAS9F,UAAU,CAAC;EACjC,WAAWsD,QAAQ,GAAG;IACrB,OAAOA,QAAQ;EAChB;EAEA,WAAWyC,MAAM,GAAG;IACnB,OAAO9F,SAAS;EACjB;EAEA,WAAW+F,MAAM,GAAG;IACnB,OAAOzD,WAAW;EACnB;EAEA,WAAW0D,gBAAgB,GAAG;IAC7B,OAAO,CAACxD,0BAA0B,EAAEC,oBAAoB,EAAEF,kBAAkB,EAAEG,cAAc,CAAC;EAC9F;EAEA,WAAWuD,QAAQ,GAAG;IACrB,OAAO7D,gBAAgB;EACxB;EAEA,WAAW8D,kBAAkB,GAAG;IAC/B,OAAO7D,uBAAuB;EAC/B;EAEA8D,WAAW,CAACC,KAAK,EAAE;IAClB,KAAK,CAACA,KAAK,CAAC;IAEZ,IAAI,CAACtB,cAAc,GAAG,EAAE;IACxB,IAAI,CAACuB,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,WAAW,GAAG9B,SAAS;EAC7B;EAEA+B,iBAAiB,GAAG;IACnB,IAAI,CAACD,WAAW,GAAG/F,UAAU,CAAC,aAAa,CAAC;IAE5C,IAAI,IAAI,CAAC4F,iBAAiB,EAAE;MAC3B,IAAI,CAACvB,cAAc,GAAG,IAAI,CAAC4B,KAAK;IACjC;IAEA,IAAI,CAAC,IAAI,CAACL,iBAAiB,IAAI,IAAI,CAACM,OAAO,IAAIC,QAAQ,CAACC,aAAa,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC/B,cAAc,CAACgC,MAAM,EAAE;MAC9G,IAAI,CAACH,OAAO,CAACI,KAAK,EAAE;IACrB;IAEA,IAAI,CAACC,mBAAmB,EAAE;IAC1B,IAAI,CAACX,iBAAiB,GAAG,KAAK;EAC/B;EAEA,MAAMY,gBAAgB,GAAG;IACxB,MAAM,IAAI,CAACC,YAAY,EAAE;IACzB,IAAIhH,OAAO,EAAE,IAAI,IAAI,CAACiH,iBAAiB,CAACC,MAAM,EAAE;MAC/C;MACA,IAAI,CAACC,KAAK,CAACC,KAAK,EAAE;IACnB;IAEA,IAAI,IAAI,CAACC,kBAAkB,EAAE,IAAI,CAACrH,OAAO,EAAE,EAAE;MAC5C,IAAI,CAACiH,iBAAiB,CAACJ,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC;MAChD,IAAI,CAACS,WAAW,EAAE;MAClB,IAAI,CAAClB,YAAY,GAAG,KAAK;IAC1B;IAEA,IAAI,CAACmB,uBAAuB,CAAC,IAAI,CAACC,kCAAkC,CAAC;IACrE,IAAI,CAACC,2BAA2B,EAAE;;IAElC;IACA;IACA,IAAIvH,QAAQ,EAAE,IAAI,IAAI,CAACwH,aAAa,IAAI,IAAI,CAAC/D,WAAW,KAAK,IAAI,CAACJ,KAAK,EAAE;MACxE,IAAI,CAAC4D,KAAK,CAACQ,iBAAiB,CAC1B,IAAI,CAACC,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAACjE,WAAW,CAACiD,MAAM,EACpD,IAAI,CAACrD,KAAK,CAACqD,MAAM,CACjB;IACF;EACD;EAEAS,kBAAkB,GAAG;IACpB,OAAO,IAAI,CAACJ,iBAAiB,CAACC,MAAM,IAAI,CAAC,IAAI,CAAC7C,OAAO,IAAI,CAAC,IAAI,CAAC+B,YAAY,IAAI,CAAC,IAAI,CAAC9B,oBAAoB;EAC1G;EAEAuD,QAAQ,CAACC,KAAK,EAAE;IACf,IAAI,CAACzD,OAAO,GAAG,IAAI;IAEnB,IAAI,CAAC0D,UAAU,GAAG,IAAI,CAACxE,KAAK;IAE5B,IAAI,CAACmE,aAAa,GAAG,KAAK;IAE1B,CAAC1H,OAAO,EAAE,IAAI8H,KAAK,CAACE,MAAM,CAACL,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACpE,KAAK,CAACqD,MAAM,CAAC;EACnE;EAEAqB,SAAS,CAACH,KAAK,EAAE;IAChB,MAAMI,6BAA6B,GAAGJ,KAAK,CAACK,aAAa,IAAIL,KAAK,CAACK,aAAa,CAACC,UAAU,IAAIN,KAAK,CAACK,aAAa,CAACC,UAAU,CAACC,aAAa,CAAC,6BAA6B,CAAC;IAE1K,IAAI,CAACC,gBAAgB,EAAE;IAEvB,IAAIJ,6BAA6B,EAAE;MAClCJ,KAAK,CAACS,wBAAwB,EAAE;MAChC;IACD;IAEA,IAAI,CAAC,IAAI,CAACH,UAAU,CAACI,QAAQ,CAACV,KAAK,CAACK,aAAa,CAAC,IAAK,IAAI,CAACM,cAAc,KAAKX,KAAK,CAACK,aAAc,EAAE;MACpG,IAAI,CAAC9D,OAAO,GAAG,KAAK;MACpB,CAACrE,OAAO,EAAE,IAAI,IAAI,CAAC0I,iBAAiB,CAACZ,KAAK,CAAC;IAC5C;EACD;EAEAa,iBAAiB,GAAG;IACnB,IAAI,CAACjE,YAAY,GAAG,IAAI;EACzB;EAEAkE,kBAAkB,GAAG;IACpB,IAAI,CAAClE,YAAY,GAAG,KAAK;IACzB,IAAI,CAACE,cAAc,GAAG,IAAI,CAAC4B,KAAK;;IAEhC;IACA,IAAIxG,OAAO,EAAE,EAAE;MACd,IAAI,CAAC6I,IAAI,EAAE;IACZ;IAEA,IAAI,IAAI,CAACC,mBAAmB,EAAE;MAC7B,IAAI,CAACf,UAAU,GAAG,IAAI,CAACxE,KAAK;MAC5B,IAAI,CAACuF,mBAAmB,GAAG,KAAK;IACjC;EACD;EAEAC,kBAAkB,GAAG;IACpB,IAAI,IAAI,CAAC9B,iBAAiB,CAACC,MAAM,EAAE;MAClC,IAAI,CAACwB,iBAAiB,EAAE;IACzB,CAAC,MAAM;MACN,IAAI,CAACM,gBAAgB,EAAE;IACxB;EACD;EAEAvB,2BAA2B,GAAG;IAC7B,IAAI,IAAI,CAACwB,IAAI,IAAI,CAAC,IAAI,CAACnE,UAAU,EAAE;MAClC,IAAI,CAACA,UAAU,GAAG,IAAI,CAACmC,iBAAiB,CAACiC,WAAW;IACrD;EACD;EAEA3B,uBAAuB,CAAC0B,IAAI,EAAE;IAC7B,IAAIA,IAAI,EAAE;MACT,IAAI,CAACE,qBAAqB,EAAE;IAC7B,CAAC,MAAM;MACN,IAAI,CAACC,sBAAsB,EAAE;IAC9B;EACD;EAEA,MAAMD,qBAAqB,GAAG;IAC7B,IAAI,CAAC1C,OAAO,GAAG,MAAM,IAAI,CAAC4C,WAAW,EAAE;IACvC,IAAI,CAAC5C,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC6C,MAAM,CAAC,IAAI,CAAC;EAC1C;EAEA,MAAMF,sBAAsB,GAAG;IAC9B,IAAI,CAAC3C,OAAO,GAAG,MAAM,IAAI,CAAC4C,WAAW,EAAE;IACvC,IAAI,CAAC5C,OAAO,IAAI,IAAI,CAACA,OAAO,CAACI,KAAK,EAAE;EACrC;EAEA,MAAMwC,WAAW,GAAG;IACnB,MAAMZ,cAAc,GAAG,MAAM,IAAI,CAACc,uBAAuB,EAAE;IAC3D,OAAOd,cAAc,CAACJ,aAAa,CAAC,gCAAgC,CAAC;EACtE;EAEAmB,YAAY,GAAG;IACd,IAAI,CAACC,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACtC,KAAK,CAACQ,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACpE,KAAK,CAACqD,MAAM,CAAC;IAClD,IAAI,CAAChC,cAAc,GAAG,IAAI,CAAC8E,YAAY,CAAC,EAAE,CAAC;IAC3C,IAAI,CAAC5C,mBAAmB,EAAE;EAC3B;EAEA6C,WAAW,GAAG;IACb,IAAI,CAACxC,KAAK,CAACC,KAAK,EAAE;IAClB,IAAI,CAACoC,YAAY,EAAE;IAEnB,IAAIxJ,OAAO,EAAE,IAAI,IAAI,CAACuD,KAAK,IAAI,CAAC,IAAI,CAACwE,UAAU,EAAE;MAChD,IAAI,CAACA,UAAU,GAAG,IAAI,CAACxE,KAAK;IAC7B;IAEA,IAAI,CAACwF,kBAAkB,EAAE;EAC1B;EAEAa,MAAM,CAAC9B,KAAK,EAAE;IACb,MAAM;MAAEvE;IAAM,CAAC,GAAGuE,KAAK,CAACE,MAAM;IAE9B,IAAIF,KAAK,CAACE,MAAM,KAAK,IAAI,CAACb,KAAK,EAAE;MAChC;MACAW,KAAK,CAACS,wBAAwB,EAAE;MAChC,IAAI,CAAClE,OAAO,GAAG,IAAI;MACnB,IAAI,CAACC,oBAAoB,GAAG,KAAK;IAClC;IAEA,IAAI,CAACM,cAAc,GAAG,IAAI,CAAC8E,YAAY,CAACnG,KAAK,CAAC;IAE9C,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACI,WAAW,GAAGJ,KAAK;IAExB,IAAI,CAAC+D,WAAW,EAAE;;IAElB;IACA,IAAI,IAAI,CAACI,aAAa,IAAI,CAACzH,SAAS,EAAE,EAAE;MACvC,MAAMyF,IAAI,GAAG,IAAI,CAACmE,qBAAqB,CAACtG,KAAK,CAAC;MAC9C,IAAI,CAACuG,6BAA6B,CAACpE,IAAI,EAAEnC,KAAK,EAAE,IAAI,CAAC;MAErD,IAAIA,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC8C,iBAAiB,IAAKX,IAAI,IAAI,CAACA,IAAI,CAACqE,QAAQ,IAAI,CAACrE,IAAI,CAACsE,WAAY,EAAE;QAC7F,IAAI,CAACC,SAAS,CAAC,kBAAkB,EAAE;UAClCvE;QACD,CAAC,CAAC;QAEF,IAAI,CAACW,iBAAiB,GAAG,KAAK;MAC/B;IACD;IAEA,IAAI,CAAC4D,SAAS,CAAC,OAAO,CAAC;IAEvB,IAAIjK,OAAO,EAAE,EAAE;MACd;IACD;IAEA,IAAI,CAAC,IAAI,CAAC4E,cAAc,CAACgC,MAAM,IAAIrD,KAAK,KAAK,EAAE,EAAE;MAChD,IAAI,CAACmF,iBAAiB,EAAE;IACzB,CAAC,MAAM;MACN,IAAI,CAACM,gBAAgB,EAAE;IACxB;EACD;EAEAkB,wBAAwB,CAACC,GAAG,EAAE;IAC7B,OAAO9I,OAAO,CAAC+I,UAAU,CAACD,GAAG,EAAE,IAAI,CAACvF,cAAc,EAAE,MAAM,CAAC;EAC5D;EAEA0C,WAAW,GAAG;IACb,IAAI,CAAC1C,cAAc,CAACyF,GAAG,CAAC3E,IAAI,IAAI;MAC/BA,IAAI,CAACrB,OAAO,GAAG,KAAK;MAEpB,OAAOqB,IAAI;IACZ,CAAC,CAAC;EACH;EAEA4E,iBAAiB,CAACxC,KAAK,EAAE;IACxB,IAAI,IAAI,CAACzD,OAAO,KAAKlD,MAAM,CAAC2G,KAAK,CAAC,IAAI1G,KAAK,CAAC0G,KAAK,CAAC,CAAC,IAAI,IAAI,CAACvE,KAAK,EAAE;MAClE;IACD;IAEA,MAAMgH,MAAM,GAAG,IAAI,CAACtB,IAAI;IACxB,MAAMuB,WAAW,GAAG,IAAI,CAAC5F,cAAc,CAAC6F,IAAI,CAAC/E,IAAI,IAAI;MACpD,OAAO6E,MAAM,GAAG7E,IAAI,CAACrB,OAAO,GAAGqB,IAAI,CAACqE,QAAQ;IAC7C,CAAC,CAAC;IACF,MAAMW,WAAW,GAAG,IAAI,CAAC9F,cAAc,CAAC+F,OAAO,CAACH,WAAW,CAAC;IAE5D1C,KAAK,CAAC8C,cAAc,EAAE;IAEtB,IAAI,IAAI,CAACvG,OAAO,IAAIkG,MAAM,KAAK5J,IAAI,CAACmH,KAAK,CAAC,IAAI7G,QAAQ,CAAC6G,KAAK,CAAC,IAAI5G,UAAU,CAAC4G,KAAK,CAAC,CAAC,EAAE;MACpF;IACD;IAEA,IAAI,IAAI,CAAClD,cAAc,CAACgC,MAAM,GAAG,CAAC,KAAK8D,WAAW,IAAI9J,MAAM,CAACkH,KAAK,CAAC,EAAE;MACpE;IACD;IAEA,IAAI,CAACF,gBAAgB,GAAG,IAAI;IAE5B,IAAI,CAAE,UAASE,KAAK,CAAC+C,GAAI,EAAC,CAAC,CAAC/C,KAAK,EAAE4C,WAAW,CAAC;EAChD;EAEAI,qBAAqB,CAAChD,KAAK,EAAE4C,WAAW,EAAEK,SAAS,EAAE;IACpD,MAAMR,MAAM,GAAG,IAAI,CAACtB,IAAI;IACxB,MAAMuB,WAAW,GAAG,IAAI,CAAC5F,cAAc,CAAC8F,WAAW,CAAC;IACpD,MAAMM,QAAQ,GAAGD,SAAS,GAAG,IAAI,CAACnG,cAAc,CAAC8F,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC9F,cAAc,CAAC8F,WAAW,GAAG,CAAC,CAAC;IACxG,MAAMV,WAAW,GAAGQ,WAAW,IAAIA,WAAW,CAACR,WAAW;IAE1D,IAAK,CAACO,MAAM,KAAOP,WAAW,IAAI,CAACgB,QAAQ,IAAM,CAAChB,WAAW,IAAI,CAACQ,WAAY,CAAC,EAAE;MAChF;IACD;IAEA,IAAI,CAAClD,WAAW,EAAE;IAElB,IAAIiD,MAAM,EAAE;MACX,IAAI,CAACnE,YAAY,GAAG,IAAI;MACxB,IAAI,CAAC7C,KAAK,GAAGyG,WAAW,GAAG,EAAE,GAAGQ,WAAW,CAACS,IAAI;MAChD,IAAI,CAAC5G,OAAO,GAAG,KAAK;MACpBmG,WAAW,CAACnG,OAAO,GAAG,IAAI;IAC3B,CAAC,MAAM;MACN,IAAI,CAACA,OAAO,GAAG,IAAI;MACnB,IAAI,CAACd,KAAK,GAAGyG,WAAW,GAAGgB,QAAQ,CAACC,IAAI,GAAGT,WAAW,CAACS,IAAI;MAC3DT,WAAW,CAACnG,OAAO,GAAG,KAAK;IAC5B;IAEA,IAAI,CAACC,oBAAoB,GAAG,KAAK;IACjC,IAAI,CAAC+B,iBAAiB,GAAG,IAAI;IAE7B,IAAI,CAAC6E,qBAAqB,CAACR,WAAW,CAAC;IAEvC,IAAIV,WAAW,IAAIO,MAAM,EAAE;MAC1B;IACD;;IAEA;IACA,MAAM7E,IAAI,GAAG,IAAI,CAACmE,qBAAqB,CAAC,IAAI,CAACtG,KAAK,CAAC;IACnD,IAAI,CAACuG,6BAA6B,CAACpE,IAAI,EAAG,IAAI,CAACuD,IAAI,GAAG,IAAI,CAACQ,eAAe,GAAG,IAAI,EAAG,IAAI,CAAC;IAEzF,IAAK/D,IAAI,IAAI,CAACA,IAAI,CAACqE,QAAQ,EAAG;MAC7B,IAAI,CAACE,SAAS,CAAC,kBAAkB,EAAE;QAClCvE;MACD,CAAC,CAAC;IACH;IAEA,IAAI,CAACuE,SAAS,CAAC,OAAO,CAAC;IACvB,IAAI,CAAC3B,gBAAgB,EAAE;EACxB;EAEA6C,gBAAgB,CAACrD,KAAK,EAAE4C,WAAW,EAAE;IACpC,MAAMH,MAAM,GAAG,IAAI,CAACtB,IAAI;IAExB,IAAI,IAAI,CAAC5E,OAAO,IAAIqG,WAAW,KAAK,CAAC,CAAC,IAAI,IAAI,CAACU,iBAAiB,IAAIb,MAAM,EAAE;MAC3E,IAAI,CAACjG,oBAAoB,GAAG,IAAI;MAChC,IAAI,CAACD,OAAO,GAAG,KAAK;MACpB;IACD;IAEAqG,WAAW,GAAG,CAACH,MAAM,IAAI,IAAI,CAACc,aAAa,IAAIX,WAAW,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGA,WAAW;IAEnF,IAAI,CAACI,qBAAqB,CAAChD,KAAK,EAAE,EAAE4C,WAAW,EAAE,IAAI,CAAC,gBAAgB;EACvE;;EAEAY,cAAc,CAACxD,KAAK,EAAE4C,WAAW,EAAE;IAClC,MAAMH,MAAM,GAAG,IAAI,CAACtB,IAAI;IAExB,IAAIyB,WAAW,KAAK,CAAC,IAAI,CAAC,IAAI,CAACU,iBAAiB,EAAE;MACjD,IAAI,CAAC9D,WAAW,EAAE;MAClB,IAAI,CAACjD,OAAO,GAAG,IAAI;MACnB,IAAI,CAAC+B,YAAY,GAAG,KAAK;MACzB;IACD;IAEA,IAAIsE,WAAW,KAAK,CAAC,IAAI,IAAI,CAACU,iBAAiB,IAAIb,MAAM,EAAE;MAC1D,IAAI,CAACjD,WAAW,EAAE;MAClB,IAAI,CAAClB,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC9B,oBAAoB,GAAG,IAAI;MAChC,IAAI,CAACM,cAAc,CAAC,CAAC,CAAC,CAACmF,QAAQ,GAAG,KAAK;MACvC;IACD;IAEA,IAAI,IAAI,CAACzF,oBAAoB,EAAE;MAC9B,IAAI,CAACD,OAAO,GAAG,IAAI;MACnB,IAAI,CAACC,oBAAoB,GAAG,KAAK;MACjC;IACD;IAEAoG,WAAW,GAAG,CAACH,MAAM,IAAI,IAAI,CAACc,aAAa,IAAIX,WAAW,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGA,WAAW;IACnF,IAAI,CAACI,qBAAqB,CAAChD,KAAK,EAAE,EAAE4C,WAAW,EAAE,KAAK,CAAC,gBAAgB;EACxE;;EAEAa,aAAa,CAACzD,KAAK,EAAE4C,WAAW,EAAE;IACjC,MAAMc,oBAAoB,GAAGd,WAAW,GAAG/E,QAAQ,CAAC8F,eAAe,GAAG,CAAC,CAAC;IACxEf,WAAW,GAAGc,oBAAoB,GAAGd,WAAW,GAAG/E,QAAQ,CAAC8F,eAAe,GAAG,CAAC;IAC/E,MAAMC,iBAAiB,GAAG,IAAI,CAAC9G,cAAc,CAAC8F,WAAW,CAAC,CAACV,WAAW,IAAI,CAAC,IAAI,CAACf,IAAI;IAEpF,IAAI,CAACuC,oBAAoB,IAAI,IAAI,CAACJ,iBAAiB,IAAI,IAAI,CAACnC,IAAI,EAAE;MACjE,IAAI,CAAC3B,WAAW,EAAE;MAClB,IAAI,CAAClB,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC9B,oBAAoB,GAAG,IAAI;MAChC;IACD;IAEA,IAAI,CAACwG,qBAAqB,CAAChD,KAAK,EAAE4C,WAAW,EAAEgB,iBAAiB,CAAC;EAClE;EAEAC,eAAe,CAAC7D,KAAK,EAAE4C,WAAW,EAAE;IACnC,MAAMkB,WAAW,GAAG,IAAI,CAAChH,cAAc,CAACgC,MAAM;IAC9C,MAAM4E,oBAAoB,GAAGd,WAAW,GAAG/E,QAAQ,CAAC8F,eAAe,GAAGG,WAAW;IAEjFlB,WAAW,GAAGc,oBAAoB,GAAGd,WAAW,GAAG/E,QAAQ,CAAC8F,eAAe,GAAGG,WAAW,GAAG,CAAC;IAC7F,MAAMF,iBAAiB,GAAG,IAAI,CAAC9G,cAAc,CAAC8F,WAAW,CAAC,CAACV,WAAW,IAAI,CAAC,IAAI,CAACf,IAAI;IAEpF,IAAI,CAAC6B,qBAAqB,CAAChD,KAAK,EAAE4C,WAAW,EAAEgB,iBAAiB,CAAC;EAClE;EAEAG,WAAW,CAAC/D,KAAK,EAAE4C,WAAW,EAAE;IAC/B,MAAMgB,iBAAiB,GAAG,IAAI,CAAC9G,cAAc,CAAC,CAAC,CAAC,CAACoF,WAAW,IAAI,CAAC,IAAI,CAACf,IAAI;IAE1E,IAAI,IAAI,CAACmC,iBAAiB,IAAI,IAAI,CAACnC,IAAI,EAAE;MACxC,IAAI,CAAC3B,WAAW,EAAE;MAClB,IAAI,CAAClB,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC9B,oBAAoB,GAAG,IAAI;MAChC;IACD;IAEA,IAAI,CAACwG,qBAAqB,CAAChD,KAAK,EAAE4C,WAAW,GAAG,CAAC,EAAEgB,iBAAiB,CAAC;EACtE;EAEAI,UAAU,CAAChE,KAAK,EAAE4C,WAAW,EAAE;IAC9B,IAAI,CAACI,qBAAqB,CAAChD,KAAK,EAAE4C,WAAW,GAAG,IAAI,CAAC9F,cAAc,CAACgC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,gBAAgB;EACtG;;EAEAmF,MAAM,CAACjE,KAAK,EAAE;IACb,IAAI,CAAC2B,eAAe,GAAG,IAAI,CAAClG,KAAK,CAACyI,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC7E,KAAK,CAAC8E,cAAc,CAAC;EAC1E;EAEAC,QAAQ,CAACpE,KAAK,EAAE;IACf,MAAMqE,QAAQ,GAAGvL,MAAM,CAACkH,KAAK,CAAC,IAAInH,IAAI,CAACmH,KAAK,CAAC,IAAI7G,QAAQ,CAAC6G,KAAK,CAAC,IAAI5G,UAAU,CAAC4G,KAAK,CAAC,IAAI3G,MAAM,CAAC2G,KAAK,CAAC,IAAI1G,KAAK,CAAC0G,KAAK,CAAC;IACtH,IAAI,CAACJ,aAAa,GAAG,EAAElH,WAAW,CAACsH,KAAK,CAAC,IAAIrH,QAAQ,CAACqH,KAAK,CAAC,CAAC;IAC7D,IAAI,CAACF,gBAAgB,GAAG,KAAK;IAE7B,IAAIuE,QAAQ,IAAI,CAAC,IAAI,CAAClI,QAAQ,IAAI,IAAI,CAACW,cAAc,CAACgC,MAAM,EAAE;MAC7D,IAAI,CAAC0D,iBAAiB,CAACxC,KAAK,CAAC;IAC9B;IAEA,IAAIjH,OAAO,CAACiH,KAAK,CAAC,EAAE;MACnB,IAAI,CAACQ,gBAAgB,EAAE;MAEvB,IAAI,IAAI,CAACrB,iBAAiB,CAACC,MAAM,EAAE;QAClC,IAAI,CAACwB,iBAAiB,EAAE;QACxB,IAAI,CAACrE,OAAO,GAAG,IAAI;MACpB,CAAC,MAAM,IAAI,IAAI,CAACiC,WAAW,EAAE;QAC5B,IAAI,CAACA,WAAW,CAAC8F,iBAAiB,CAAC,IAAI,CAAC;MACzC;IACD;IAEA,IAAItL,QAAQ,CAACgH,KAAK,CAAC,EAAE;MACpB,IAAI,CAACzD,OAAO,GAAG,IAAI;MACnB,IAAI,CAACd,KAAK,GAAG,CAAC,IAAI,CAAC0F,IAAI,GAAG,IAAI,CAAClB,UAAU,GAAG,IAAI,CAACxE,KAAK;MACtD,IAAI,CAACe,oBAAoB,GAAG,KAAK;IAClC;IAEA,IAAI,CAACvD,SAAS,CAAC+G,KAAK,CAAC,IAAI9G,aAAa,CAAC8G,KAAK,CAAC,KAAK,IAAI,CAACmB,IAAI,EAAE;MAC5D,IAAI,CAACP,iBAAiB,EAAE;IACzB;IAEA,IAAIhI,MAAM,CAACoH,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC7D,QAAQ,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAE;MACtDiE,KAAK,CAAC8C,cAAc,EAAE;MAEtB,IAAI,CAACpB,YAAY,EAAE;MACnB,IAAI,CAACT,kBAAkB,EAAE;MAEzB,MAAMsD,YAAY,GAAG,IAAI,CAACzH,cAAc,CAAC6F,IAAI,CAAC/E,IAAI,IAAI;QACrD,OAAOA,IAAI,CAACqE,QAAQ;MACrB,CAAC,CAAC;MAEF,IAAIsC,YAAY,IAAI,IAAI,CAACpD,IAAI,EAAE;QAC9B,IAAI,CAAC7C,YAAY,GAAG,IAAI;QACxBiG,YAAY,CAAChI,OAAO,GAAG,IAAI;QAC3B,IAAI,CAACA,OAAO,GAAG,KAAK;MACrB,CAAC,MAAM,IAAI,IAAI,CAAC4E,IAAI,IAAI,IAAI,CAACrE,cAAc,CAACgC,MAAM,EAAE;QACnD;QACA,IAAI,CAACkE,qBAAqB,CAAChD,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,gBAAgB;MAC3D,CAAC,MAAM;QACN,IAAI,CAACzD,OAAO,GAAG,IAAI;MACpB;IACD;EACD;EAEAiI,MAAM,CAACxE,KAAK,EAAE;IACb,IAAI9H,OAAO,EAAE,IAAI,CAAC,IAAI,CAACiE,QAAQ,EAAE;MAChC,IAAI,CAAC+E,gBAAgB,EAAE;IACxB;EACD;EAEAN,iBAAiB,CAACZ,KAAK,EAAE;IACxB,IAAIA,KAAK,IAAIA,KAAK,CAACE,MAAM,CAACuE,SAAS,CAAC/D,QAAQ,CAAC,kCAAkC,CAAC,IAAI,IAAI,CAACgE,iBAAiB,EAAE;MAC3G,IAAI,CAACjJ,KAAK,GAAG,IAAI,CAACiJ,iBAAiB;MACnC,IAAI,CAAC7I,WAAW,GAAG,IAAI,CAAC6I,iBAAiB;IAC1C;IAEA,IAAI1E,KAAK,IAAIA,KAAK,CAACE,MAAM,CAACuE,SAAS,CAAC/D,QAAQ,CAAC,kCAAkC,CAAC,EAAE;MACjF,IAAI,CAACjF,KAAK,GAAG,IAAI,CAACwE,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,EAAE;MACnD,IAAI,CAACpE,WAAW,GAAG,IAAI,CAACoE,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,EAAE;IAC1D;IAEA,IAAI/H,OAAO,EAAE,EAAE;MACd,IAAI,CAACsI,gBAAgB,EAAE;IACxB;IAEA,IAAI,CAAChE,oBAAoB,GAAG,KAAK;IACjC,IAAI,CAACgD,WAAW,EAAE;IAElB,IAAI,CAACL,iBAAiB,CAACJ,KAAK,EAAE;EAC/B;EAEAmC,gBAAgB,GAAG;IAClB,IAAI,CAAC/B,iBAAiB,CAACqC,MAAM,CAAC,IAAI,CAAC;EACpC;EAEAI,YAAY,CAACS,GAAG,EAAE;IACjB,MAAMsC,aAAa,GAAG,IAAI,CAACjG,KAAK,CAACpC,MAAM,CAACsB,IAAI,IAAI,CAACA,IAAI,CAACsE,WAAW,CAAC;IAClE,MAAM0C,aAAa,GAAG,CAACrL,OAAO,CAAC,IAAI,CAAC+C,MAAM,CAAC,IAAI/C,OAAO,CAACsL,iBAAiB,EAAExC,GAAG,EAAEsC,aAAa,EAAE,MAAM,CAAC;;IAErG;IACA,OAAO,IAAI,CAACjG,KAAK,CAACpC,MAAM,CAAC,CAACsB,IAAI,EAAEkH,GAAG,EAAEC,QAAQ,KAAKlH,QAAQ,CAACmH,gBAAgB,CAACpH,IAAI,EAAE,EAAEkH,GAAG,EAAEC,QAAQ,EAAEH,aAAa,CAAC,IAAIA,aAAa,CAAC/B,OAAO,CAACjF,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EACzJ;;EAEA;AACD;AACA;AACA;AACA;EACC,OAAOoH,gBAAgB,CAACpH,IAAI,EAAEkH,GAAG,EAAEC,QAAQ,EAAEH,aAAa,EAAE;IAC3D,IAAIhH,IAAI,CAACsE,WAAW,EAAE;MACrB,IAAI+C,qBAAqB;MAEzB,OAAOF,QAAQ,CAACD,GAAG,CAAC,IAAI,CAACC,QAAQ,CAACD,GAAG,CAAC,CAAC5C,WAAW,IAAI,CAAC+C,qBAAqB,EAAE;QAC7EA,qBAAqB,GAAGL,aAAa,CAAC/B,OAAO,CAACkC,QAAQ,CAACD,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;QACnEA,GAAG,EAAE;MACN;MAEA,OAAOG,qBAAqB;IAC7B;EACD;EAEAlD,qBAAqB,CAACmD,OAAO,EAAE;IAC9B,MAAMC,oBAAoB,GAAG,IAAI,CAACzG,KAAK,CAACiE,IAAI,CAAC/E,IAAI,IAAIA,IAAI,CAACrB,OAAO,KAAK,IAAI,CAAC;IAE3E,IAAI4I,oBAAoB,IAAIA,oBAAoB,CAACjD,WAAW,EAAE;MAC7D,IAAI,CAACzG,KAAK,GAAG,IAAI,CAACI,WAAW;MAC7B;IACD;IAEA,MAAMuJ,aAAa,GAAG,IAAI,CAAChD,wBAAwB,CAAC8C,OAAO,CAAC,CAAC5I,MAAM,CAACsB,IAAI,IAAI,CAACA,IAAI,CAACsE,WAAW,CAAC;IAE9F,IAAIkD,aAAa,CAACtG,MAAM,EAAE;MACzB,OAAOsG,aAAa,CAAC,CAAC,CAAC;IACxB;EACD;EAEApD,6BAA6B,CAACpE,IAAI,EAAE/B,WAAW,EAAEwJ,cAAc,EAAE;IAChE,IAAI,CAACzH,IAAI,EAAE;MACV;IACD;IAEA,MAAMnC,KAAK,GAAImC,IAAI,IAAIA,IAAI,CAACuF,IAAI,IAAK,EAAE;IACvC,IAAI,CAAC9D,KAAK,CAAC5D,KAAK,GAAGA,KAAK;IACxB,IAAI4J,cAAc,EAAE;MACnBxJ,WAAW,GAAGA,WAAW,IAAI,EAAE;MAC/B,IAAI,CAACwD,KAAK,CAACQ,iBAAiB,CAAChE,WAAW,CAACiD,MAAM,EAAErD,KAAK,CAACqD,MAAM,CAAC;IAC/D;IACA,IAAI,CAACrD,KAAK,GAAGA,KAAK;EACnB;EAEAuD,mBAAmB,GAAG;IACrB,MAAMmG,oBAAoB,GAAG,IAAI,CAACzG,KAAK,CAACiE,IAAI,CAAC/E,IAAI,IAAIA,IAAI,CAACrB,OAAO,CAAC;IAClE,MAAM+I,wBAAwB,GAAGH,oBAAoB,IAAIA,oBAAoB,CAACjD,WAAW;IAEzF,IAAI,CAACpF,cAAc,GAAG,IAAI,CAACA,cAAc,CAACyF,GAAG,CAAC3E,IAAI,IAAI;MACrDA,IAAI,CAACqE,QAAQ,GAAG,CAACrE,IAAI,CAACsE,WAAW,IAAKtE,IAAI,CAACuF,IAAI,KAAK,IAAI,CAAC1H,KAAM,IAAI,CAAC6J,wBAAwB;MAC5F,OAAO1H,IAAI;IACZ,CAAC,CAAC;EACH;EAEA4C,gBAAgB,GAAG;IAClB,IAAI,IAAI,CAAC/E,KAAK,KAAK,IAAI,CAACwE,UAAU,EAAE;MACnC,IAAI,CAACkC,SAAS,CAAC,QAAQ,CAAC;MACxB,IAAI,CAAClC,UAAU,GAAG,IAAI,CAACxE,KAAK;IAC7B;EACD;EAEA8J,YAAY,CAACvF,KAAK,EAAE;IACnBA,KAAK,CAAC8C,cAAc,EAAE;EACvB;EAEA0C,cAAc,CAACxF,KAAK,EAAE;IACrBA,KAAK,CAAC8C,cAAc,EAAE;EACvB;EAEA2C,WAAW,CAACzF,KAAK,EAAE;IAClB,MAAM0F,QAAQ,GAAG1F,KAAK,CAACrC,MAAM,CAACC,IAAI;IAElC,IAAI,CAAC8G,iBAAiB,GAAGgB,QAAQ,CAACC,UAAU,CAACxC,IAAI;IACjD,IAAI,CAACnC,mBAAmB,GAAG,IAAI;IAE/B,MAAM4E,gBAAgB,GAAG,IAAI,CAACnK,KAAK,KAAK,IAAI,CAACiJ,iBAAiB;IAC9D,MAAMmB,sBAAsB,GAAG,IAAI,CAACpK,KAAK,CAACqK,WAAW,EAAE,KAAK,IAAI,CAACjK,WAAW,CAACiK,WAAW,EAAE;IAE1F,IAAIF,gBAAgB,IAAIC,sBAAsB,EAAE;MAC/C,IAAI,CAACrF,gBAAgB,EAAE,CAAC,CAAC;MACzB,OAAO,IAAI,CAACI,iBAAiB,EAAE;IAChC;IAEA,IAAI,CAACnF,KAAK,GAAG,IAAI,CAACiJ,iBAAiB;IAEnC,IAAI,CAACgB,QAAQ,CAACC,UAAU,CAAC1D,QAAQ,EAAE;MAClC,IAAI,CAACE,SAAS,CAAC,kBAAkB,EAAE;QAClCvE,IAAI,EAAE8H,QAAQ,CAACC;MAChB,CAAC,CAAC;MAEF,IAAI,CAACpH,iBAAiB,GAAG,IAAI;IAC9B;IAEA,IAAI,CAACzB,cAAc,CAACyF,GAAG,CAAC3E,IAAI,IAAI;MAC/BA,IAAI,CAACqE,QAAQ,GAAIrE,IAAI,KAAK8H,QAAQ,CAACC,UAAU,IAAI,CAAC/H,IAAI,CAACsE,WAAY;MACnE,OAAOtE,IAAI;IACZ,CAAC,CAAC;IAEF,IAAI,CAAC4C,gBAAgB,EAAE;IACvB,IAAI,CAACI,iBAAiB,EAAE;;IAExB;IACA,IAAI,CAACvB,KAAK,CAACQ,iBAAiB,CAAC,IAAI,CAACpE,KAAK,CAACqD,MAAM,EAAE,IAAI,CAACrD,KAAK,CAACqD,MAAM,CAAC;EACnE;EAEAiH,YAAY,CAAC/F,KAAK,EAAE;IACnB,IAAI,CAAC1B,YAAY,GAAG,IAAI;EACzB;EAEA8E,qBAAqB,CAACR,WAAW,EAAE;IAClC,MAAMF,WAAW,GAAG,IAAI,CAAC5F,cAAc,CAAC8F,WAAW,CAAC;IACpD,MAAMoD,yBAAyB,GAAGtD,WAAW,CAACuD,cAAc;IAC5D,MAAM/D,WAAW,GAAGQ,WAAW,IAAIA,WAAW,CAACR,WAAW;IAC1D,MAAMgE,gBAAgB,GAAGrI,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAAClM,kBAAkB,EAAE0I,WAAW,GAAG,CAAC,EAAE,IAAI,CAAC9F,cAAc,CAACgC,MAAM,CAAC;IACrH,MAAMuH,eAAe,GAAGxI,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACjM,sBAAsB,CAAC;IAE3E,IAAI+H,WAAW,EAAE;MAChB3J,QAAQ,CAAE,GAAE8N,eAAgB,IAAG3D,WAAW,CAACS,IAAK,IAAG+C,gBAAiB,EAAC,EAAE,QAAQ,CAAC;IACjF,CAAC,MAAM;MACN3N,QAAQ,CAAE,GAAEyN,yBAA0B,IAAGE,gBAAiB,EAAC,CAACI,IAAI,EAAE,EAAE,QAAQ,CAAC;IAC9E;EACD;EAEA,IAAIC,gBAAgB,GAAG;IACtB,OAAO1I,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACpM,uBAAuB,CAAC;EAC5D;EAEA,IAAIwM,uBAAuB,GAAG;IAC7B,OAAO3I,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACnM,cAAc,CAAC;EACnD;EAEA,IAAIoF,KAAK,GAAG;IACX,OAAOnH,OAAO,EAAE,GAAG,IAAI,CAACiH,iBAAiB,CAACoB,aAAa,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAACD,UAAU,CAACC,aAAa,CAAC,eAAe,CAAC;EACnI;EAEA,MAAMrB,YAAY,GAAG;IACpB,MAAMyB,cAAc,GAAG,MAAM,IAAI,CAACc,uBAAuB,EAAE;IAC3D,IAAI,CAACtC,iBAAiB,GAAGwB,cAAc,CAACJ,aAAa,CAAC,0BAA0B,CAAC;IACjF,OAAO,IAAI,CAACpB,iBAAiB;EAC9B;EAEA,IAAIsH,QAAQ,GAAG;IACd,OAAO,CAAC,IAAI,CAACtK,QAAQ;EACtB;EAEA,IAAIoH,aAAa,GAAG;IACnB,OAAO,IAAI,CAACtH,UAAU,KAAKhE,UAAU,CAACiE,IAAI;EAC3C;EAEA,IAAIoH,iBAAiB,GAAG;IACvB,OAAO,IAAI,CAACC,aAAa,IAAI,IAAI,CAACtH,UAAU,KAAKhE,UAAU,CAACyO,OAAO;EACpE;EAEA,IAAIC,wBAAwB,GAAG;IAC9B,IAAI,CAAC,IAAI,CAACpD,aAAa,EAAE;MACxB;IACD;IAEA,IAAI,IAAI,CAACqD,qCAAqC,EAAE;MAC/C,OAAQ,GAAE,IAAI,CAACC,sBAAsB,CAAC,IAAI,CAAC5K,UAAU,CAAE,IAAG,IAAI,CAAC6K,qBAAsB,EAAC;IACvF;IAEA,OAAQ,GAAE,IAAI,CAACD,sBAAsB,CAAC,IAAI,CAAC5K,UAAU,CAAE,EAAC,CAAC8K,MAAM,CAAC,GAAG,EAAE,IAAI,CAACC,qBAAqB,CAACzE,GAAG,CAAC0E,EAAE,IAAIA,EAAE,CAACC,WAAW,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC;EACrI;EAEA,IAAIL,qBAAqB,GAAG;IAC3B,OAAO,IAAI,CAACM,sBAAsB,CAAC,IAAI,CAACnL,UAAU,CAAC;EACpD;EAEA,IAAI+K,qBAAqB,GAAG;IAC3B,OAAO,IAAI,CAACK,eAAe,CAAC,mBAAmB,CAAC,CAAC9E,GAAG,CAAC0E,EAAE,IAAIA,EAAE,CAACK,SAAS,CAAC,IAAI,CAAC,CAAC;EAC/E;EAEA,IAAIC,gBAAgB,GAAG;IACtB,OAAO,IAAI,CAAChE,aAAa,GAAI,GAAE,IAAI,CAACiE,GAAI,iBAAgB,GAAG9K,SAAS;EACrE;EAEA,IAAI0K,sBAAsB,GAAG;IAC5B,OAAO;MACN,SAAS,EAAEvJ,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAAC5M,mBAAmB,CAAC;MAC3D,OAAO,EAAEqE,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAAC3M,iBAAiB,CAAC;MACvD,SAAS,EAAEoE,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAAC1M,mBAAmB,CAAC;MAC3D,aAAa,EAAEmE,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACzM,uBAAuB;IACnE,CAAC;EACF;EAEA,IAAIkN,sBAAsB,GAAG;IAC5B,OAAO;MACN,SAAS,EAAEhJ,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACxM,wBAAwB,CAAC;MAChE,aAAa,EAAEiE,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACvM,4BAA4B,CAAC;MACxE,OAAO,EAAEgE,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACtM,sBAAsB,CAAC;MAC5D,SAAS,EAAE+D,QAAQ,CAACsI,UAAU,CAACC,OAAO,CAACrM,wBAAwB;IAChE,CAAC;EACF;EAEA,IAAI2F,kCAAkC,GAAG;IACxC,OAAO,IAAI,CAACnD,OAAO,IAAI,CAAC,IAAI,CAACJ,QAAQ,IAAI,IAAI,CAACmH,iBAAiB,IAAI,CAAC,IAAI,CAAC1G,YAAY,IACjF,CAAC,IAAI,CAACuE,IAAI,IAAI,CAAC,IAAI,CAACsG,QAAQ;EACjC;EAEA,IAAIb,qCAAqC,GAAG;IAC3C,OAAO,CAAC,IAAI,CAACtJ,iBAAiB,CAACwB,MAAM,IAAI,IAAI,CAACwE,iBAAiB;EAChE;EAEA,IAAIoE,iCAAiC,GAAG;IACvC,OAAO,IAAI,CAACC,YAAY,KAAK,KAAK,GAAG,MAAM,GAAG,OAAO;EACtD;;EAEA;AACD;AACA;EACC,IAAIC,sBAAsB,GAAG;IAC5B,MAAMC,iBAAiB,GAAG;MACzBC,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE,OAAO;MAChBrB,OAAO,EAAE,aAAa;MACtBsB,WAAW,EAAE;IACd,CAAC;IAED,OAAO,IAAI,CAAC/L,UAAU,KAAKhE,UAAU,CAACiE,IAAI,GAAG2L,iBAAiB,CAAC,IAAI,CAAC5L,UAAU,CAAC,GAAG,EAAE;EACrF;EAEA,IAAIkF,IAAI,GAAG;IACV,OAAO,IAAI,CAAChC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACC,MAAM,GAAG,KAAK;EACtE;EAEA,IAAIqI,QAAQ,GAAG;IACd,OAAOvP,OAAO,EAAE;EACjB;EAEA,IAAI+P,YAAY,GAAG;IAClB,OAAOvL,SAAS;EACjB;EAEA,IAAIwL,aAAa,GAAG;IACnB,OAAO5P,yBAAyB,CAAC,IAAI,CAAC;EACvC;EAEA,WAAW6P,YAAY,GAAG;IACzB,OAAO,CACNxN,YAAY,EACZC,IAAI,EACJE,iBAAiB,EACjBC,IAAI,EACJC,aAAa,EACbC,MAAM,EACNC,gBAAgB,EAChBE,mBAAmB,EACnBP,OAAO,EACPM,iBAAiB,CACjB;EACF;EAEA,aAAaiN,QAAQ,GAAG;IACvBvK,QAAQ,CAACsI,UAAU,GAAG,MAAM3N,aAAa,CAAC,oBAAoB,CAAC;EAChE;EAEA,IAAIuF,MAAM,GAAG;IACZ,MAAMsK,WAAW,GAAGC,QAAQ,CAACC,gBAAgB,CAAC3J,QAAQ,CAAC4J,eAAe,CAAC,CAACC,QAAQ,CAAC;IACjF,OAAO;MACNC,aAAa,EAAE;QACd,OAAO,EAAG,GAAE,IAAI,CAACtH,WAAY;MAC9B,CAAC;MACDuH,uBAAuB,EAAE;QACxB,SAAS,EAAE,IAAI,CAAC3L,UAAU,KAAK,CAAC,GAAG,MAAM,GAAG,cAAc;QAC1D,OAAO,EAAG,GAAE,IAAI,CAACA,UAAW;MAC7B,CAAC;MACD4L,kBAAkB,EAAE;QACnB,WAAW,EAAG,GAAE,IAAI,CAACxH,WAAY,IAAG;QACpC,WAAW,EAAG,IAAI,CAACA,WAAW,GAAGiH,WAAW,GAAI,EAAE,GAAI,GAAE,IAAI,CAACjH,WAAY,IAAG,GAAG;MAChF;IACD,CAAC;EACF;EAEA,IAAIyH,OAAO,GAAG;IACb,OAAO;MACNlK,OAAO,EAAE;QACR,yBAAyB,EAAE,CAAC,IAAI,CAACzG,OAAO;QACxC,iDAAiD,EAAE,CAAC,IAAI,CAACA,OAAO,IAAI,IAAI,CAACoL;MAC1E,CAAC;MACDwF,iBAAiB,EAAE;QAClB,8BAA8B,EAAE,IAAI;QACpC,4BAA4B,EAAE,IAAI;QAClC,gCAAgC,EAAE,IAAI,CAAC7M,UAAU,KAAKhE,UAAU,CAACyO,OAAO;QACxE,8BAA8B,EAAE,IAAI,CAACzK,UAAU,KAAKhE,UAAU,CAAC6P,KAAK;QACpE,gCAAgC,EAAE,IAAI,CAAC7L,UAAU,KAAKhE,UAAU,CAAC8P,OAAO;QACxE,oCAAoC,EAAE,IAAI,CAAC9L,UAAU,KAAKhE,UAAU,CAAC+P;MACtE;IACD,CAAC;EACF;AACD;AAEAnK,QAAQ,CAAC8F,eAAe,GAAG,EAAE;AAE7B9F,QAAQ,CAACkL,MAAM,EAAE;AAEjB,eAAelL,QAAQ"},"metadata":{},"sourceType":"module"}