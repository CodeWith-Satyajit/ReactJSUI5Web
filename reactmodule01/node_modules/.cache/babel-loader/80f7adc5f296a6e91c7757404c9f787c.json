{"ast":null,"code":"import Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { isIOS } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport DOMReference from \"@ui5/webcomponents-base/dist/types/DOMReference.js\";\nimport { getClosedPopupParent } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport clamp from \"@ui5/webcomponents-base/dist/util/clamp.js\";\nimport Popup from \"./Popup.js\";\nimport PopoverPlacementType from \"./types/PopoverPlacementType.js\";\nimport PopoverVerticalAlign from \"./types/PopoverVerticalAlign.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport { addOpenedPopover, removeOpenedPopover } from \"./popup-utils/PopoverRegistry.js\";\n\n// Template\nimport PopoverTemplate from \"./generated/templates/PopoverTemplate.lit.js\";\n// Styles\nimport browserScrollbarCSS from \"./generated/themes/BrowserScrollbar.css.js\";\nimport PopupsCommonCss from \"./generated/themes/PopupsCommon.css.js\";\nimport PopoverCss from \"./generated/themes/Popover.css.js\";\nconst ARROW_SIZE = 8;\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-popover\",\n  properties: /** @lends sap.ui.webcomponents.main.Popover.prototype */{\n    /**\n     * Defines the header text.\n     * <br><br>\n     * <b>Note:</b> If <code>header</code> slot is provided, the <code>headerText</code> is ignored.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    headerText: {\n      type: String\n    },\n    /**\n     * Determines on which side the component is placed at.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Left</code></li>\n     * <li><code>Right</code></li>\n     * <li><code>Top</code></li>\n     * <li><code>Bottom</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.main.types.PopoverPlacementType}\n     * @defaultvalue \"Right\"\n     * @public\n     */\n    placementType: {\n      type: PopoverPlacementType,\n      defaultValue: PopoverPlacementType.Right\n    },\n    /**\n     * Determines the horizontal alignment of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Center</code></li>\n     * <li><code>Left</code></li>\n     * <li><code>Right</code></li>\n     * <li><code>Stretch</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.main.types.PopoverHorizontalAlign}\n     * @defaultvalue \"Center\"\n     * @public\n     */\n    horizontalAlign: {\n      type: PopoverHorizontalAlign,\n      defaultValue: PopoverHorizontalAlign.Center\n    },\n    /**\n     * Determines the vertical alignment of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Center</code></li>\n     * <li><code>Top</code></li>\n     * <li><code>Bottom</code></li>\n     * <li><code>Stretch</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.main.types.PopoverVerticalAlign}\n     * @defaultvalue \"Center\"\n     * @public\n     */\n    verticalAlign: {\n      type: PopoverVerticalAlign,\n      defaultValue: PopoverVerticalAlign.Center\n    },\n    /**\n     * Defines whether the component should close when\n     * clicking/tapping outside of the popover.\n     * If enabled, it blocks any interaction with the background.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    modal: {\n      type: Boolean\n    },\n    /**\n     * Defines whether the block layer will be shown if modal property is set to true.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.10\n     */\n    hideBackdrop: {\n      type: Boolean\n    },\n    /**\n     * Determines whether the component arrow is hidden.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    hideArrow: {\n      type: Boolean\n    },\n    /**\n     * Determines if there is no enough space, the component can be placed\n     * over the target.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    allowTargetOverlap: {\n      type: Boolean\n    },\n    /**\n     * Defines the ID or DOM Reference of the element that the popover is shown at\n     * @public\n     * @type {sap.ui.webcomponents.base.types.DOMReference}\n     * @defaultvalue \"\"\n     * @since 1.2.0\n     */\n    opener: {\n      type: DOMReference\n    },\n    /**\n     * Defines whether the content is scrollable.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @private\n     */\n    disableScrolling: {\n      type: Boolean\n    },\n    /**\n     * Sets the X translation of the arrow\n     *\n     * @private\n     */\n    arrowTranslateX: {\n      type: Integer,\n      defaultValue: 0,\n      noAttribute: true\n    },\n    /**\n     * Sets the Y translation of the arrow\n     *\n     * @private\n     */\n    arrowTranslateY: {\n      type: Integer,\n      defaultValue: 0,\n      noAttribute: true\n    },\n    /**\n     * Returns the calculated placement depending on the free space\n     *\n     * @private\n     */\n    actualPlacementType: {\n      type: PopoverPlacementType,\n      defaultValue: PopoverPlacementType.Right\n    },\n    _maxHeight: {\n      type: Integer,\n      noAttribute: true\n    },\n    _maxWidth: {\n      type: Integer,\n      noAttribute: true\n    }\n  },\n  managedSlots: true,\n  slots: /** @lends sap.ui.webcomponents.main.Popover.prototype */{\n    /**\n     * Defines the header HTML Element.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    header: {\n      type: HTMLElement\n    },\n    /**\n     * Defines the footer HTML Element.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    footer: {\n      type: HTMLElement\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.Popover.prototype */{}\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-popover</code> component displays additional information for an object\n * in a compact way and without leaving the page.\n * The Popover can contain various UI elements, such as fields, tables, images, and charts.\n * It can also include actions in the footer.\n *\n * <h3>Structure</h3>\n *\n * The popover has three main areas:\n * <ul>\n * <li>Header (optional)</li>\n * <li>Content</li>\n * <li>Footer (optional)</li>\n * </ul>\n *\n * <b>Note:</b> The <code>ui5-popover</code> is closed when the user clicks\n * or taps outside the popover\n * or selects an action within the popover. You can prevent this with the\n * <code>modal</code> property.\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-popover</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>header - Used to style the header of the component</li>\n * <li>content - Used to style the content of the component</li>\n * <li>footer - Used to style the footer of the component</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Popover.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Popover\n * @extends sap.ui.webcomponents.main.Popup\n * @tagname ui5-popover\n * @since 1.0.0-rc.6\n * @public\n */\nclass Popover extends Popup {\n  constructor() {\n    super();\n  }\n  static get metadata() {\n    return metadata;\n  }\n  static get styles() {\n    return [browserScrollbarCSS, PopupsCommonCss, PopoverCss];\n  }\n  static get template() {\n    return PopoverTemplate;\n  }\n  static get VIEWPORT_MARGIN() {\n    return 10; // px\n  }\n\n  onAfterRendering() {\n    if (!this.isOpen() && this.open) {\n      const opener = this.opener instanceof HTMLElement ? this.opener : this.getRootNode().getElementById(this.opener);\n      if (!opener) {\n        console.warn(\"Valid opener id is required.\"); // eslint-disable-line\n        return;\n      }\n      this.showAt(opener);\n    } else if (this.isOpen() && !this.open) {\n      this.close();\n    }\n  }\n  isOpenerClicked(event) {\n    const target = event.target;\n    return target === this._opener || target.getFocusDomRef && target.getFocusDomRef() === this._opener || event.composedPath().indexOf(this._opener) > -1;\n  }\n\n  /**\n   * Shows the popover.\n   * @param {HTMLElement} opener the element that the popover is shown at\n   * @param {boolean} preventInitialFocus prevents applying the focus inside the popover\n   * @public\n   * @async\n   * @returns {Promise} Resolved when the popover is open\n   */\n  async showAt(opener) {\n    let preventInitialFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (!opener || this.opened) {\n      return;\n    }\n    this._opener = opener;\n    this._openerRect = opener.getBoundingClientRect();\n    await super._open(preventInitialFocus);\n  }\n\n  /**\n   * Override for the _addOpenedPopup hook, which would otherwise just call addOpenedPopup(this)\n   * @private\n   */\n  _addOpenedPopup() {\n    addOpenedPopover(this);\n  }\n\n  /**\n   * Override for the _removeOpenedPopup hook, which would otherwise just call removeOpenedPopup(this)\n   * @private\n   */\n  _removeOpenedPopup() {\n    removeOpenedPopover(this);\n  }\n  shouldCloseDueToOverflow(placement, openerRect) {\n    const threshold = 32;\n    const limits = {\n      \"Right\": openerRect.right,\n      \"Left\": openerRect.left,\n      \"Top\": openerRect.top,\n      \"Bottom\": openerRect.bottom\n    };\n    const closedPopupParent = getClosedPopupParent(this._opener);\n    let overflowsBottom = false;\n    let overflowsTop = false;\n    if (closedPopupParent.showAt) {\n      const contentRect = closedPopupParent.contentDOM.getBoundingClientRect();\n      overflowsBottom = openerRect.top > contentRect.top + contentRect.height;\n      overflowsTop = openerRect.top + openerRect.height < contentRect.top;\n    }\n    return limits[placement] < 0 || limits[placement] + threshold > closedPopupParent.innerHeight || overflowsBottom || overflowsTop;\n  }\n  shouldCloseDueToNoOpener(openerRect) {\n    return openerRect.top === 0 && openerRect.bottom === 0 && openerRect.left === 0 && openerRect.right === 0;\n  }\n  isOpenerOutsideViewport(openerRect) {\n    return openerRect.bottom < 0 || openerRect.top > window.innerHeight || openerRect.right < 0 || openerRect.left > window.innerWidth;\n  }\n\n  /**\n   * @override\n   */\n  _resize() {\n    super._resize();\n    if (this.opened) {\n      this.reposition();\n    }\n  }\n  reposition() {\n    this._show();\n  }\n  _show() {\n    let placement;\n    const popoverSize = this.getPopoverSize();\n    if (popoverSize.width === 0 || popoverSize.height === 0) {\n      // size can not be determined properly at this point, popover will be shown with the next reposition\n      return;\n    }\n    if (this.isOpen()) {\n      // update opener rect if it was changed during the popover being opened\n      this._openerRect = this._opener.getBoundingClientRect();\n    }\n    if (this.shouldCloseDueToNoOpener(this._openerRect) && this.isFocusWithin()) {\n      // reuse the old placement as the opener is not available,\n      // but keep the popover open as the focus is within\n      placement = this._oldPlacement;\n    } else {\n      placement = this.calcPlacement(this._openerRect, popoverSize);\n    }\n    const stretching = this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n    if (this._preventRepositionAndClose || this.isOpenerOutsideViewport(this._openerRect)) {\n      return this.close();\n    }\n    this._oldPlacement = placement;\n    this.actualPlacementType = placement.placementType;\n    let left = clamp(this._left, Popover.VIEWPORT_MARGIN, document.documentElement.clientWidth - popoverSize.width - Popover.VIEWPORT_MARGIN);\n    if (this.actualPlacementType === PopoverPlacementType.Right) {\n      left = Math.max(left, this._left);\n    }\n    let top = clamp(this._top, Popover.VIEWPORT_MARGIN, document.documentElement.clientHeight - popoverSize.height - Popover.VIEWPORT_MARGIN);\n    if (this.actualPlacementType === PopoverPlacementType.Bottom) {\n      top = Math.max(top, this._top);\n    }\n    this.arrowTranslateX = placement.arrow.x;\n    this.arrowTranslateY = placement.arrow.y;\n    top = this._adjustForIOSKeyboard(top);\n    Object.assign(this.style, {\n      top: `${top}px`,\n      left: `${left}px`\n    });\n    super._show();\n    if (stretching && this._width) {\n      this.style.width = this._width;\n    }\n  }\n\n  /**\n   * Adjust the desired top position to compensate for shift of the screen\n   * caused by opened keyboard on iOS which affects all elements with position:fixed.\n   * @private\n   * @param {int} top The target top in px.\n   * @returns {int} The adjusted top in px.\n   */\n  _adjustForIOSKeyboard(top) {\n    if (!isIOS()) {\n      return top;\n    }\n    const actualTop = Math.ceil(this.getBoundingClientRect().top);\n    return top + (Number.parseInt(this.style.top || \"0\") - actualTop);\n  }\n  getPopoverSize() {\n    if (!this.opened) {\n      Object.assign(this.style, {\n        display: \"block\",\n        top: \"-10000px\",\n        left: \"-10000px\"\n      });\n    }\n    const rect = this.getBoundingClientRect(),\n      width = rect.width,\n      height = rect.height;\n    return {\n      width,\n      height\n    };\n  }\n  get arrowDOM() {\n    return this.shadowRoot.querySelector(\".ui5-popover-arrow\");\n  }\n\n  /**\n   * @private\n   */\n  calcPlacement(targetRect, popoverSize) {\n    let left = 0;\n    let top = 0;\n    const allowTargetOverlap = this.allowTargetOverlap;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    let maxHeight = clientHeight;\n    let maxWidth = clientWidth;\n    const placementType = this.getActualPlacementType(targetRect, popoverSize);\n    this._preventRepositionAndClose = this.shouldCloseDueToNoOpener(targetRect) || this.shouldCloseDueToOverflow(placementType, targetRect);\n    const isVertical = placementType === PopoverPlacementType.Top || placementType === PopoverPlacementType.Bottom;\n    if (this.horizontalAlign === PopoverHorizontalAlign.Stretch && isVertical) {\n      popoverSize.width = targetRect.width;\n      this._width = `${targetRect.width}px`;\n    } else if (this.verticalAlign === PopoverVerticalAlign.Stretch && !isVertical) {\n      popoverSize.height = targetRect.height;\n    }\n    const arrowOffset = this.hideArrow ? 0 : ARROW_SIZE;\n\n    // calc popover positions\n    switch (placementType) {\n      case PopoverPlacementType.Top:\n        left = this.getVerticalLeft(targetRect, popoverSize);\n        top = Math.max(targetRect.top - popoverSize.height - arrowOffset, 0);\n        if (!allowTargetOverlap) {\n          maxHeight = targetRect.top - arrowOffset;\n        }\n        break;\n      case PopoverPlacementType.Bottom:\n        left = this.getVerticalLeft(targetRect, popoverSize);\n        top = targetRect.bottom + arrowOffset;\n        if (allowTargetOverlap) {\n          top = Math.max(Math.min(top, clientHeight - popoverSize.height), 0);\n        } else {\n          maxHeight = clientHeight - targetRect.bottom - arrowOffset;\n        }\n        break;\n      case PopoverPlacementType.Left:\n        left = Math.max(targetRect.left - popoverSize.width - arrowOffset, 0);\n        top = this.getHorizontalTop(targetRect, popoverSize);\n        if (!allowTargetOverlap) {\n          maxWidth = targetRect.left - arrowOffset;\n        }\n        break;\n      case PopoverPlacementType.Right:\n        left = targetRect.left + targetRect.width + arrowOffset;\n        top = this.getHorizontalTop(targetRect, popoverSize);\n        if (allowTargetOverlap) {\n          left = Math.max(Math.min(left, clientWidth - popoverSize.width), 0);\n        } else {\n          maxWidth = clientWidth - targetRect.right - arrowOffset;\n        }\n        break;\n    }\n\n    // correct popover positions\n    if (isVertical) {\n      if (popoverSize.width > clientWidth || left < 0) {\n        left = 0;\n      } else if (left + popoverSize.width > clientWidth) {\n        left -= left + popoverSize.width - clientWidth;\n      }\n    } else {\n      if (popoverSize.height > clientHeight || top < 0) {\n        // eslint-disable-line\n        top = 0;\n      } else if (top + popoverSize.height > clientHeight) {\n        top -= top + popoverSize.height - clientHeight;\n      }\n    }\n    this._maxHeight = Math.round(maxHeight - Popover.VIEWPORT_MARGIN);\n    this._maxWidth = Math.round(maxWidth - Popover.VIEWPORT_MARGIN);\n    if (this._left === undefined || Math.abs(this._left - left) > 1.5) {\n      this._left = Math.round(left);\n    }\n    if (this._top === undefined || Math.abs(this._top - top) > 1.5) {\n      this._top = Math.round(top);\n    }\n    const borderRadius = Number.parseInt(window.getComputedStyle(this).getPropertyValue(\"border-radius\"));\n    const arrowPos = this.getArrowPosition(targetRect, popoverSize, left, top, isVertical, borderRadius);\n    return {\n      arrow: arrowPos,\n      top: this._top,\n      left: this._left,\n      placementType\n    };\n  }\n\n  /**\n   * Calculates the position for the arrow.\n   * @private\n   * @param targetRect BoundingClientRect of the target element\n   * @param {{width: number, height: number}} popoverSize Width and height of the popover\n   * @param left Left offset of the popover\n   * @param top Top offset of the popover\n   * @param isVertical If the popover is positioned vertically to the target element\n   * @param {number} borderRadius Value of the border-radius property\n   * @returns {{x: number, y: number}} Arrow's coordinates\n   */\n  getArrowPosition(targetRect, _ref, left, top, isVertical, borderRadius) {\n    let {\n      width,\n      height\n    } = _ref;\n    let arrowXCentered = this.horizontalAlign === PopoverHorizontalAlign.Center || this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n    if (this.horizontalAlign === PopoverHorizontalAlign.Right && left <= targetRect.left) {\n      arrowXCentered = true;\n    }\n    if (this.horizontalAlign === PopoverHorizontalAlign.Left && left + width >= targetRect.left + targetRect.width) {\n      arrowXCentered = true;\n    }\n    let arrowTranslateX = 0;\n    if (isVertical && arrowXCentered) {\n      arrowTranslateX = targetRect.left + targetRect.width / 2 - left - width / 2;\n    }\n    let arrowTranslateY = 0;\n    if (!isVertical) {\n      arrowTranslateY = targetRect.top + targetRect.height / 2 - top - height / 2;\n    }\n\n    // Restricts the arrow's translate value along each dimension,\n    // so that the arrow does not clip over the popover's rounded borders.\n    const safeRangeForArrowY = height / 2 - borderRadius - ARROW_SIZE / 2;\n    arrowTranslateY = clamp(arrowTranslateY, -safeRangeForArrowY, safeRangeForArrowY);\n    const safeRangeForArrowX = width / 2 - borderRadius - ARROW_SIZE / 2;\n    arrowTranslateX = clamp(arrowTranslateX, -safeRangeForArrowX, safeRangeForArrowX);\n    return {\n      x: Math.round(arrowTranslateX),\n      y: Math.round(arrowTranslateY)\n    };\n  }\n\n  /**\n   * Fallbacks to new placement, prioritizing <code>Left</code> and <code>Right</code> placements.\n   * @private\n   */\n  fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) {\n    if (targetRect.left > popoverSize.width) {\n      return PopoverPlacementType.Left;\n    }\n    if (clientWidth - targetRect.right > targetRect.left) {\n      return PopoverPlacementType.Right;\n    }\n    if (clientHeight - targetRect.bottom > popoverSize.height) {\n      return PopoverPlacementType.Bottom;\n    }\n    if (clientHeight - targetRect.bottom < targetRect.top) {\n      return PopoverPlacementType.Top;\n    }\n  }\n  getActualPlacementType(targetRect, popoverSize) {\n    const placementType = this.placementType;\n    let actualPlacementType = placementType;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    switch (placementType) {\n      case PopoverPlacementType.Top:\n        if (targetRect.top < popoverSize.height && targetRect.top < clientHeight - targetRect.bottom) {\n          actualPlacementType = PopoverPlacementType.Bottom;\n        }\n        break;\n      case PopoverPlacementType.Bottom:\n        if (clientHeight - targetRect.bottom < popoverSize.height && clientHeight - targetRect.bottom < targetRect.top) {\n          actualPlacementType = PopoverPlacementType.Top;\n        }\n        break;\n      case PopoverPlacementType.Left:\n        if (targetRect.left < popoverSize.width) {\n          actualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n        }\n        break;\n      case PopoverPlacementType.Right:\n        if (clientWidth - targetRect.right < popoverSize.width) {\n          actualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n        }\n        break;\n    }\n    return actualPlacementType;\n  }\n  getVerticalLeft(targetRect, popoverSize) {\n    let left;\n    switch (this.horizontalAlign) {\n      case PopoverHorizontalAlign.Center:\n      case PopoverHorizontalAlign.Stretch:\n        left = targetRect.left - (popoverSize.width - targetRect.width) / 2;\n        break;\n      case PopoverHorizontalAlign.Left:\n        left = targetRect.left;\n        break;\n      case PopoverHorizontalAlign.Right:\n        left = targetRect.right - popoverSize.width;\n        break;\n    }\n    return left;\n  }\n  getHorizontalTop(targetRect, popoverSize) {\n    let top;\n    switch (this.verticalAlign) {\n      case PopoverVerticalAlign.Center:\n      case PopoverVerticalAlign.Stretch:\n        top = targetRect.top - (popoverSize.height - targetRect.height) / 2;\n        break;\n      case PopoverVerticalAlign.Top:\n        top = targetRect.top;\n        break;\n      case PopoverVerticalAlign.Bottom:\n        top = targetRect.bottom - popoverSize.height;\n        break;\n    }\n    return top;\n  }\n  get isModal() {\n    // Required by Popup.js\n    return this.modal;\n  }\n  get shouldHideBackdrop() {\n    // Required by Popup.js\n    return this.hideBackdrop;\n  }\n  get _ariaLabelledBy() {\n    // Required by Popup.js\n    if (!this._ariaLabel && this._displayHeader) {\n      return \"ui5-popup-header\";\n    }\n    return undefined;\n  }\n  get _ariaModal() {\n    // Required by Popup.js\n    return true;\n  }\n  get styles() {\n    return {\n      ...super.styles,\n      root: {\n        \"max-height\": `${this._maxHeight}px`,\n        \"max-width\": `${this._maxWidth}px`\n      },\n      arrow: {\n        transform: `translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`\n      }\n    };\n  }\n  get classes() {\n    const allClasses = super.classes;\n    allClasses.root[\"ui5-popover-root\"] = true;\n    return allClasses;\n  }\n\n  /**\n   * Hook for descendants to hide header.\n   */\n  get _displayHeader() {\n    return this.header.length || this.headerText;\n  }\n\n  /**\n   * Hook for descendants to hide footer.\n   */\n  get _displayFooter() {\n    return true;\n  }\n}\nPopover.define();\nexport default Popover;","map":{"version":3,"names":["Integer","isIOS","DOMReference","getClosedPopupParent","clamp","Popup","PopoverPlacementType","PopoverVerticalAlign","PopoverHorizontalAlign","addOpenedPopover","removeOpenedPopover","PopoverTemplate","browserScrollbarCSS","PopupsCommonCss","PopoverCss","ARROW_SIZE","metadata","tag","properties","headerText","type","String","placementType","defaultValue","Right","horizontalAlign","Center","verticalAlign","modal","Boolean","hideBackdrop","hideArrow","allowTargetOverlap","opener","disableScrolling","arrowTranslateX","noAttribute","arrowTranslateY","actualPlacementType","_maxHeight","_maxWidth","managedSlots","slots","header","HTMLElement","footer","events","Popover","constructor","styles","template","VIEWPORT_MARGIN","onAfterRendering","isOpen","open","getRootNode","getElementById","console","warn","showAt","close","isOpenerClicked","event","target","_opener","getFocusDomRef","composedPath","indexOf","preventInitialFocus","opened","_openerRect","getBoundingClientRect","_open","_addOpenedPopup","_removeOpenedPopup","shouldCloseDueToOverflow","placement","openerRect","threshold","limits","right","left","top","bottom","closedPopupParent","overflowsBottom","overflowsTop","contentRect","contentDOM","height","innerHeight","shouldCloseDueToNoOpener","isOpenerOutsideViewport","window","innerWidth","_resize","reposition","_show","popoverSize","getPopoverSize","width","isFocusWithin","_oldPlacement","calcPlacement","stretching","Stretch","_preventRepositionAndClose","_left","document","documentElement","clientWidth","Math","max","_top","clientHeight","Bottom","arrow","x","y","_adjustForIOSKeyboard","Object","assign","style","_width","actualTop","ceil","Number","parseInt","display","rect","arrowDOM","shadowRoot","querySelector","targetRect","maxHeight","maxWidth","getActualPlacementType","isVertical","Top","arrowOffset","getVerticalLeft","min","Left","getHorizontalTop","round","undefined","abs","borderRadius","getComputedStyle","getPropertyValue","arrowPos","getArrowPosition","arrowXCentered","safeRangeForArrowY","safeRangeForArrowX","fallbackPlacement","isModal","shouldHideBackdrop","_ariaLabelledBy","_ariaLabel","_displayHeader","_ariaModal","root","transform","classes","allClasses","length","_displayFooter","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/Popover.js"],"sourcesContent":["import Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { isIOS } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport DOMReference from \"@ui5/webcomponents-base/dist/types/DOMReference.js\";\nimport { getClosedPopupParent } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport clamp from \"@ui5/webcomponents-base/dist/util/clamp.js\";\nimport Popup from \"./Popup.js\";\nimport PopoverPlacementType from \"./types/PopoverPlacementType.js\";\nimport PopoverVerticalAlign from \"./types/PopoverVerticalAlign.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport { addOpenedPopover, removeOpenedPopover } from \"./popup-utils/PopoverRegistry.js\";\n\n// Template\nimport PopoverTemplate from \"./generated/templates/PopoverTemplate.lit.js\";\n// Styles\nimport browserScrollbarCSS from \"./generated/themes/BrowserScrollbar.css.js\";\nimport PopupsCommonCss from \"./generated/themes/PopupsCommon.css.js\";\nimport PopoverCss from \"./generated/themes/Popover.css.js\";\n\nconst ARROW_SIZE = 8;\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-popover\",\n\tproperties: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t\t/**\n\t\t * Defines the header text.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>header</code> slot is provided, the <code>headerText</code> is ignored.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\theaderText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines on which side the component is placed at.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Left</code></li>\n\t\t * <li><code>Right</code></li>\n\t\t * <li><code>Top</code></li>\n\t\t * <li><code>Bottom</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.types.PopoverPlacementType}\n\t\t * @defaultvalue \"Right\"\n\t\t * @public\n\t\t */\n\t\tplacementType: {\n\t\t\ttype: PopoverPlacementType,\n\t\t\tdefaultValue: PopoverPlacementType.Right,\n\t\t},\n\n\t\t/**\n\t\t * Determines the horizontal alignment of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Center</code></li>\n\t\t * <li><code>Left</code></li>\n\t\t * <li><code>Right</code></li>\n\t\t * <li><code>Stretch</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.types.PopoverHorizontalAlign}\n\t\t * @defaultvalue \"Center\"\n\t\t * @public\n\t\t */\n\t\thorizontalAlign: {\n\t\t\ttype: PopoverHorizontalAlign,\n\t\t\tdefaultValue: PopoverHorizontalAlign.Center,\n\t\t},\n\n\t\t/**\n\t\t * Determines the vertical alignment of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Center</code></li>\n\t\t * <li><code>Top</code></li>\n\t\t * <li><code>Bottom</code></li>\n\t\t * <li><code>Stretch</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.types.PopoverVerticalAlign}\n\t\t * @defaultvalue \"Center\"\n\t\t * @public\n\t\t */\n\t\tverticalAlign: {\n\t\t\ttype: PopoverVerticalAlign,\n\t\t\tdefaultValue: PopoverVerticalAlign.Center,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component should close when\n\t\t * clicking/tapping outside of the popover.\n\t\t * If enabled, it blocks any interaction with the background.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tmodal: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the block layer will be shown if modal property is set to true.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.10\n\t\t */\n\t\thideBackdrop: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the component arrow is hidden.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\thideArrow: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines if there is no enough space, the component can be placed\n\t\t * over the target.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tallowTargetOverlap: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the ID or DOM Reference of the element that the popover is shown at\n\t\t * @public\n\t\t * @type {sap.ui.webcomponents.base.types.DOMReference}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.2.0\n\t\t */\n\t\topener: {\n\t\t\ttype: DOMReference,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the content is scrollable.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @private\n\t\t */\n\t\tdisableScrolling: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Sets the X translation of the arrow\n\t\t *\n\t\t * @private\n\t\t */\n\t\tarrowTranslateX: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * Sets the Y translation of the arrow\n\t\t *\n\t\t * @private\n\t\t */\n\t\tarrowTranslateY: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * Returns the calculated placement depending on the free space\n\t\t *\n\t\t * @private\n\t\t */\n\t\tactualPlacementType: {\n\t\t\ttype: PopoverPlacementType,\n\t\t\tdefaultValue: PopoverPlacementType.Right,\n\t\t},\n\n\t\t_maxHeight: {\n\t\t\ttype: Integer,\n\t\t\tnoAttribute: true,\n\t\t},\n\t\t_maxWidth: {\n\t\t\ttype: Integer,\n\t\t\tnoAttribute: true,\n\t\t},\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t\t/**\n\t\t * Defines the header HTML Element.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\theader: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the footer HTML Element.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tfooter: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.Popover.prototype */ {\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-popover</code> component displays additional information for an object\n * in a compact way and without leaving the page.\n * The Popover can contain various UI elements, such as fields, tables, images, and charts.\n * It can also include actions in the footer.\n *\n * <h3>Structure</h3>\n *\n * The popover has three main areas:\n * <ul>\n * <li>Header (optional)</li>\n * <li>Content</li>\n * <li>Footer (optional)</li>\n * </ul>\n *\n * <b>Note:</b> The <code>ui5-popover</code> is closed when the user clicks\n * or taps outside the popover\n * or selects an action within the popover. You can prevent this with the\n * <code>modal</code> property.\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-popover</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>header - Used to style the header of the component</li>\n * <li>content - Used to style the content of the component</li>\n * <li>footer - Used to style the footer of the component</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Popover.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Popover\n * @extends sap.ui.webcomponents.main.Popup\n * @tagname ui5-popover\n * @since 1.0.0-rc.6\n * @public\n */\nclass Popover extends Popup {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn [browserScrollbarCSS, PopupsCommonCss, PopoverCss];\n\t}\n\n\tstatic get template() {\n\t\treturn PopoverTemplate;\n\t}\n\n\tstatic get VIEWPORT_MARGIN() {\n\t\treturn 10; // px\n\t}\n\n\tonAfterRendering() {\n\t\tif (!this.isOpen() && this.open) {\n\t\t\tconst opener = this.opener instanceof HTMLElement ? this.opener : this.getRootNode().getElementById(this.opener);\n\t\t\tif (!opener) {\n\t\t\t\tconsole.warn(\"Valid opener id is required.\"); // eslint-disable-line\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.showAt(opener);\n\t\t} else if (this.isOpen() && !this.open) {\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\tisOpenerClicked(event) {\n\t\tconst target = event.target;\n\t\treturn target === this._opener || (target.getFocusDomRef && target.getFocusDomRef() === this._opener) || event.composedPath().indexOf(this._opener) > -1;\n\t}\n\n\t/**\n\t * Shows the popover.\n\t * @param {HTMLElement} opener the element that the popover is shown at\n\t * @param {boolean} preventInitialFocus prevents applying the focus inside the popover\n\t * @public\n\t * @async\n\t * @returns {Promise} Resolved when the popover is open\n\t */\n\tasync showAt(opener, preventInitialFocus = false) {\n\t\tif (!opener || this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._opener = opener;\n\t\tthis._openerRect = opener.getBoundingClientRect();\n\n\t\tawait super._open(preventInitialFocus);\n\t}\n\n\t/**\n\t * Override for the _addOpenedPopup hook, which would otherwise just call addOpenedPopup(this)\n\t * @private\n\t */\n\t_addOpenedPopup() {\n\t\taddOpenedPopover(this);\n\t}\n\n\t/**\n\t * Override for the _removeOpenedPopup hook, which would otherwise just call removeOpenedPopup(this)\n\t * @private\n\t */\n\t_removeOpenedPopup() {\n\t\tremoveOpenedPopover(this);\n\t}\n\n\tshouldCloseDueToOverflow(placement, openerRect) {\n\t\tconst threshold = 32;\n\t\tconst limits = {\n\t\t\t\"Right\": openerRect.right,\n\t\t\t\"Left\": openerRect.left,\n\t\t\t\"Top\": openerRect.top,\n\t\t\t\"Bottom\": openerRect.bottom,\n\t\t};\n\n\t\tconst closedPopupParent = getClosedPopupParent(this._opener);\n\t\tlet overflowsBottom = false;\n\t\tlet overflowsTop = false;\n\n\t\tif (closedPopupParent.showAt) {\n\t\t\tconst contentRect = closedPopupParent.contentDOM.getBoundingClientRect();\n\t\t\toverflowsBottom = openerRect.top > (contentRect.top + contentRect.height);\n\t\t\toverflowsTop = (openerRect.top + openerRect.height) < contentRect.top;\n\t\t}\n\n\t\treturn (limits[placement] < 0 || (limits[placement] + threshold > closedPopupParent.innerHeight)) || overflowsBottom || overflowsTop;\n\t}\n\n\tshouldCloseDueToNoOpener(openerRect) {\n\t\treturn openerRect.top === 0\n\t\t\t&& openerRect.bottom === 0\n\t\t\t&& openerRect.left === 0\n\t\t\t&& openerRect.right === 0;\n\t}\n\n\tisOpenerOutsideViewport(openerRect) {\n\t\treturn openerRect.bottom < 0\n\t\t\t|| openerRect.top > window.innerHeight\n\t\t\t|| openerRect.right < 0\n\t\t\t|| openerRect.left > window.innerWidth;\n\t}\n\n\t/**\n\t * @override\n\t */\n\t_resize() {\n\t\tsuper._resize();\n\n\t\tif (this.opened) {\n\t\t\tthis.reposition();\n\t\t}\n\t}\n\n\treposition() {\n\t\tthis._show();\n\t}\n\n\t_show() {\n\t\tlet placement;\n\t\tconst popoverSize = this.getPopoverSize();\n\n\t\tif (popoverSize.width === 0 || popoverSize.height === 0) {\n\t\t\t// size can not be determined properly at this point, popover will be shown with the next reposition\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isOpen()) {\n\t\t\t// update opener rect if it was changed during the popover being opened\n\t\t\tthis._openerRect = this._opener.getBoundingClientRect();\n\t\t}\n\n\t\tif (this.shouldCloseDueToNoOpener(this._openerRect) && this.isFocusWithin()) {\n\t\t\t// reuse the old placement as the opener is not available,\n\t\t\t// but keep the popover open as the focus is within\n\t\t\tplacement = this._oldPlacement;\n\t\t} else {\n\t\t\tplacement = this.calcPlacement(this._openerRect, popoverSize);\n\t\t}\n\n\t\tconst stretching = this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n\n\t\tif (this._preventRepositionAndClose || this.isOpenerOutsideViewport(this._openerRect)) {\n\t\t\treturn this.close();\n\t\t}\n\n\t\tthis._oldPlacement = placement;\n\t\tthis.actualPlacementType = placement.placementType;\n\n\t\tlet left = clamp(\n\t\t\tthis._left,\n\t\t\tPopover.VIEWPORT_MARGIN,\n\t\t\tdocument.documentElement.clientWidth - popoverSize.width - Popover.VIEWPORT_MARGIN,\n\t\t);\n\n\t\tif (this.actualPlacementType === PopoverPlacementType.Right) {\n\t\t\tleft = Math.max(left, this._left);\n\t\t}\n\n\t\tlet top = clamp(\n\t\t\tthis._top,\n\t\t\tPopover.VIEWPORT_MARGIN,\n\t\t\tdocument.documentElement.clientHeight - popoverSize.height - Popover.VIEWPORT_MARGIN,\n\t\t);\n\n\t\tif (this.actualPlacementType === PopoverPlacementType.Bottom) {\n\t\t\ttop = Math.max(top, this._top);\n\t\t}\n\n\t\tthis.arrowTranslateX = placement.arrow.x;\n\t\tthis.arrowTranslateY = placement.arrow.y;\n\n\t\ttop = this._adjustForIOSKeyboard(top);\n\n\t\tObject.assign(this.style, {\n\t\t\ttop: `${top}px`,\n\t\t\tleft: `${left}px`,\n\t\t});\n\t\tsuper._show();\n\n\t\tif (stretching && this._width) {\n\t\t\tthis.style.width = this._width;\n\t\t}\n\t}\n\n\t/**\n\t * Adjust the desired top position to compensate for shift of the screen\n\t * caused by opened keyboard on iOS which affects all elements with position:fixed.\n\t * @private\n\t * @param {int} top The target top in px.\n\t * @returns {int} The adjusted top in px.\n\t */\n\t_adjustForIOSKeyboard(top) {\n\t\tif (!isIOS()) {\n\t\t\treturn top;\n\t\t}\n\n\t\tconst actualTop = Math.ceil(this.getBoundingClientRect().top);\n\n\t\treturn top + (Number.parseInt(this.style.top || \"0\") - actualTop);\n\t}\n\n\tgetPopoverSize() {\n\t\tif (!this.opened) {\n\t\t\tObject.assign(this.style, {\n\t\t\t\tdisplay: \"block\",\n\t\t\t\ttop: \"-10000px\",\n\t\t\t\tleft: \"-10000px\",\n\t\t\t});\n\t\t}\n\n\t\tconst rect = this.getBoundingClientRect(),\n\t\t\twidth = rect.width,\n\t\t\theight = rect.height;\n\n\t\treturn { width, height };\n\t}\n\n\tget arrowDOM() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-popover-arrow\");\n\t}\n\n\t/**\n\t * @private\n\t */\n\tcalcPlacement(targetRect, popoverSize) {\n\t\tlet left = 0;\n\t\tlet top = 0;\n\t\tconst allowTargetOverlap = this.allowTargetOverlap;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tlet maxHeight = clientHeight;\n\t\tlet maxWidth = clientWidth;\n\n\t\tconst placementType = this.getActualPlacementType(targetRect, popoverSize);\n\n\t\tthis._preventRepositionAndClose = this.shouldCloseDueToNoOpener(targetRect) || this.shouldCloseDueToOverflow(placementType, targetRect);\n\n\t\tconst isVertical = placementType === PopoverPlacementType.Top\n\t\t\t|| placementType === PopoverPlacementType.Bottom;\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Stretch && isVertical) {\n\t\t\tpopoverSize.width = targetRect.width;\n\t\t\tthis._width = `${targetRect.width}px`;\n\t\t} else if (this.verticalAlign === PopoverVerticalAlign.Stretch && !isVertical) {\n\t\t\tpopoverSize.height = targetRect.height;\n\t\t}\n\n\t\tconst arrowOffset = this.hideArrow ? 0 : ARROW_SIZE;\n\n\t\t// calc popover positions\n\t\tswitch (placementType) {\n\t\tcase PopoverPlacementType.Top:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\t\t\ttop = Math.max(targetRect.top - popoverSize.height - arrowOffset, 0);\n\n\t\t\tif (!allowTargetOverlap) {\n\t\t\t\tmaxHeight = targetRect.top - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Bottom:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\t\t\ttop = targetRect.bottom + arrowOffset;\n\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\ttop = Math.max(Math.min(top, clientHeight - popoverSize.height), 0);\n\t\t\t} else {\n\t\t\t\tmaxHeight = clientHeight - targetRect.bottom - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Left:\n\t\t\tleft = Math.max(targetRect.left - popoverSize.width - arrowOffset, 0);\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\n\t\t\tif (!allowTargetOverlap) {\n\t\t\t\tmaxWidth = targetRect.left - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Right:\n\t\t\tleft = targetRect.left + targetRect.width + arrowOffset;\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\tleft = Math.max(Math.min(left, clientWidth - popoverSize.width), 0);\n\t\t\t} else {\n\t\t\t\tmaxWidth = clientWidth - targetRect.right - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\t// correct popover positions\n\t\tif (isVertical) {\n\t\t\tif (popoverSize.width > clientWidth || left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t} else if (left + popoverSize.width > clientWidth) {\n\t\t\t\tleft -= left + popoverSize.width - clientWidth;\n\t\t\t}\n\t\t} else {\n\t\t\tif (popoverSize.height > clientHeight || top < 0) { // eslint-disable-line\n\t\t\t\ttop = 0;\n\t\t\t} else if (top + popoverSize.height > clientHeight) {\n\t\t\t\ttop -= top + popoverSize.height - clientHeight;\n\t\t\t}\n\t\t}\n\n\t\tthis._maxHeight = Math.round(maxHeight - Popover.VIEWPORT_MARGIN);\n\t\tthis._maxWidth = Math.round(maxWidth - Popover.VIEWPORT_MARGIN);\n\n\t\tif (this._left === undefined || Math.abs(this._left - left) > 1.5) {\n\t\t\tthis._left = Math.round(left);\n\t\t}\n\n\t\tif (this._top === undefined || Math.abs(this._top - top) > 1.5) {\n\t\t\tthis._top = Math.round(top);\n\t\t}\n\n\t\tconst borderRadius = Number.parseInt(window.getComputedStyle(this).getPropertyValue(\"border-radius\"));\n\t\tconst arrowPos = this.getArrowPosition(targetRect, popoverSize, left, top, isVertical, borderRadius);\n\n\t\treturn {\n\t\t\tarrow: arrowPos,\n\t\t\ttop: this._top,\n\t\t\tleft: this._left,\n\t\t\tplacementType,\n\t\t};\n\t}\n\n\t/**\n\t * Calculates the position for the arrow.\n\t * @private\n\t * @param targetRect BoundingClientRect of the target element\n\t * @param {{width: number, height: number}} popoverSize Width and height of the popover\n\t * @param left Left offset of the popover\n\t * @param top Top offset of the popover\n\t * @param isVertical If the popover is positioned vertically to the target element\n\t * @param {number} borderRadius Value of the border-radius property\n\t * @returns {{x: number, y: number}} Arrow's coordinates\n\t */\n\tgetArrowPosition(targetRect, { width, height }, left, top, isVertical, borderRadius) {\n\t\tlet arrowXCentered = this.horizontalAlign === PopoverHorizontalAlign.Center || this.horizontalAlign === PopoverHorizontalAlign.Stretch;\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Right && left <= targetRect.left) {\n\t\t\tarrowXCentered = true;\n\t\t}\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Left && left + width >= targetRect.left + targetRect.width) {\n\t\t\tarrowXCentered = true;\n\t\t}\n\n\t\tlet arrowTranslateX = 0;\n\t\tif (isVertical && arrowXCentered) {\n\t\t\tarrowTranslateX = targetRect.left + targetRect.width / 2 - left - width / 2;\n\t\t}\n\n\t\tlet arrowTranslateY = 0;\n\t\tif (!isVertical) {\n\t\t\tarrowTranslateY = targetRect.top + targetRect.height / 2 - top - height / 2;\n\t\t}\n\n\t\t// Restricts the arrow's translate value along each dimension,\n\t\t// so that the arrow does not clip over the popover's rounded borders.\n\t\tconst safeRangeForArrowY = height / 2 - borderRadius - ARROW_SIZE / 2;\n\t\tarrowTranslateY = clamp(\n\t\t\tarrowTranslateY,\n\t\t\t-safeRangeForArrowY,\n\t\t\tsafeRangeForArrowY,\n\t\t);\n\n\t\tconst safeRangeForArrowX = width / 2 - borderRadius - ARROW_SIZE / 2;\n\t\tarrowTranslateX = clamp(\n\t\t\tarrowTranslateX,\n\t\t\t-safeRangeForArrowX,\n\t\t\tsafeRangeForArrowX,\n\t\t);\n\n\t\treturn {\n\t\t\tx: Math.round(arrowTranslateX),\n\t\t\ty: Math.round(arrowTranslateY),\n\t\t};\n\t}\n\n\t/**\n\t * Fallbacks to new placement, prioritizing <code>Left</code> and <code>Right</code> placements.\n\t * @private\n\t */\n\tfallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) {\n\t\tif (targetRect.left > popoverSize.width) {\n\t\t\treturn PopoverPlacementType.Left;\n\t\t}\n\n\t\tif (clientWidth - targetRect.right > targetRect.left) {\n\t\t\treturn PopoverPlacementType.Right;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom > popoverSize.height) {\n\t\t\treturn PopoverPlacementType.Bottom;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\treturn PopoverPlacementType.Top;\n\t\t}\n\t}\n\n\tgetActualPlacementType(targetRect, popoverSize) {\n\t\tconst placementType = this.placementType;\n\t\tlet actualPlacementType = placementType;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tswitch (placementType) {\n\t\tcase PopoverPlacementType.Top:\n\t\t\tif (targetRect.top < popoverSize.height\n\t\t\t\t&& targetRect.top < clientHeight - targetRect.bottom) {\n\t\t\t\tactualPlacementType = PopoverPlacementType.Bottom;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Bottom:\n\t\t\tif (clientHeight - targetRect.bottom < popoverSize.height\n\t\t\t\t&& clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\t\tactualPlacementType = PopoverPlacementType.Top;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Left:\n\t\t\tif (targetRect.left < popoverSize.width) {\n\t\t\t\tactualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacementType.Right:\n\t\t\tif (clientWidth - targetRect.right < popoverSize.width) {\n\t\t\t\tactualPlacementType = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placementType;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn actualPlacementType;\n\t}\n\n\tgetVerticalLeft(targetRect, popoverSize) {\n\t\tlet left;\n\n\t\tswitch (this.horizontalAlign) {\n\t\tcase PopoverHorizontalAlign.Center:\n\t\tcase PopoverHorizontalAlign.Stretch:\n\n\t\t\tleft = targetRect.left - (popoverSize.width - targetRect.width) / 2;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.Left:\n\t\t\tleft = targetRect.left;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.Right:\n\t\t\tleft = targetRect.right - popoverSize.width;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn left;\n\t}\n\n\tgetHorizontalTop(targetRect, popoverSize) {\n\t\tlet top;\n\n\t\tswitch (this.verticalAlign) {\n\t\tcase PopoverVerticalAlign.Center:\n\t\tcase PopoverVerticalAlign.Stretch:\n\t\t\ttop = targetRect.top - (popoverSize.height - targetRect.height) / 2;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Top:\n\t\t\ttop = targetRect.top;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Bottom:\n\t\t\ttop = targetRect.bottom - popoverSize.height;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn top;\n\t}\n\n\tget isModal() { // Required by Popup.js\n\t\treturn this.modal;\n\t}\n\n\tget shouldHideBackdrop() { // Required by Popup.js\n\t\treturn this.hideBackdrop;\n\t}\n\n\tget _ariaLabelledBy() { // Required by Popup.js\n\t\tif (!this._ariaLabel && this._displayHeader) {\n\t\t\treturn \"ui5-popup-header\";\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget _ariaModal() { // Required by Popup.js\n\t\treturn true;\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\t...super.styles,\n\t\t\troot: {\n\t\t\t\t\"max-height\": `${this._maxHeight}px`,\n\t\t\t\t\"max-width\": `${this._maxWidth}px`,\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\ttransform: `translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`,\n\t\t\t},\n\t\t};\n\t}\n\n\tget classes() {\n\t\tconst allClasses = super.classes;\n\t\tallClasses.root[\"ui5-popover-root\"] = true;\n\n\t\treturn allClasses;\n\t}\n\n\t/**\n\t * Hook for descendants to hide header.\n\t */\n\tget _displayHeader() {\n\t\treturn this.header.length || this.headerText;\n\t}\n\n\t/**\n\t * Hook for descendants to hide footer.\n\t */\n\tget _displayFooter() {\n\t\treturn true;\n\t}\n}\n\nPopover.define();\n\nexport default Popover;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,+CAA+C;AACnE,SAASC,KAAK,QAAQ,wCAAwC;AAC9D,OAAOC,YAAY,MAAM,oDAAoD;AAC7E,SAASC,oBAAoB,QAAQ,iDAAiD;AACtF,OAAOC,KAAK,MAAM,4CAA4C;AAC9D,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,oBAAoB,MAAM,iCAAiC;AAClE,OAAOC,oBAAoB,MAAM,iCAAiC;AAClE,OAAOC,sBAAsB,MAAM,mCAAmC;AACtE,SAASC,gBAAgB,EAAEC,mBAAmB,QAAQ,kCAAkC;;AAExF;AACA,OAAOC,eAAe,MAAM,8CAA8C;AAC1E;AACA,OAAOC,mBAAmB,MAAM,4CAA4C;AAC5E,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,UAAU,MAAM,mCAAmC;AAE1D,MAAMC,UAAU,GAAG,CAAC;;AAEpB;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,aAAa;EAClBC,UAAU,EAAE,yDAA0D;IACrE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXC,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,aAAa,EAAE;MACdF,IAAI,EAAEd,oBAAoB;MAC1BiB,YAAY,EAAEjB,oBAAoB,CAACkB;IACpC,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,eAAe,EAAE;MAChBL,IAAI,EAAEZ,sBAAsB;MAC5Be,YAAY,EAAEf,sBAAsB,CAACkB;IACtC,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,aAAa,EAAE;MACdP,IAAI,EAAEb,oBAAoB;MAC1BgB,YAAY,EAAEhB,oBAAoB,CAACmB;IACpC,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEE,KAAK,EAAE;MACNR,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,YAAY,EAAE;MACbV,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEE,SAAS,EAAE;MACVX,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEG,kBAAkB,EAAE;MACnBZ,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEI,MAAM,EAAE;MACPb,IAAI,EAAElB;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEgC,gBAAgB,EAAE;MACjBd,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;IACEM,eAAe,EAAE;MAChBf,IAAI,EAAEpB,OAAO;MACbuB,YAAY,EAAE,CAAC;MACfa,WAAW,EAAE;IACd,CAAC;IAED;AACF;AACA;AACA;AACA;IACEC,eAAe,EAAE;MAChBjB,IAAI,EAAEpB,OAAO;MACbuB,YAAY,EAAE,CAAC;MACfa,WAAW,EAAE;IACd,CAAC;IAED;AACF;AACA;AACA;AACA;IACEE,mBAAmB,EAAE;MACpBlB,IAAI,EAAEd,oBAAoB;MAC1BiB,YAAY,EAAEjB,oBAAoB,CAACkB;IACpC,CAAC;IAEDe,UAAU,EAAE;MACXnB,IAAI,EAAEpB,OAAO;MACboC,WAAW,EAAE;IACd,CAAC;IACDI,SAAS,EAAE;MACVpB,IAAI,EAAEpB,OAAO;MACboC,WAAW,EAAE;IACd;EACD,CAAC;EACDK,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE,yDAA0D;IAChE;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE;MACPvB,IAAI,EAAEwB;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE;MACPzB,IAAI,EAAEwB;IACP;EACD,CAAC;EACDE,MAAM,EAAE,yDAA0D,CAClE;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,OAAO,SAAS1C,KAAK,CAAC;EAC3B2C,WAAW,GAAG;IACb,KAAK,EAAE;EACR;EAEA,WAAWhC,QAAQ,GAAG;IACrB,OAAOA,QAAQ;EAChB;EAEA,WAAWiC,MAAM,GAAG;IACnB,OAAO,CAACrC,mBAAmB,EAAEC,eAAe,EAAEC,UAAU,CAAC;EAC1D;EAEA,WAAWoC,QAAQ,GAAG;IACrB,OAAOvC,eAAe;EACvB;EAEA,WAAWwC,eAAe,GAAG;IAC5B,OAAO,EAAE,CAAC,CAAC;EACZ;;EAEAC,gBAAgB,GAAG;IAClB,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE,IAAI,IAAI,CAACC,IAAI,EAAE;MAChC,MAAMrB,MAAM,GAAG,IAAI,CAACA,MAAM,YAAYW,WAAW,GAAG,IAAI,CAACX,MAAM,GAAG,IAAI,CAACsB,WAAW,EAAE,CAACC,cAAc,CAAC,IAAI,CAACvB,MAAM,CAAC;MAChH,IAAI,CAACA,MAAM,EAAE;QACZwB,OAAO,CAACC,IAAI,CAAC,8BAA8B,CAAC,CAAC,CAAC;QAC9C;MACD;MAEA,IAAI,CAACC,MAAM,CAAC1B,MAAM,CAAC;IACpB,CAAC,MAAM,IAAI,IAAI,CAACoB,MAAM,EAAE,IAAI,CAAC,IAAI,CAACC,IAAI,EAAE;MACvC,IAAI,CAACM,KAAK,EAAE;IACb;EACD;EAEAC,eAAe,CAACC,KAAK,EAAE;IACtB,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC3B,OAAOA,MAAM,KAAK,IAAI,CAACC,OAAO,IAAKD,MAAM,CAACE,cAAc,IAAIF,MAAM,CAACE,cAAc,EAAE,KAAK,IAAI,CAACD,OAAQ,IAAIF,KAAK,CAACI,YAAY,EAAE,CAACC,OAAO,CAAC,IAAI,CAACH,OAAO,CAAC,GAAG,CAAC,CAAC;EACzJ;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;EACC,MAAML,MAAM,CAAC1B,MAAM,EAA+B;IAAA,IAA7BmC,mBAAmB,uEAAG,KAAK;IAC/C,IAAI,CAACnC,MAAM,IAAI,IAAI,CAACoC,MAAM,EAAE;MAC3B;IACD;IAEA,IAAI,CAACL,OAAO,GAAG/B,MAAM;IACrB,IAAI,CAACqC,WAAW,GAAGrC,MAAM,CAACsC,qBAAqB,EAAE;IAEjD,MAAM,KAAK,CAACC,KAAK,CAACJ,mBAAmB,CAAC;EACvC;;EAEA;AACD;AACA;AACA;EACCK,eAAe,GAAG;IACjBhE,gBAAgB,CAAC,IAAI,CAAC;EACvB;;EAEA;AACD;AACA;AACA;EACCiE,kBAAkB,GAAG;IACpBhE,mBAAmB,CAAC,IAAI,CAAC;EAC1B;EAEAiE,wBAAwB,CAACC,SAAS,EAAEC,UAAU,EAAE;IAC/C,MAAMC,SAAS,GAAG,EAAE;IACpB,MAAMC,MAAM,GAAG;MACd,OAAO,EAAEF,UAAU,CAACG,KAAK;MACzB,MAAM,EAAEH,UAAU,CAACI,IAAI;MACvB,KAAK,EAAEJ,UAAU,CAACK,GAAG;MACrB,QAAQ,EAAEL,UAAU,CAACM;IACtB,CAAC;IAED,MAAMC,iBAAiB,GAAGjF,oBAAoB,CAAC,IAAI,CAAC6D,OAAO,CAAC;IAC5D,IAAIqB,eAAe,GAAG,KAAK;IAC3B,IAAIC,YAAY,GAAG,KAAK;IAExB,IAAIF,iBAAiB,CAACzB,MAAM,EAAE;MAC7B,MAAM4B,WAAW,GAAGH,iBAAiB,CAACI,UAAU,CAACjB,qBAAqB,EAAE;MACxEc,eAAe,GAAGR,UAAU,CAACK,GAAG,GAAIK,WAAW,CAACL,GAAG,GAAGK,WAAW,CAACE,MAAO;MACzEH,YAAY,GAAIT,UAAU,CAACK,GAAG,GAAGL,UAAU,CAACY,MAAM,GAAIF,WAAW,CAACL,GAAG;IACtE;IAEA,OAAQH,MAAM,CAACH,SAAS,CAAC,GAAG,CAAC,IAAKG,MAAM,CAACH,SAAS,CAAC,GAAGE,SAAS,GAAGM,iBAAiB,CAACM,WAAY,IAAKL,eAAe,IAAIC,YAAY;EACrI;EAEAK,wBAAwB,CAACd,UAAU,EAAE;IACpC,OAAOA,UAAU,CAACK,GAAG,KAAK,CAAC,IACvBL,UAAU,CAACM,MAAM,KAAK,CAAC,IACvBN,UAAU,CAACI,IAAI,KAAK,CAAC,IACrBJ,UAAU,CAACG,KAAK,KAAK,CAAC;EAC3B;EAEAY,uBAAuB,CAACf,UAAU,EAAE;IACnC,OAAOA,UAAU,CAACM,MAAM,GAAG,CAAC,IACxBN,UAAU,CAACK,GAAG,GAAGW,MAAM,CAACH,WAAW,IACnCb,UAAU,CAACG,KAAK,GAAG,CAAC,IACpBH,UAAU,CAACI,IAAI,GAAGY,MAAM,CAACC,UAAU;EACxC;;EAEA;AACD;AACA;EACCC,OAAO,GAAG;IACT,KAAK,CAACA,OAAO,EAAE;IAEf,IAAI,IAAI,CAAC1B,MAAM,EAAE;MAChB,IAAI,CAAC2B,UAAU,EAAE;IAClB;EACD;EAEAA,UAAU,GAAG;IACZ,IAAI,CAACC,KAAK,EAAE;EACb;EAEAA,KAAK,GAAG;IACP,IAAIrB,SAAS;IACb,MAAMsB,WAAW,GAAG,IAAI,CAACC,cAAc,EAAE;IAEzC,IAAID,WAAW,CAACE,KAAK,KAAK,CAAC,IAAIF,WAAW,CAACT,MAAM,KAAK,CAAC,EAAE;MACxD;MACA;IACD;IAEA,IAAI,IAAI,CAACpC,MAAM,EAAE,EAAE;MAClB;MACA,IAAI,CAACiB,WAAW,GAAG,IAAI,CAACN,OAAO,CAACO,qBAAqB,EAAE;IACxD;IAEA,IAAI,IAAI,CAACoB,wBAAwB,CAAC,IAAI,CAACrB,WAAW,CAAC,IAAI,IAAI,CAAC+B,aAAa,EAAE,EAAE;MAC5E;MACA;MACAzB,SAAS,GAAG,IAAI,CAAC0B,aAAa;IAC/B,CAAC,MAAM;MACN1B,SAAS,GAAG,IAAI,CAAC2B,aAAa,CAAC,IAAI,CAACjC,WAAW,EAAE4B,WAAW,CAAC;IAC9D;IAEA,MAAMM,UAAU,GAAG,IAAI,CAAC/E,eAAe,KAAKjB,sBAAsB,CAACiG,OAAO;IAE1E,IAAI,IAAI,CAACC,0BAA0B,IAAI,IAAI,CAACd,uBAAuB,CAAC,IAAI,CAACtB,WAAW,CAAC,EAAE;MACtF,OAAO,IAAI,CAACV,KAAK,EAAE;IACpB;IAEA,IAAI,CAAC0C,aAAa,GAAG1B,SAAS;IAC9B,IAAI,CAACtC,mBAAmB,GAAGsC,SAAS,CAACtD,aAAa;IAElD,IAAI2D,IAAI,GAAG7E,KAAK,CACf,IAAI,CAACuG,KAAK,EACV5D,OAAO,CAACI,eAAe,EACvByD,QAAQ,CAACC,eAAe,CAACC,WAAW,GAAGZ,WAAW,CAACE,KAAK,GAAGrD,OAAO,CAACI,eAAe,CAClF;IAED,IAAI,IAAI,CAACb,mBAAmB,KAAKhC,oBAAoB,CAACkB,KAAK,EAAE;MAC5DyD,IAAI,GAAG8B,IAAI,CAACC,GAAG,CAAC/B,IAAI,EAAE,IAAI,CAAC0B,KAAK,CAAC;IAClC;IAEA,IAAIzB,GAAG,GAAG9E,KAAK,CACd,IAAI,CAAC6G,IAAI,EACTlE,OAAO,CAACI,eAAe,EACvByD,QAAQ,CAACC,eAAe,CAACK,YAAY,GAAGhB,WAAW,CAACT,MAAM,GAAG1C,OAAO,CAACI,eAAe,CACpF;IAED,IAAI,IAAI,CAACb,mBAAmB,KAAKhC,oBAAoB,CAAC6G,MAAM,EAAE;MAC7DjC,GAAG,GAAG6B,IAAI,CAACC,GAAG,CAAC9B,GAAG,EAAE,IAAI,CAAC+B,IAAI,CAAC;IAC/B;IAEA,IAAI,CAAC9E,eAAe,GAAGyC,SAAS,CAACwC,KAAK,CAACC,CAAC;IACxC,IAAI,CAAChF,eAAe,GAAGuC,SAAS,CAACwC,KAAK,CAACE,CAAC;IAExCpC,GAAG,GAAG,IAAI,CAACqC,qBAAqB,CAACrC,GAAG,CAAC;IAErCsC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACC,KAAK,EAAE;MACzBxC,GAAG,EAAG,GAAEA,GAAI,IAAG;MACfD,IAAI,EAAG,GAAEA,IAAK;IACf,CAAC,CAAC;IACF,KAAK,CAACgB,KAAK,EAAE;IAEb,IAAIO,UAAU,IAAI,IAAI,CAACmB,MAAM,EAAE;MAC9B,IAAI,CAACD,KAAK,CAACtB,KAAK,GAAG,IAAI,CAACuB,MAAM;IAC/B;EACD;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;EACCJ,qBAAqB,CAACrC,GAAG,EAAE;IAC1B,IAAI,CAACjF,KAAK,EAAE,EAAE;MACb,OAAOiF,GAAG;IACX;IAEA,MAAM0C,SAAS,GAAGb,IAAI,CAACc,IAAI,CAAC,IAAI,CAACtD,qBAAqB,EAAE,CAACW,GAAG,CAAC;IAE7D,OAAOA,GAAG,IAAI4C,MAAM,CAACC,QAAQ,CAAC,IAAI,CAACL,KAAK,CAACxC,GAAG,IAAI,GAAG,CAAC,GAAG0C,SAAS,CAAC;EAClE;EAEAzB,cAAc,GAAG;IAChB,IAAI,CAAC,IAAI,CAAC9B,MAAM,EAAE;MACjBmD,MAAM,CAACC,MAAM,CAAC,IAAI,CAACC,KAAK,EAAE;QACzBM,OAAO,EAAE,OAAO;QAChB9C,GAAG,EAAE,UAAU;QACfD,IAAI,EAAE;MACP,CAAC,CAAC;IACH;IAEA,MAAMgD,IAAI,GAAG,IAAI,CAAC1D,qBAAqB,EAAE;MACxC6B,KAAK,GAAG6B,IAAI,CAAC7B,KAAK;MAClBX,MAAM,GAAGwC,IAAI,CAACxC,MAAM;IAErB,OAAO;MAAEW,KAAK;MAAEX;IAAO,CAAC;EACzB;EAEA,IAAIyC,QAAQ,GAAG;IACd,OAAO,IAAI,CAACC,UAAU,CAACC,aAAa,CAAC,oBAAoB,CAAC;EAC3D;;EAEA;AACD;AACA;EACC7B,aAAa,CAAC8B,UAAU,EAAEnC,WAAW,EAAE;IACtC,IAAIjB,IAAI,GAAG,CAAC;IACZ,IAAIC,GAAG,GAAG,CAAC;IACX,MAAMlD,kBAAkB,GAAG,IAAI,CAACA,kBAAkB;IAElD,MAAM8E,WAAW,GAAGF,QAAQ,CAACC,eAAe,CAACC,WAAW;IACxD,MAAMI,YAAY,GAAGN,QAAQ,CAACC,eAAe,CAACK,YAAY;IAE1D,IAAIoB,SAAS,GAAGpB,YAAY;IAC5B,IAAIqB,QAAQ,GAAGzB,WAAW;IAE1B,MAAMxF,aAAa,GAAG,IAAI,CAACkH,sBAAsB,CAACH,UAAU,EAAEnC,WAAW,CAAC;IAE1E,IAAI,CAACQ,0BAA0B,GAAG,IAAI,CAACf,wBAAwB,CAAC0C,UAAU,CAAC,IAAI,IAAI,CAAC1D,wBAAwB,CAACrD,aAAa,EAAE+G,UAAU,CAAC;IAEvI,MAAMI,UAAU,GAAGnH,aAAa,KAAKhB,oBAAoB,CAACoI,GAAG,IACzDpH,aAAa,KAAKhB,oBAAoB,CAAC6G,MAAM;IAEjD,IAAI,IAAI,CAAC1F,eAAe,KAAKjB,sBAAsB,CAACiG,OAAO,IAAIgC,UAAU,EAAE;MAC1EvC,WAAW,CAACE,KAAK,GAAGiC,UAAU,CAACjC,KAAK;MACpC,IAAI,CAACuB,MAAM,GAAI,GAAEU,UAAU,CAACjC,KAAM,IAAG;IACtC,CAAC,MAAM,IAAI,IAAI,CAACzE,aAAa,KAAKpB,oBAAoB,CAACkG,OAAO,IAAI,CAACgC,UAAU,EAAE;MAC9EvC,WAAW,CAACT,MAAM,GAAG4C,UAAU,CAAC5C,MAAM;IACvC;IAEA,MAAMkD,WAAW,GAAG,IAAI,CAAC5G,SAAS,GAAG,CAAC,GAAGhB,UAAU;;IAEnD;IACA,QAAQO,aAAa;MACrB,KAAKhB,oBAAoB,CAACoI,GAAG;QAC5BzD,IAAI,GAAG,IAAI,CAAC2D,eAAe,CAACP,UAAU,EAAEnC,WAAW,CAAC;QACpDhB,GAAG,GAAG6B,IAAI,CAACC,GAAG,CAACqB,UAAU,CAACnD,GAAG,GAAGgB,WAAW,CAACT,MAAM,GAAGkD,WAAW,EAAE,CAAC,CAAC;QAEpE,IAAI,CAAC3G,kBAAkB,EAAE;UACxBsG,SAAS,GAAGD,UAAU,CAACnD,GAAG,GAAGyD,WAAW;QACzC;QACA;MACD,KAAKrI,oBAAoB,CAAC6G,MAAM;QAC/BlC,IAAI,GAAG,IAAI,CAAC2D,eAAe,CAACP,UAAU,EAAEnC,WAAW,CAAC;QACpDhB,GAAG,GAAGmD,UAAU,CAAClD,MAAM,GAAGwD,WAAW;QAErC,IAAI3G,kBAAkB,EAAE;UACvBkD,GAAG,GAAG6B,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC8B,GAAG,CAAC3D,GAAG,EAAEgC,YAAY,GAAGhB,WAAW,CAACT,MAAM,CAAC,EAAE,CAAC,CAAC;QACpE,CAAC,MAAM;UACN6C,SAAS,GAAGpB,YAAY,GAAGmB,UAAU,CAAClD,MAAM,GAAGwD,WAAW;QAC3D;QACA;MACD,KAAKrI,oBAAoB,CAACwI,IAAI;QAC7B7D,IAAI,GAAG8B,IAAI,CAACC,GAAG,CAACqB,UAAU,CAACpD,IAAI,GAAGiB,WAAW,CAACE,KAAK,GAAGuC,WAAW,EAAE,CAAC,CAAC;QACrEzD,GAAG,GAAG,IAAI,CAAC6D,gBAAgB,CAACV,UAAU,EAAEnC,WAAW,CAAC;QAEpD,IAAI,CAAClE,kBAAkB,EAAE;UACxBuG,QAAQ,GAAGF,UAAU,CAACpD,IAAI,GAAG0D,WAAW;QACzC;QACA;MACD,KAAKrI,oBAAoB,CAACkB,KAAK;QAC9ByD,IAAI,GAAGoD,UAAU,CAACpD,IAAI,GAAGoD,UAAU,CAACjC,KAAK,GAAGuC,WAAW;QACvDzD,GAAG,GAAG,IAAI,CAAC6D,gBAAgB,CAACV,UAAU,EAAEnC,WAAW,CAAC;QAEpD,IAAIlE,kBAAkB,EAAE;UACvBiD,IAAI,GAAG8B,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC8B,GAAG,CAAC5D,IAAI,EAAE6B,WAAW,GAAGZ,WAAW,CAACE,KAAK,CAAC,EAAE,CAAC,CAAC;QACpE,CAAC,MAAM;UACNmC,QAAQ,GAAGzB,WAAW,GAAGuB,UAAU,CAACrD,KAAK,GAAG2D,WAAW;QACxD;QACA;IAAM;;IAGP;IACA,IAAIF,UAAU,EAAE;MACf,IAAIvC,WAAW,CAACE,KAAK,GAAGU,WAAW,IAAI7B,IAAI,GAAG,CAAC,EAAE;QAChDA,IAAI,GAAG,CAAC;MACT,CAAC,MAAM,IAAIA,IAAI,GAAGiB,WAAW,CAACE,KAAK,GAAGU,WAAW,EAAE;QAClD7B,IAAI,IAAIA,IAAI,GAAGiB,WAAW,CAACE,KAAK,GAAGU,WAAW;MAC/C;IACD,CAAC,MAAM;MACN,IAAIZ,WAAW,CAACT,MAAM,GAAGyB,YAAY,IAAIhC,GAAG,GAAG,CAAC,EAAE;QAAE;QACnDA,GAAG,GAAG,CAAC;MACR,CAAC,MAAM,IAAIA,GAAG,GAAGgB,WAAW,CAACT,MAAM,GAAGyB,YAAY,EAAE;QACnDhC,GAAG,IAAIA,GAAG,GAAGgB,WAAW,CAACT,MAAM,GAAGyB,YAAY;MAC/C;IACD;IAEA,IAAI,CAAC3E,UAAU,GAAGwE,IAAI,CAACiC,KAAK,CAACV,SAAS,GAAGvF,OAAO,CAACI,eAAe,CAAC;IACjE,IAAI,CAACX,SAAS,GAAGuE,IAAI,CAACiC,KAAK,CAACT,QAAQ,GAAGxF,OAAO,CAACI,eAAe,CAAC;IAE/D,IAAI,IAAI,CAACwD,KAAK,KAAKsC,SAAS,IAAIlC,IAAI,CAACmC,GAAG,CAAC,IAAI,CAACvC,KAAK,GAAG1B,IAAI,CAAC,GAAG,GAAG,EAAE;MAClE,IAAI,CAAC0B,KAAK,GAAGI,IAAI,CAACiC,KAAK,CAAC/D,IAAI,CAAC;IAC9B;IAEA,IAAI,IAAI,CAACgC,IAAI,KAAKgC,SAAS,IAAIlC,IAAI,CAACmC,GAAG,CAAC,IAAI,CAACjC,IAAI,GAAG/B,GAAG,CAAC,GAAG,GAAG,EAAE;MAC/D,IAAI,CAAC+B,IAAI,GAAGF,IAAI,CAACiC,KAAK,CAAC9D,GAAG,CAAC;IAC5B;IAEA,MAAMiE,YAAY,GAAGrB,MAAM,CAACC,QAAQ,CAAClC,MAAM,CAACuD,gBAAgB,CAAC,IAAI,CAAC,CAACC,gBAAgB,CAAC,eAAe,CAAC,CAAC;IACrG,MAAMC,QAAQ,GAAG,IAAI,CAACC,gBAAgB,CAAClB,UAAU,EAAEnC,WAAW,EAAEjB,IAAI,EAAEC,GAAG,EAAEuD,UAAU,EAAEU,YAAY,CAAC;IAEpG,OAAO;MACN/B,KAAK,EAAEkC,QAAQ;MACfpE,GAAG,EAAE,IAAI,CAAC+B,IAAI;MACdhC,IAAI,EAAE,IAAI,CAAC0B,KAAK;MAChBrF;IACD,CAAC;EACF;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACCiI,gBAAgB,CAAClB,UAAU,QAAqBpD,IAAI,EAAEC,GAAG,EAAEuD,UAAU,EAAEU,YAAY,EAAE;IAAA,IAAxD;MAAE/C,KAAK;MAAEX;IAAO,CAAC;IAC7C,IAAI+D,cAAc,GAAG,IAAI,CAAC/H,eAAe,KAAKjB,sBAAsB,CAACkB,MAAM,IAAI,IAAI,CAACD,eAAe,KAAKjB,sBAAsB,CAACiG,OAAO;IAEtI,IAAI,IAAI,CAAChF,eAAe,KAAKjB,sBAAsB,CAACgB,KAAK,IAAIyD,IAAI,IAAIoD,UAAU,CAACpD,IAAI,EAAE;MACrFuE,cAAc,GAAG,IAAI;IACtB;IAEA,IAAI,IAAI,CAAC/H,eAAe,KAAKjB,sBAAsB,CAACsI,IAAI,IAAI7D,IAAI,GAAGmB,KAAK,IAAIiC,UAAU,CAACpD,IAAI,GAAGoD,UAAU,CAACjC,KAAK,EAAE;MAC/GoD,cAAc,GAAG,IAAI;IACtB;IAEA,IAAIrH,eAAe,GAAG,CAAC;IACvB,IAAIsG,UAAU,IAAIe,cAAc,EAAE;MACjCrH,eAAe,GAAGkG,UAAU,CAACpD,IAAI,GAAGoD,UAAU,CAACjC,KAAK,GAAG,CAAC,GAAGnB,IAAI,GAAGmB,KAAK,GAAG,CAAC;IAC5E;IAEA,IAAI/D,eAAe,GAAG,CAAC;IACvB,IAAI,CAACoG,UAAU,EAAE;MAChBpG,eAAe,GAAGgG,UAAU,CAACnD,GAAG,GAAGmD,UAAU,CAAC5C,MAAM,GAAG,CAAC,GAAGP,GAAG,GAAGO,MAAM,GAAG,CAAC;IAC5E;;IAEA;IACA;IACA,MAAMgE,kBAAkB,GAAGhE,MAAM,GAAG,CAAC,GAAG0D,YAAY,GAAGpI,UAAU,GAAG,CAAC;IACrEsB,eAAe,GAAGjC,KAAK,CACtBiC,eAAe,EACf,CAACoH,kBAAkB,EACnBA,kBAAkB,CAClB;IAED,MAAMC,kBAAkB,GAAGtD,KAAK,GAAG,CAAC,GAAG+C,YAAY,GAAGpI,UAAU,GAAG,CAAC;IACpEoB,eAAe,GAAG/B,KAAK,CACtB+B,eAAe,EACf,CAACuH,kBAAkB,EACnBA,kBAAkB,CAClB;IAED,OAAO;MACNrC,CAAC,EAAEN,IAAI,CAACiC,KAAK,CAAC7G,eAAe,CAAC;MAC9BmF,CAAC,EAAEP,IAAI,CAACiC,KAAK,CAAC3G,eAAe;IAC9B,CAAC;EACF;;EAEA;AACD;AACA;AACA;EACCsH,iBAAiB,CAAC7C,WAAW,EAAEI,YAAY,EAAEmB,UAAU,EAAEnC,WAAW,EAAE;IACrE,IAAImC,UAAU,CAACpD,IAAI,GAAGiB,WAAW,CAACE,KAAK,EAAE;MACxC,OAAO9F,oBAAoB,CAACwI,IAAI;IACjC;IAEA,IAAIhC,WAAW,GAAGuB,UAAU,CAACrD,KAAK,GAAGqD,UAAU,CAACpD,IAAI,EAAE;MACrD,OAAO3E,oBAAoB,CAACkB,KAAK;IAClC;IAEA,IAAI0F,YAAY,GAAGmB,UAAU,CAAClD,MAAM,GAAGe,WAAW,CAACT,MAAM,EAAE;MAC1D,OAAOnF,oBAAoB,CAAC6G,MAAM;IACnC;IAEA,IAAID,YAAY,GAAGmB,UAAU,CAAClD,MAAM,GAAGkD,UAAU,CAACnD,GAAG,EAAE;MACtD,OAAO5E,oBAAoB,CAACoI,GAAG;IAChC;EACD;EAEAF,sBAAsB,CAACH,UAAU,EAAEnC,WAAW,EAAE;IAC/C,MAAM5E,aAAa,GAAG,IAAI,CAACA,aAAa;IACxC,IAAIgB,mBAAmB,GAAGhB,aAAa;IAEvC,MAAMwF,WAAW,GAAGF,QAAQ,CAACC,eAAe,CAACC,WAAW;IACxD,MAAMI,YAAY,GAAGN,QAAQ,CAACC,eAAe,CAACK,YAAY;IAE1D,QAAQ5F,aAAa;MACrB,KAAKhB,oBAAoB,CAACoI,GAAG;QAC5B,IAAIL,UAAU,CAACnD,GAAG,GAAGgB,WAAW,CAACT,MAAM,IACnC4C,UAAU,CAACnD,GAAG,GAAGgC,YAAY,GAAGmB,UAAU,CAAClD,MAAM,EAAE;UACtD7C,mBAAmB,GAAGhC,oBAAoB,CAAC6G,MAAM;QAClD;QACA;MACD,KAAK7G,oBAAoB,CAAC6G,MAAM;QAC/B,IAAID,YAAY,GAAGmB,UAAU,CAAClD,MAAM,GAAGe,WAAW,CAACT,MAAM,IACrDyB,YAAY,GAAGmB,UAAU,CAAClD,MAAM,GAAGkD,UAAU,CAACnD,GAAG,EAAE;UACtD5C,mBAAmB,GAAGhC,oBAAoB,CAACoI,GAAG;QAC/C;QACA;MACD,KAAKpI,oBAAoB,CAACwI,IAAI;QAC7B,IAAIT,UAAU,CAACpD,IAAI,GAAGiB,WAAW,CAACE,KAAK,EAAE;UACxC9D,mBAAmB,GAAG,IAAI,CAACqH,iBAAiB,CAAC7C,WAAW,EAAEI,YAAY,EAAEmB,UAAU,EAAEnC,WAAW,CAAC,IAAI5E,aAAa;QAClH;QACA;MACD,KAAKhB,oBAAoB,CAACkB,KAAK;QAC9B,IAAIsF,WAAW,GAAGuB,UAAU,CAACrD,KAAK,GAAGkB,WAAW,CAACE,KAAK,EAAE;UACvD9D,mBAAmB,GAAG,IAAI,CAACqH,iBAAiB,CAAC7C,WAAW,EAAEI,YAAY,EAAEmB,UAAU,EAAEnC,WAAW,CAAC,IAAI5E,aAAa;QAClH;QACA;IAAM;IAGP,OAAOgB,mBAAmB;EAC3B;EAEAsG,eAAe,CAACP,UAAU,EAAEnC,WAAW,EAAE;IACxC,IAAIjB,IAAI;IAER,QAAQ,IAAI,CAACxD,eAAe;MAC5B,KAAKjB,sBAAsB,CAACkB,MAAM;MAClC,KAAKlB,sBAAsB,CAACiG,OAAO;QAElCxB,IAAI,GAAGoD,UAAU,CAACpD,IAAI,GAAG,CAACiB,WAAW,CAACE,KAAK,GAAGiC,UAAU,CAACjC,KAAK,IAAI,CAAC;QACnE;MACD,KAAK5F,sBAAsB,CAACsI,IAAI;QAC/B7D,IAAI,GAAGoD,UAAU,CAACpD,IAAI;QACtB;MACD,KAAKzE,sBAAsB,CAACgB,KAAK;QAChCyD,IAAI,GAAGoD,UAAU,CAACrD,KAAK,GAAGkB,WAAW,CAACE,KAAK;QAC3C;IAAM;IAGP,OAAOnB,IAAI;EACZ;EAEA8D,gBAAgB,CAACV,UAAU,EAAEnC,WAAW,EAAE;IACzC,IAAIhB,GAAG;IAEP,QAAQ,IAAI,CAACvD,aAAa;MAC1B,KAAKpB,oBAAoB,CAACmB,MAAM;MAChC,KAAKnB,oBAAoB,CAACkG,OAAO;QAChCvB,GAAG,GAAGmD,UAAU,CAACnD,GAAG,GAAG,CAACgB,WAAW,CAACT,MAAM,GAAG4C,UAAU,CAAC5C,MAAM,IAAI,CAAC;QACnE;MACD,KAAKlF,oBAAoB,CAACmI,GAAG;QAC5BxD,GAAG,GAAGmD,UAAU,CAACnD,GAAG;QACpB;MACD,KAAK3E,oBAAoB,CAAC4G,MAAM;QAC/BjC,GAAG,GAAGmD,UAAU,CAAClD,MAAM,GAAGe,WAAW,CAACT,MAAM;QAC5C;IAAM;IAGP,OAAOP,GAAG;EACX;EAEA,IAAI0E,OAAO,GAAG;IAAE;IACf,OAAO,IAAI,CAAChI,KAAK;EAClB;EAEA,IAAIiI,kBAAkB,GAAG;IAAE;IAC1B,OAAO,IAAI,CAAC/H,YAAY;EACzB;EAEA,IAAIgI,eAAe,GAAG;IAAE;IACvB,IAAI,CAAC,IAAI,CAACC,UAAU,IAAI,IAAI,CAACC,cAAc,EAAE;MAC5C,OAAO,kBAAkB;IAC1B;IAEA,OAAOf,SAAS;EACjB;EAEA,IAAIgB,UAAU,GAAG;IAAE;IAClB,OAAO,IAAI;EACZ;EAEA,IAAIhH,MAAM,GAAG;IACZ,OAAO;MACN,GAAG,KAAK,CAACA,MAAM;MACfiH,IAAI,EAAE;QACL,YAAY,EAAG,GAAE,IAAI,CAAC3H,UAAW,IAAG;QACpC,WAAW,EAAG,GAAE,IAAI,CAACC,SAAU;MAChC,CAAC;MACD4E,KAAK,EAAE;QACN+C,SAAS,EAAG,aAAY,IAAI,CAAChI,eAAgB,OAAM,IAAI,CAACE,eAAgB;MACzE;IACD,CAAC;EACF;EAEA,IAAI+H,OAAO,GAAG;IACb,MAAMC,UAAU,GAAG,KAAK,CAACD,OAAO;IAChCC,UAAU,CAACH,IAAI,CAAC,kBAAkB,CAAC,GAAG,IAAI;IAE1C,OAAOG,UAAU;EAClB;;EAEA;AACD;AACA;EACC,IAAIL,cAAc,GAAG;IACpB,OAAO,IAAI,CAACrH,MAAM,CAAC2H,MAAM,IAAI,IAAI,CAACnJ,UAAU;EAC7C;;EAEA;AACD;AACA;EACC,IAAIoJ,cAAc,GAAG;IACpB,OAAO,IAAI;EACZ;AACD;AAEAxH,OAAO,CAACyH,MAAM,EAAE;AAEhB,eAAezH,OAAO"},"metadata":{},"sourceType":"module"}