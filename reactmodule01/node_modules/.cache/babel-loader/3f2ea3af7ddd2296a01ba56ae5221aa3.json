{"ast":null,"code":"import { TableSelectionBehavior, TableSelectionMode } from '../../../enums';\nimport { stopPropagation } from '../../../internal/stopPropagation';\nconst getCellProps = (cellProps, _ref) => {\n  let {\n    cell: {\n      column,\n      row,\n      value\n    },\n    instance\n  } = _ref;\n  var _a;\n  const columnIndex = instance.visibleColumns.findIndex(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id === column.id;\n  });\n  const {\n    alwaysShowSubComponent,\n    renderRowSubComponent,\n    translatableTexts,\n    selectionMode,\n    selectionBehavior\n  } = instance.webComponentsReactProperties;\n  const updatedCellProps = {\n    'aria-colindex': columnIndex + 1\n  }; // aria index is 1 based, not 0\n  if ((_a = row.original) === null || _a === void 0 ? void 0 : _a.emptyRow) {\n    return [cellProps, updatedCellProps];\n  }\n  const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : undefined;\n  const rowIsExpandable = row.canExpand || RowSubComponent && !alwaysShowSubComponent;\n  const userCols = instance.visibleColumns.filter(_ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id !== '__ui5wcr__internal_selection_column' && id !== '__ui5wcr__internal_highlight_column' && id !== '__ui5wcr__internal_navigation_column';\n  });\n  const isFirstUserCol = userCols[0].id === column.id || userCols[0].accessor === column.accessor;\n  if (isFirstUserCol && rowIsExpandable) {\n    updatedCellProps.onKeyDown = e => {\n      if (e.key === 'Enter' || e.code === 'Space') {\n        // don't bubble event to prevent click of selection row\n        stopPropagation(e);\n        e.preventDefault();\n        row.toggleRowExpanded();\n      }\n    };\n    if (row.isExpanded) {\n      updatedCellProps['aria-expanded'] = 'true';\n    } else {\n      updatedCellProps['aria-expanded'] = 'false';\n    }\n  } else if (selectionMode !== TableSelectionMode.None && selectionBehavior !== TableSelectionBehavior.RowSelector || column.id === '__ui5wcr__internal_selection_column') {\n    if (row.isSelected) {\n      updatedCellProps['aria-selected'] = 'true';\n      updatedCellProps['aria-label'] = `${value !== null && value !== void 0 ? value : ''} ${translatableTexts.unselectA11yText}`;\n    } else {\n      updatedCellProps['aria-selected'] = 'false';\n      updatedCellProps['aria-label'] = `${value !== null && value !== void 0 ? value : ''} ${translatableTexts.selectA11yText}`;\n    }\n  }\n  return [cellProps, updatedCellProps];\n};\nexport const useA11y = hooks => {\n  hooks.getCellProps.push(getCellProps);\n};\nuseA11y.pluginName = 'useA11y';","map":{"version":3,"names":["TableSelectionBehavior","TableSelectionMode","stopPropagation","getCellProps","cellProps","cell","column","row","value","instance","_a","columnIndex","visibleColumns","findIndex","id","alwaysShowSubComponent","renderRowSubComponent","translatableTexts","selectionMode","selectionBehavior","webComponentsReactProperties","updatedCellProps","original","emptyRow","RowSubComponent","undefined","rowIsExpandable","canExpand","userCols","filter","isFirstUserCol","accessor","onKeyDown","e","key","code","preventDefault","toggleRowExpanded","isExpanded","None","RowSelector","isSelected","unselectA11yText","selectA11yText","useA11y","hooks","push","pluginName"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/components/AnalyticalTable/hooks/useA11y.js"],"sourcesContent":["import { TableSelectionBehavior, TableSelectionMode } from '../../../enums';\nimport { stopPropagation } from '../../../internal/stopPropagation';\nconst getCellProps = (cellProps, { cell: { column, row, value }, instance }) => {\n    var _a;\n    const columnIndex = instance.visibleColumns.findIndex(({ id }) => id === column.id);\n    const { alwaysShowSubComponent, renderRowSubComponent, translatableTexts, selectionMode, selectionBehavior } = instance.webComponentsReactProperties;\n    const updatedCellProps = { 'aria-colindex': columnIndex + 1 }; // aria index is 1 based, not 0\n    if ((_a = row.original) === null || _a === void 0 ? void 0 : _a.emptyRow) {\n        return [cellProps, updatedCellProps];\n    }\n    const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : undefined;\n    const rowIsExpandable = row.canExpand || (RowSubComponent && !alwaysShowSubComponent);\n    const userCols = instance.visibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_selection_column' &&\n        id !== '__ui5wcr__internal_highlight_column' &&\n        id !== '__ui5wcr__internal_navigation_column');\n    const isFirstUserCol = userCols[0].id === column.id || userCols[0].accessor === column.accessor;\n    if (isFirstUserCol && rowIsExpandable) {\n        updatedCellProps.onKeyDown = (e) => {\n            if (e.key === 'Enter' || e.code === 'Space') {\n                // don't bubble event to prevent click of selection row\n                stopPropagation(e);\n                e.preventDefault();\n                row.toggleRowExpanded();\n            }\n        };\n        if (row.isExpanded) {\n            updatedCellProps['aria-expanded'] = 'true';\n        }\n        else {\n            updatedCellProps['aria-expanded'] = 'false';\n        }\n    }\n    else if ((selectionMode !== TableSelectionMode.None && selectionBehavior !== TableSelectionBehavior.RowSelector) ||\n        column.id === '__ui5wcr__internal_selection_column') {\n        if (row.isSelected) {\n            updatedCellProps['aria-selected'] = 'true';\n            updatedCellProps['aria-label'] = `${value !== null && value !== void 0 ? value : ''} ${translatableTexts.unselectA11yText}`;\n        }\n        else {\n            updatedCellProps['aria-selected'] = 'false';\n            updatedCellProps['aria-label'] = `${value !== null && value !== void 0 ? value : ''} ${translatableTexts.selectA11yText}`;\n        }\n    }\n    return [cellProps, updatedCellProps];\n};\nexport const useA11y = (hooks) => {\n    hooks.getCellProps.push(getCellProps);\n};\nuseA11y.pluginName = 'useA11y';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}