{"ast":null,"code":"import { getRTL } from '@ui5/webcomponents-base/dist/config/RTL.js';\nimport { useRef, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '../hooks';\nconst GLOBAL_DIR_CSS_VAR = '--_ui5_dir';\nconst detectRTL = elementRef => {\n  var _a, _b;\n  if (!elementRef.current) {\n    return getRTL();\n  }\n  const doc = window.document;\n  const dirValues = ['ltr', 'rtl']; // exclude \"auto\" and \"\" from all calculations\n  const locallyAppliedDir = getComputedStyle(elementRef.current).getPropertyValue(GLOBAL_DIR_CSS_VAR);\n  // In that order, inspect the CSS Var (for modern browsers), the element itself, html and body (for IE fallback)\n  if (dirValues.includes(locallyAppliedDir)) {\n    return locallyAppliedDir === 'rtl';\n  }\n  if (dirValues.includes((_a = elementRef.current) === null || _a === void 0 ? void 0 : _a.dir)) {\n    return ((_b = elementRef.current) === null || _b === void 0 ? void 0 : _b.dir) === 'rtl';\n  }\n  if (dirValues.includes(doc.documentElement.dir)) {\n    return doc.documentElement.dir === 'rtl';\n  }\n  if (dirValues.includes(doc.body.dir)) {\n    return doc.body.dir === 'rtl';\n  }\n  // Finally, check the configuration for explicitly set RTL or language-implied RTL\n  return getRTL();\n};\nconst useIsRTL = elementRef => {\n  const [isRTL, setRTL] = useState(getRTL()); // use config RTL as best guess\n  const isMounted = useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    setRTL(detectRTL(elementRef)); // update immediately while rendering\n    const targets = [document.documentElement, document.body, elementRef.current].filter(Boolean);\n    const observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'dir') {\n          if (isMounted.current) {\n            setRTL(detectRTL(elementRef));\n          }\n        }\n      });\n    });\n    targets.forEach(target => {\n      observer.observe(target, {\n        attributes: true,\n        childList: false,\n        characterData: false,\n        attributeFilter: ['dir']\n      });\n    });\n    return () => {\n      isMounted.current = false;\n      observer.disconnect();\n    };\n  }, [isMounted, elementRef.current]);\n  return isRTL;\n};\nexport { useIsRTL };","map":{"version":3,"names":["getRTL","useRef","useState","useIsomorphicLayoutEffect","GLOBAL_DIR_CSS_VAR","detectRTL","elementRef","_a","_b","current","doc","window","document","dirValues","locallyAppliedDir","getComputedStyle","getPropertyValue","includes","dir","documentElement","body","useIsRTL","isRTL","setRTL","isMounted","targets","filter","Boolean","observer","MutationObserver","mutations","forEach","mutation","attributeName","target","observe","attributes","childList","characterData","attributeFilter","disconnect"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react-base/dist/hooks/useIsRTL.js"],"sourcesContent":["import { getRTL } from '@ui5/webcomponents-base/dist/config/RTL.js';\nimport { useRef, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '../hooks';\nconst GLOBAL_DIR_CSS_VAR = '--_ui5_dir';\nconst detectRTL = (elementRef) => {\n    var _a, _b;\n    if (!elementRef.current) {\n        return getRTL();\n    }\n    const doc = window.document;\n    const dirValues = ['ltr', 'rtl']; // exclude \"auto\" and \"\" from all calculations\n    const locallyAppliedDir = getComputedStyle(elementRef.current).getPropertyValue(GLOBAL_DIR_CSS_VAR);\n    // In that order, inspect the CSS Var (for modern browsers), the element itself, html and body (for IE fallback)\n    if (dirValues.includes(locallyAppliedDir)) {\n        return locallyAppliedDir === 'rtl';\n    }\n    if (dirValues.includes((_a = elementRef.current) === null || _a === void 0 ? void 0 : _a.dir)) {\n        return ((_b = elementRef.current) === null || _b === void 0 ? void 0 : _b.dir) === 'rtl';\n    }\n    if (dirValues.includes(doc.documentElement.dir)) {\n        return doc.documentElement.dir === 'rtl';\n    }\n    if (dirValues.includes(doc.body.dir)) {\n        return doc.body.dir === 'rtl';\n    }\n    // Finally, check the configuration for explicitly set RTL or language-implied RTL\n    return getRTL();\n};\nconst useIsRTL = (elementRef) => {\n    const [isRTL, setRTL] = useState(getRTL()); // use config RTL as best guess\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        setRTL(detectRTL(elementRef)); // update immediately while rendering\n        const targets = [document.documentElement, document.body, elementRef.current].filter(Boolean);\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.attributeName === 'dir') {\n                    if (isMounted.current) {\n                        setRTL(detectRTL(elementRef));\n                    }\n                }\n            });\n        });\n        targets.forEach((target) => {\n            observer.observe(target, { attributes: true, childList: false, characterData: false, attributeFilter: ['dir'] });\n        });\n        return () => {\n            isMounted.current = false;\n            observer.disconnect();\n        };\n    }, [isMounted, elementRef.current]);\n    return isRTL;\n};\nexport { useIsRTL };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}