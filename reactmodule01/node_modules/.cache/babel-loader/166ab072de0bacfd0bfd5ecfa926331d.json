{"ast":null,"code":"const warnings = new Set();\nconst getThemeMetadata = () => {\n  // Check if the class was already applied, most commonly to the link/style tag with the CSS Variables\n  let el = document.querySelector(\".sapThemeMetaData-Base-baseLib\") || document.querySelector(\".sapThemeMetaData-UI5-sap-ui-core\");\n  if (el) {\n    return getComputedStyle(el).backgroundImage;\n  }\n  el = document.createElement(\"span\");\n  el.style.display = \"none\";\n\n  // Try with sapThemeMetaData-Base-baseLib first\n  el.classList.add(\"sapThemeMetaData-Base-baseLib\");\n  document.body.appendChild(el);\n  let metadata = getComputedStyle(el).backgroundImage;\n\n  // Try with sapThemeMetaData-UI5-sap-ui-core only if the previous selector was not found\n  if (metadata === \"none\") {\n    el.classList.add(\"sapThemeMetaData-UI5-sap-ui-core\");\n    metadata = getComputedStyle(el).backgroundImage;\n  }\n  document.body.removeChild(el);\n  return metadata;\n};\nconst parseThemeMetadata = metadataString => {\n  const params = /\\([\"']?data:text\\/plain;utf-8,(.*?)['\"]?\\)$/i.exec(metadataString);\n  if (params && params.length >= 2) {\n    let paramsString = params[1];\n    paramsString = paramsString.replace(/\\\\\"/g, `\"`);\n    if (paramsString.charAt(0) !== \"{\" && paramsString.charAt(paramsString.length - 1) !== \"}\") {\n      try {\n        paramsString = decodeURIComponent(paramsString);\n      } catch (ex) {\n        if (!warnings.has(\"decode\")) {\n          console.warn(\"Malformed theme metadata string, unable to decodeURIComponent\"); // eslint-disable-line\n          warnings.add(\"decode\");\n        }\n        return;\n      }\n    }\n    try {\n      return JSON.parse(paramsString);\n    } catch (ex) {\n      if (!warnings.has(\"parse\")) {\n        console.warn(\"Malformed theme metadata string, unable to parse JSON\"); // eslint-disable-line\n        warnings.add(\"parse\");\n      }\n    }\n  }\n};\nconst processThemeMetadata = metadata => {\n  let themeName;\n  let baseThemeName;\n  try {\n    themeName = metadata.Path.match(/\\.([^.]+)\\.css_variables$/)[1];\n    baseThemeName = metadata.Extends[0];\n  } catch (ex) {\n    if (!warnings.has(\"object\")) {\n      console.warn(\"Malformed theme metadata Object\", metadata); // eslint-disable-line\n      warnings.add(\"object\");\n    }\n    return;\n  }\n  return {\n    themeName,\n    baseThemeName\n  };\n};\nconst getThemeDesignerTheme = () => {\n  const metadataString = getThemeMetadata();\n  if (!metadataString || metadataString === \"none\") {\n    return;\n  }\n  const metadata = parseThemeMetadata(metadataString);\n  return processThemeMetadata(metadata);\n};\nexport default getThemeDesignerTheme;","map":{"version":3,"names":["warnings","Set","getThemeMetadata","el","document","querySelector","getComputedStyle","backgroundImage","createElement","style","display","classList","add","body","appendChild","metadata","removeChild","parseThemeMetadata","metadataString","params","exec","length","paramsString","replace","charAt","decodeURIComponent","ex","has","console","warn","JSON","parse","processThemeMetadata","themeName","baseThemeName","Path","match","Extends","getThemeDesignerTheme"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-base/dist/theming/getThemeDesignerTheme.js"],"sourcesContent":["const warnings = new Set();\n\nconst getThemeMetadata = () => {\n\t// Check if the class was already applied, most commonly to the link/style tag with the CSS Variables\n\tlet el = document.querySelector(\".sapThemeMetaData-Base-baseLib\") || document.querySelector(\".sapThemeMetaData-UI5-sap-ui-core\");\n\tif (el) {\n\t\treturn getComputedStyle(el).backgroundImage;\n\t}\n\n\tel = document.createElement(\"span\");\n\tel.style.display = \"none\";\n\n\t// Try with sapThemeMetaData-Base-baseLib first\n\tel.classList.add(\"sapThemeMetaData-Base-baseLib\");\n\tdocument.body.appendChild(el);\n\tlet metadata = getComputedStyle(el).backgroundImage;\n\n\t// Try with sapThemeMetaData-UI5-sap-ui-core only if the previous selector was not found\n\tif (metadata === \"none\") {\n\t\tel.classList.add(\"sapThemeMetaData-UI5-sap-ui-core\");\n\t\tmetadata = getComputedStyle(el).backgroundImage;\n\t}\n\n\tdocument.body.removeChild(el);\n\n\treturn metadata;\n};\n\nconst parseThemeMetadata = metadataString => {\n\tconst params = /\\([\"']?data:text\\/plain;utf-8,(.*?)['\"]?\\)$/i.exec(metadataString);\n\tif (params && params.length >= 2) {\n\t\tlet paramsString = params[1];\n\t\tparamsString = paramsString.replace(/\\\\\"/g, `\"`);\n\t\tif (paramsString.charAt(0) !== \"{\" && paramsString.charAt(paramsString.length - 1) !== \"}\") {\n\t\t\ttry {\n\t\t\t\tparamsString = decodeURIComponent(paramsString);\n\t\t\t} catch (ex) {\n\t\t\t\tif (!warnings.has(\"decode\")) {\n\t\t\t\t\tconsole.warn(\"Malformed theme metadata string, unable to decodeURIComponent\"); // eslint-disable-line\n\t\t\t\t\twarnings.add(\"decode\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\ttry {\n\t\t\treturn JSON.parse(paramsString);\n\t\t} catch (ex) {\n\t\t\tif (!warnings.has(\"parse\")) {\n\t\t\t\tconsole.warn(\"Malformed theme metadata string, unable to parse JSON\"); // eslint-disable-line\n\t\t\t\twarnings.add(\"parse\");\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst processThemeMetadata = metadata => {\n\tlet themeName;\n\tlet baseThemeName;\n\n\ttry {\n\t\tthemeName = metadata.Path.match(/\\.([^.]+)\\.css_variables$/)[1];\n\t\tbaseThemeName = metadata.Extends[0];\n\t} catch (ex) {\n\t\tif (!warnings.has(\"object\")) {\n\t\t\tconsole.warn(\"Malformed theme metadata Object\", metadata); // eslint-disable-line\n\t\t\twarnings.add(\"object\");\n\t\t}\n\t\treturn;\n\t}\n\n\treturn {\n\t\tthemeName,\n\t\tbaseThemeName,\n\t};\n};\n\nconst getThemeDesignerTheme = () => {\n\tconst metadataString = getThemeMetadata();\n\tif (!metadataString || metadataString === \"none\") {\n\t\treturn;\n\t}\n\n\tconst metadata = parseThemeMetadata(metadataString);\n\treturn processThemeMetadata(metadata);\n};\n\nexport default getThemeDesignerTheme;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}