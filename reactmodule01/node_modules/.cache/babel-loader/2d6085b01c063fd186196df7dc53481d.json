{"ast":null,"code":"import getSharedResource from \"../getSharedResource.js\";\nimport { getFeature } from \"../FeaturesRegistry.js\";\nimport getActiveElement from \"./getActiveElement.js\";\nconst PopupUtilsData = getSharedResource(\"PopupUtilsData\", {});\nPopupUtilsData.currentZIndex = PopupUtilsData.currentZIndex || 100;\nconst getFocusedElement = () => {\n  const element = getActiveElement();\n  return element && typeof element.focus === \"function\" ? element : null;\n};\nconst isFocusedElementWithinNode = node => {\n  const fe = getFocusedElement();\n  if (fe) {\n    return isNodeContainedWithin(node, fe);\n  }\n  return false;\n};\nconst isNodeContainedWithin = (parent, child) => {\n  let currentNode = parent;\n  if (currentNode.shadowRoot) {\n    currentNode = Array.from(currentNode.shadowRoot.children).find(n => n.localName !== \"style\");\n  }\n  if (currentNode === child) {\n    return true;\n  }\n  const childNodes = currentNode.localName === \"slot\" ? currentNode.assignedNodes() : currentNode.children;\n  if (childNodes) {\n    return Array.from(childNodes).some(n => isNodeContainedWithin(n, child));\n  }\n};\nconst isPointInRect = (x, y, rect) => {\n  return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n};\nconst isClickInRect = (event, rect) => {\n  let x;\n  let y;\n  if (event.touches) {\n    const touch = event.touches[0];\n    x = touch.clientX;\n    y = touch.clientY;\n  } else {\n    x = event.clientX;\n    y = event.clientY;\n  }\n  return isPointInRect(x, y, rect);\n};\nconst getClosedPopupParent = el => {\n  const parent = el.parentElement || el.getRootNode && el.getRootNode().host;\n  if (parent && (parent.showAt && parent.isUI5Element || parent.open && parent.isUI5Element || parent === document.documentElement)) {\n    return parent;\n  }\n  return getClosedPopupParent(parent);\n};\nconst getNextZIndex = () => {\n  const OpenUI5Support = getFeature(\"OpenUI5Support\");\n  if (OpenUI5Support && OpenUI5Support.isLoaded()) {\n    // use OpenUI5 for getting z-index values, if loaded\n    return OpenUI5Support.getNextZIndex();\n  }\n  PopupUtilsData.currentZIndex += 2;\n  return PopupUtilsData.currentZIndex;\n};\nconst getCurrentZIndex = () => {\n  return PopupUtilsData.currentZIndex;\n};\nexport { getFocusedElement, isClickInRect, getClosedPopupParent, getNextZIndex, getCurrentZIndex, isFocusedElementWithinNode };","map":{"version":3,"names":["getSharedResource","getFeature","getActiveElement","PopupUtilsData","currentZIndex","getFocusedElement","element","focus","isFocusedElementWithinNode","node","fe","isNodeContainedWithin","parent","child","currentNode","shadowRoot","Array","from","children","find","n","localName","childNodes","assignedNodes","some","isPointInRect","x","y","rect","left","right","top","bottom","isClickInRect","event","touches","touch","clientX","clientY","getClosedPopupParent","el","parentElement","getRootNode","host","showAt","isUI5Element","open","document","documentElement","getNextZIndex","OpenUI5Support","isLoaded","getCurrentZIndex"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-base/dist/util/PopupUtils.js"],"sourcesContent":["import getSharedResource from \"../getSharedResource.js\";\nimport { getFeature } from \"../FeaturesRegistry.js\";\nimport getActiveElement from \"./getActiveElement.js\";\n\nconst PopupUtilsData = getSharedResource(\"PopupUtilsData\", {});\nPopupUtilsData.currentZIndex = PopupUtilsData.currentZIndex || 100;\n\nconst getFocusedElement = () => {\n\tconst element = getActiveElement();\n\treturn (element && typeof element.focus === \"function\") ? element : null;\n};\n\nconst isFocusedElementWithinNode = node => {\n\tconst fe = getFocusedElement();\n\n\tif (fe) {\n\t\treturn isNodeContainedWithin(node, fe);\n\t}\n\n\treturn false;\n};\n\nconst isNodeContainedWithin = (parent, child) => {\n\tlet currentNode = parent;\n\n\tif (currentNode.shadowRoot) {\n\t\tcurrentNode = Array.from(currentNode.shadowRoot.children).find(n => n.localName !== \"style\");\n\t}\n\n\tif (currentNode === child) {\n\t\treturn true;\n\t}\n\n\tconst childNodes = currentNode.localName === \"slot\" ? currentNode.assignedNodes() : currentNode.children;\n\n\tif (childNodes) {\n\t\treturn Array.from(childNodes).some(n => isNodeContainedWithin(n, child));\n\t}\n};\n\nconst isPointInRect = (x, y, rect) => {\n\treturn x >= rect.left && x <= rect.right\n\t\t&& y >= rect.top && y <= rect.bottom;\n};\n\nconst isClickInRect = (event, rect) => {\n\tlet x;\n\tlet y;\n\n\tif (event.touches) {\n\t\tconst touch = event.touches[0];\n\t\tx = touch.clientX;\n\t\ty = touch.clientY;\n\t} else {\n\t\tx = event.clientX;\n\t\ty = event.clientY;\n\t}\n\n\treturn isPointInRect(x, y, rect);\n};\n\nconst getClosedPopupParent = el => {\n\tconst parent = el.parentElement || (el.getRootNode && el.getRootNode().host);\n\n\tif (parent && ((parent.showAt && parent.isUI5Element) || (parent.open && parent.isUI5Element) || parent === document.documentElement)) {\n\t\treturn parent;\n\t}\n\n\treturn getClosedPopupParent(parent);\n};\n\nconst getNextZIndex = () => {\n\tconst OpenUI5Support = getFeature(\"OpenUI5Support\");\n\tif (OpenUI5Support && OpenUI5Support.isLoaded()) { // use OpenUI5 for getting z-index values, if loaded\n\t\treturn OpenUI5Support.getNextZIndex();\n\t}\n\n\tPopupUtilsData.currentZIndex += 2;\n\treturn PopupUtilsData.currentZIndex;\n};\n\nconst getCurrentZIndex = () => {\n\treturn PopupUtilsData.currentZIndex;\n};\n\nexport {\n\tgetFocusedElement,\n\tisClickInRect,\n\tgetClosedPopupParent,\n\tgetNextZIndex,\n\tgetCurrentZIndex,\n\tisFocusedElementWithinNode,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}