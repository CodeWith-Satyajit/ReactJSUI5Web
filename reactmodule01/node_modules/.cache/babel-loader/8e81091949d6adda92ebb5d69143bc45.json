{"ast":null,"code":"import group2Icon from '@ui5/webcomponents-icons/dist/group-2.js';\nimport listIcon from '@ui5/webcomponents-icons/dist/list.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, useI18nBundle } from '@ui5/webcomponents-react-base';\nimport React, { Children, cloneElement, useEffect, useReducer, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { BarDesign, ButtonDesign, FlexBoxDirection, FlexBoxJustifyContent, TableMode, TitleLevel, ToolbarStyle } from '../../enums';\nimport { ACTIVE, ALL, BASIC, CANCEL, FIELD, FIELDS_BY_ATTRIBUTE, FILTERS, GROUP_VIEW, HIDE_VALUES, LIST_VIEW, MANDATORY, OK, RESET, SEARCH_FOR_FILTERS, SHOW_VALUES, VISIBLE, VISIBLE_AND_ACTIVE } from '../../i18n/i18n-defaults';\nimport { addCustomCSSWithScoping } from '../../internal/addCustomCSSWithScoping';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { Bar, Button, Dialog, Icon, Input, Option, Panel, SegmentedButton, SegmentedButtonItem, Select, Table, TableColumn, Title } from '../../webComponents';\nimport { FlexBox } from '../FlexBox';\nimport { Toolbar } from '../Toolbar';\nimport { ToolbarSpacer } from '../ToolbarSpacer';\nimport styles from './FilterBarDialog.jss';\nimport { filterValue, syncRef } from './utils';\naddCustomCSSWithScoping('ui5-table', `\n/* hide table header of panel table */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) thead {\n  visibility: collapse;\n}\n/* don't display border of panel table */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) table {\n  border-collapse: unset;\n}\n\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) .ui5-table-root {\n  border-bottom: none;\n}\n/* don't display select all checkbox */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) thead th.ui5-table-select-all-column [ui5-checkbox],\n:host([data-component-name=\"FilterBarDialogTable\"]) thead th.ui5-table-select-all-column [ui5-checkbox] {\n visibility: hidden;\n}\n `);\nconst getActiveFilters = (activeFilterAttribute, filter) => {\n  var _a, _b, _c, _d, _e;\n  switch (activeFilterAttribute) {\n    case 'all':\n      return true;\n    case 'visible':\n      return (_a = filter.props) === null || _a === void 0 ? void 0 : _a.visibleInFilterBar;\n    case 'active':\n      return (_b = filter.props) === null || _b === void 0 ? void 0 : _b.active;\n    case 'visibleAndActive':\n      return ((_c = filter.props) === null || _c === void 0 ? void 0 : _c.visibleInFilterBar) && ((_d = filter.props) === null || _d === void 0 ? void 0 : _d.active);\n    case 'mandatory':\n      return (_e = filter.props) === null || _e === void 0 ? void 0 : _e.required;\n    default:\n      return true;\n  }\n};\nconst compareObjects = (firstObj, secondObj) => Object.keys(firstObj).find(first => Object.keys(secondObj).every(second => firstObj[second] !== secondObj[first]));\nconst useStyles = createUseStyles(styles, {\n  name: 'FilterBarDialog'\n});\nexport const FilterDialog = props => {\n  const {\n    filterBarRefs,\n    open,\n    handleDialogClose,\n    children,\n    showRestoreButton,\n    handleRestoreFilters,\n    handleDialogSave,\n    handleSelectionChange,\n    handleDialogSearch,\n    handleDialogCancel,\n    onAfterFiltersDialogOpen,\n    portalContainer,\n    dialogRef,\n    isListView,\n    setIsListView,\n    filteredAttribute,\n    setFilteredAttribute\n  } = props;\n  const classes = useStyles();\n  const [searchString, setSearchString] = useState('');\n  const [toggledFilters, setToggledFilters] = useState({});\n  const dialogRefs = useRef({});\n  const dialogSearchRef = useRef(null);\n  const [showValues, toggleValues] = useReducer(prev => !prev, false);\n  const [selectedFilters, setSelectedFilters] = useState(null);\n  const [forceRequired, setForceRequired] = useState();\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const basicText = i18nBundle.getText(BASIC);\n  const cancelText = i18nBundle.getText(CANCEL);\n  const okText = i18nBundle.getText(OK);\n  const searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n  const filtersTitle = i18nBundle.getText(FILTERS);\n  const resetText = i18nBundle.getText(RESET);\n  const allText = i18nBundle.getText(ALL);\n  const activeText = i18nBundle.getText(ACTIVE);\n  const visibleText = i18nBundle.getText(VISIBLE);\n  const visibleAndActiveText = i18nBundle.getText(VISIBLE_AND_ACTIVE);\n  const mandatoryText = i18nBundle.getText(MANDATORY);\n  const listViewText = i18nBundle.getText(LIST_VIEW);\n  const groupViewText = i18nBundle.getText(GROUP_VIEW);\n  const showValuesText = i18nBundle.getText(SHOW_VALUES);\n  const hideValuesText = i18nBundle.getText(HIDE_VALUES);\n  const fieldText = i18nBundle.getText(FIELD);\n  const fieldsByAttributeText = i18nBundle.getText(FIELDS_BY_ATTRIBUTE);\n  useEffect(() => {\n    if (open) {\n      dialogRef.current.show();\n    }\n  }, [open]);\n  const handleSearch = e => {\n    if (handleDialogSearch) {\n      handleDialogSearch(enrichEventWithDetails(e, {\n        value: e.target.value,\n        element: e.target\n      }));\n    }\n    setSearchString(e.target.value);\n  };\n  const handleSave = e => {\n    handleDialogSave(e, dialogRefs.current, toggledFilters);\n  };\n  const handleClose = function (e) {\n    let isCancel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    setSelectedFilters(null);\n    stopPropagation(e);\n    if (!isCancel) {\n      handleSave(e);\n      return;\n    }\n    handleDialogClose(e);\n  };\n  const handleCancel = e => {\n    if (handleDialogCancel) {\n      handleDialogCancel(enrichEventWithDetails(e));\n    }\n    handleDialogClose(e);\n  };\n  const handleRestore = e => {\n    setSelectedFilters(null);\n    handleRestoreFilters(e, 'dialog', {\n      filters: Array.from(dialogRef.current.querySelectorAll('ui5-table-row'))\n    });\n  };\n  const handleViewChange = e => {\n    setIsListView(e.detail.selectedItem.dataset.id === 'list');\n  };\n  const renderChildren = () => {\n    return children.filter(item => {\n      var _a, _b, _c;\n      return !!(item === null || item === void 0 ? void 0 : item.props) && ((_a = item.props) === null || _a === void 0 ? void 0 : _a.visible) && (((_c = (_b = item.props) === null || _b === void 0 ? void 0 : _b.label) === null || _c === void 0 ? void 0 : _c.toLowerCase().includes(searchString.toLowerCase())) || searchString.length === 0) && getActiveFilters(filteredAttribute, item);\n    }).map(child => {\n      var _a;\n      const filterBarItemRef = filterBarRefs.current[child.key];\n      let filterItemProps = {};\n      if (filterBarItemRef) {\n        filterItemProps = filterValue(filterBarItemRef, child);\n      }\n      if (!child.props.children) return child;\n      return cloneElement(child, {\n        'data-with-values': showValues,\n        'data-selected': selectedFilters !== null ? !!((_a = selectedFilters === null || selectedFilters === void 0 ? void 0 : selectedFilters[child.key]) === null || _a === void 0 ? void 0 : _a.selected) : child.props.visibleInFilterBar || child.props.required || child.type.displayName !== 'FilterGroupItem',\n        'data-react-key': child.key,\n        children: Object.assign(Object.assign({}, child.props.children), {\n          props: Object.assign(Object.assign({}, child.props.children.props), filterItemProps),\n          ref: node => {\n            if (node) {\n              dialogRefs.current[child.key] = node;\n              syncRef(child.props.children.ref, node);\n            }\n          }\n        })\n      });\n    });\n  };\n  const handleAttributeFilterChange = e => {\n    setFilteredAttribute(e.detail.selectedOption.dataset.id);\n  };\n  const handleCheckBoxChange = e => {\n    var _a;\n    e.preventDefault();\n    const prevRowsByKey = e.detail.previouslySelectedRows.reduce((acc, prevSelRow) => Object.assign(Object.assign({}, acc), {\n      [prevSelRow.dataset.reactKey]: prevSelRow\n    }), {});\n    const rowsByKey = e.detail.selectedRows.reduce((acc, selRow) => Object.assign(Object.assign({}, acc), {\n      [selRow.dataset.reactKey]: selRow\n    }), {});\n    const changedRowKey = e.detail.previouslySelectedRows > e.detail.selectedRows ? compareObjects(prevRowsByKey, rowsByKey) : compareObjects(rowsByKey, prevRowsByKey);\n    const element = rowsByKey[changedRowKey] || prevRowsByKey[changedRowKey];\n    // todo: workaround until specific rows can be disabled\n    if (((_a = element.dataset) === null || _a === void 0 ? void 0 : _a.required) === 'true') {\n      setForceRequired(element);\n      return;\n    }\n    setSelectedFilters(Object.assign(Object.assign({}, prevRowsByKey), rowsByKey));\n    if (typeof handleSelectionChange === 'function') {\n      handleSelectionChange(enrichEventWithDetails(e, {\n        element,\n        checked: element.selected\n      }));\n    }\n    setToggledFilters(prev => {\n      return Object.assign(Object.assign({}, prev), {\n        [changedRowKey]: element.selected\n      });\n    });\n  };\n  useEffect(() => {\n    if (forceRequired) {\n      forceRequired.setAttribute('selected', 'true');\n      setForceRequired(undefined);\n    }\n  }, [forceRequired]);\n  const renderGroups = () => {\n    const groups = {};\n    Children.forEach(renderChildren(), child => {\n      var _a;\n      const childGroups = (_a = child.props.groupName) !== null && _a !== void 0 ? _a : 'default';\n      if (groups[childGroups]) {\n        groups[childGroups].push(child);\n      } else {\n        groups[childGroups] = [child];\n      }\n    });\n    const filterGroups = Object.keys(groups).sort((x, y) => x === 'default' ? -1 : y === 'role' ? 1 : 0).map((item, index) => {\n      return React.createElement(Panel, {\n        headerText: item === 'default' ? basicText : item,\n        className: classes.groupPanel,\n        key: `${item === 'default' ? basicText : item}${index}`\n      }, React.createElement(Table, {\n        className: classes.table,\n        mode: TableMode.MultiSelect,\n        \"data-component-name\": \"FilterBarDialogPanelTable\",\n        onSelectionChange: handleCheckBoxChange\n      }, groups[item]));\n    });\n    return filterGroups;\n  };\n  return createPortal(React.createElement(Dialog, {\n    ref: dialogRef,\n    \"data-component-name\": \"FilterBarDialog\",\n    onAfterClose: handleClose,\n    onAfterOpen: onAfterFiltersDialogOpen,\n    resizable: true,\n    draggable: true,\n    className: classes.dialogComponent,\n    preventFocusRestore: true,\n    header: React.createElement(Bar, {\n      design: BarDesign.Header,\n      startContent: React.createElement(Title, {\n        level: TitleLevel.H4,\n        title: filtersTitle\n      }, filtersTitle),\n      endContent: showRestoreButton && React.createElement(Button, {\n        design: ButtonDesign.Transparent,\n        onClick: handleRestore\n      }, resetText)\n    }),\n    footer: React.createElement(Bar, {\n      design: BarDesign.Footer,\n      endContent: React.createElement(FlexBox, {\n        justifyContent: FlexBoxJustifyContent.End,\n        className: classes.footer\n      }, React.createElement(Button, {\n        onClick: handleSave,\n        \"data-component-name\": \"FilterBarDialogSaveBtn\",\n        design: ButtonDesign.Emphasized\n      }, okText), React.createElement(Button, {\n        design: ButtonDesign.Transparent,\n        onClick: handleCancel,\n        \"data-component-name\": \"FilterBarDialogCancelBtn\"\n      }, cancelText))\n    })\n  }, React.createElement(FlexBox, {\n    direction: FlexBoxDirection.Column,\n    className: classes.subheaderContainer\n  }, React.createElement(Toolbar, {\n    className: classes.subheader,\n    toolbarStyle: ToolbarStyle.Clear\n  }, React.createElement(Select, {\n    onChange: handleAttributeFilterChange,\n    title: fieldsByAttributeText,\n    accessibleName: fieldsByAttributeText\n  }, React.createElement(Option, {\n    selected: filteredAttribute === 'all',\n    \"data-id\": \"all\"\n  }, allText), React.createElement(Option, {\n    selected: filteredAttribute === 'visible',\n    \"data-id\": \"visible\"\n  }, visibleText), React.createElement(Option, {\n    selected: filteredAttribute === 'active',\n    \"data-id\": \"active\"\n  }, activeText), React.createElement(Option, {\n    selected: filteredAttribute === 'visibleAndActive',\n    \"data-id\": \"visibleAndActive\"\n  }, visibleAndActiveText), React.createElement(Option, {\n    selected: filteredAttribute === 'mandatory',\n    \"data-id\": \"mandatory\"\n  }, mandatoryText)), React.createElement(ToolbarSpacer, null), React.createElement(Button, {\n    design: ButtonDesign.Transparent,\n    onClick: toggleValues,\n    \"aria-live\": \"polite\"\n  }, showValues ? hideValuesText : showValuesText), React.createElement(SegmentedButton, {\n    onSelectionChange: handleViewChange\n  }, React.createElement(SegmentedButtonItem, {\n    icon: listIcon,\n    \"data-id\": \"list\",\n    pressed: isListView,\n    accessibleName: listViewText\n  }), React.createElement(SegmentedButtonItem, {\n    icon: group2Icon,\n    \"data-id\": \"group\",\n    pressed: !isListView,\n    accessibleName: groupViewText\n  }))), React.createElement(FlexBox, {\n    className: classes.searchInputContainer\n  }, React.createElement(Input, {\n    noTypeahead: true,\n    placeholder: searchForFiltersText,\n    onInput: handleSearch,\n    showClearIcon: true,\n    icon: React.createElement(Icon, {\n      name: searchIcon\n    }),\n    ref: dialogSearchRef,\n    className: classes.searchInput\n  }))), React.createElement(Table, {\n    \"data-component-name\": \"FilterBarDialogTable\",\n    hideNoData: !isListView,\n    className: classes.table,\n    mode: TableMode.MultiSelect,\n    onSelectionChange: handleCheckBoxChange,\n    columns: React.createElement(React.Fragment, null, React.createElement(TableColumn, null, fieldText), !showValues && React.createElement(TableColumn, {\n      className: classes.tHactive\n    }, activeText))\n  }, isListView && renderChildren()), !isListView && renderGroups()), portalContainer);\n};","map":{"version":3,"names":["group2Icon","listIcon","searchIcon","enrichEventWithDetails","useI18nBundle","React","Children","cloneElement","useEffect","useReducer","useRef","useState","createPortal","createUseStyles","BarDesign","ButtonDesign","FlexBoxDirection","FlexBoxJustifyContent","TableMode","TitleLevel","ToolbarStyle","ACTIVE","ALL","BASIC","CANCEL","FIELD","FIELDS_BY_ATTRIBUTE","FILTERS","GROUP_VIEW","HIDE_VALUES","LIST_VIEW","MANDATORY","OK","RESET","SEARCH_FOR_FILTERS","SHOW_VALUES","VISIBLE","VISIBLE_AND_ACTIVE","addCustomCSSWithScoping","stopPropagation","Bar","Button","Dialog","Icon","Input","Option","Panel","SegmentedButton","SegmentedButtonItem","Select","Table","TableColumn","Title","FlexBox","Toolbar","ToolbarSpacer","styles","filterValue","syncRef","getActiveFilters","activeFilterAttribute","filter","_a","_b","_c","_d","_e","props","visibleInFilterBar","active","required","compareObjects","firstObj","secondObj","Object","keys","find","first","every","second","useStyles","name","FilterDialog","filterBarRefs","open","handleDialogClose","children","showRestoreButton","handleRestoreFilters","handleDialogSave","handleSelectionChange","handleDialogSearch","handleDialogCancel","onAfterFiltersDialogOpen","portalContainer","dialogRef","isListView","setIsListView","filteredAttribute","setFilteredAttribute","classes","searchString","setSearchString","toggledFilters","setToggledFilters","dialogRefs","dialogSearchRef","showValues","toggleValues","prev","selectedFilters","setSelectedFilters","forceRequired","setForceRequired","i18nBundle","basicText","getText","cancelText","okText","searchForFiltersText","filtersTitle","resetText","allText","activeText","visibleText","visibleAndActiveText","mandatoryText","listViewText","groupViewText","showValuesText","hideValuesText","fieldText","fieldsByAttributeText","current","show","handleSearch","e","value","target","element","handleSave","handleClose","isCancel","handleCancel","handleRestore","filters","Array","from","querySelectorAll","handleViewChange","detail","selectedItem","dataset","id","renderChildren","item","visible","label","toLowerCase","includes","length","map","child","filterBarItemRef","key","filterItemProps","selected","type","displayName","assign","ref","node","handleAttributeFilterChange","selectedOption","handleCheckBoxChange","preventDefault","prevRowsByKey","previouslySelectedRows","reduce","acc","prevSelRow","reactKey","rowsByKey","selectedRows","selRow","changedRowKey","checked","setAttribute","undefined","renderGroups","groups","forEach","childGroups","groupName","push","filterGroups","sort","x","y","index","createElement","headerText","className","groupPanel","table","mode","MultiSelect","onSelectionChange","onAfterClose","onAfterOpen","resizable","draggable","dialogComponent","preventFocusRestore","header","design","Header","startContent","level","H4","title","endContent","Transparent","onClick","footer","Footer","justifyContent","End","Emphasized","direction","Column","subheaderContainer","subheader","toolbarStyle","Clear","onChange","accessibleName","icon","pressed","searchInputContainer","noTypeahead","placeholder","onInput","showClearIcon","searchInput","hideNoData","columns","Fragment","tHactive"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/components/FilterBar/FilterDialog.js"],"sourcesContent":["import group2Icon from '@ui5/webcomponents-icons/dist/group-2.js';\nimport listIcon from '@ui5/webcomponents-icons/dist/list.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, useI18nBundle } from '@ui5/webcomponents-react-base';\nimport React, { Children, cloneElement, useEffect, useReducer, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { BarDesign, ButtonDesign, FlexBoxDirection, FlexBoxJustifyContent, TableMode, TitleLevel, ToolbarStyle } from '../../enums';\nimport { ACTIVE, ALL, BASIC, CANCEL, FIELD, FIELDS_BY_ATTRIBUTE, FILTERS, GROUP_VIEW, HIDE_VALUES, LIST_VIEW, MANDATORY, OK, RESET, SEARCH_FOR_FILTERS, SHOW_VALUES, VISIBLE, VISIBLE_AND_ACTIVE } from '../../i18n/i18n-defaults';\nimport { addCustomCSSWithScoping } from '../../internal/addCustomCSSWithScoping';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { Bar, Button, Dialog, Icon, Input, Option, Panel, SegmentedButton, SegmentedButtonItem, Select, Table, TableColumn, Title } from '../../webComponents';\nimport { FlexBox } from '../FlexBox';\nimport { Toolbar } from '../Toolbar';\nimport { ToolbarSpacer } from '../ToolbarSpacer';\nimport styles from './FilterBarDialog.jss';\nimport { filterValue, syncRef } from './utils';\naddCustomCSSWithScoping('ui5-table', `\n/* hide table header of panel table */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) thead {\n  visibility: collapse;\n}\n/* don't display border of panel table */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) table {\n  border-collapse: unset;\n}\n\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) .ui5-table-root {\n  border-bottom: none;\n}\n/* don't display select all checkbox */\n:host([data-component-name=\"FilterBarDialogPanelTable\"]) thead th.ui5-table-select-all-column [ui5-checkbox],\n:host([data-component-name=\"FilterBarDialogTable\"]) thead th.ui5-table-select-all-column [ui5-checkbox] {\n visibility: hidden;\n}\n `);\nconst getActiveFilters = (activeFilterAttribute, filter) => {\n    var _a, _b, _c, _d, _e;\n    switch (activeFilterAttribute) {\n        case 'all':\n            return true;\n        case 'visible':\n            return (_a = filter.props) === null || _a === void 0 ? void 0 : _a.visibleInFilterBar;\n        case 'active':\n            return (_b = filter.props) === null || _b === void 0 ? void 0 : _b.active;\n        case 'visibleAndActive':\n            return ((_c = filter.props) === null || _c === void 0 ? void 0 : _c.visibleInFilterBar) && ((_d = filter.props) === null || _d === void 0 ? void 0 : _d.active);\n        case 'mandatory':\n            return (_e = filter.props) === null || _e === void 0 ? void 0 : _e.required;\n        default:\n            return true;\n    }\n};\nconst compareObjects = (firstObj, secondObj) => Object.keys(firstObj).find((first) => Object.keys(secondObj).every((second) => firstObj[second] !== secondObj[first]));\nconst useStyles = createUseStyles(styles, { name: 'FilterBarDialog' });\nexport const FilterDialog = (props) => {\n    const { filterBarRefs, open, handleDialogClose, children, showRestoreButton, handleRestoreFilters, handleDialogSave, handleSelectionChange, handleDialogSearch, handleDialogCancel, onAfterFiltersDialogOpen, portalContainer, dialogRef, isListView, setIsListView, filteredAttribute, setFilteredAttribute } = props;\n    const classes = useStyles();\n    const [searchString, setSearchString] = useState('');\n    const [toggledFilters, setToggledFilters] = useState({});\n    const dialogRefs = useRef({});\n    const dialogSearchRef = useRef(null);\n    const [showValues, toggleValues] = useReducer((prev) => !prev, false);\n    const [selectedFilters, setSelectedFilters] = useState(null);\n    const [forceRequired, setForceRequired] = useState();\n    const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n    const basicText = i18nBundle.getText(BASIC);\n    const cancelText = i18nBundle.getText(CANCEL);\n    const okText = i18nBundle.getText(OK);\n    const searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n    const filtersTitle = i18nBundle.getText(FILTERS);\n    const resetText = i18nBundle.getText(RESET);\n    const allText = i18nBundle.getText(ALL);\n    const activeText = i18nBundle.getText(ACTIVE);\n    const visibleText = i18nBundle.getText(VISIBLE);\n    const visibleAndActiveText = i18nBundle.getText(VISIBLE_AND_ACTIVE);\n    const mandatoryText = i18nBundle.getText(MANDATORY);\n    const listViewText = i18nBundle.getText(LIST_VIEW);\n    const groupViewText = i18nBundle.getText(GROUP_VIEW);\n    const showValuesText = i18nBundle.getText(SHOW_VALUES);\n    const hideValuesText = i18nBundle.getText(HIDE_VALUES);\n    const fieldText = i18nBundle.getText(FIELD);\n    const fieldsByAttributeText = i18nBundle.getText(FIELDS_BY_ATTRIBUTE);\n    useEffect(() => {\n        if (open) {\n            dialogRef.current.show();\n        }\n    }, [open]);\n    const handleSearch = (e) => {\n        if (handleDialogSearch) {\n            handleDialogSearch(enrichEventWithDetails(e, { value: e.target.value, element: e.target }));\n        }\n        setSearchString(e.target.value);\n    };\n    const handleSave = (e) => {\n        handleDialogSave(e, dialogRefs.current, toggledFilters);\n    };\n    const handleClose = (e, isCancel = false) => {\n        setSelectedFilters(null);\n        stopPropagation(e);\n        if (!isCancel) {\n            handleSave(e);\n            return;\n        }\n        handleDialogClose(e);\n    };\n    const handleCancel = (e) => {\n        if (handleDialogCancel) {\n            handleDialogCancel(enrichEventWithDetails(e));\n        }\n        handleDialogClose(e);\n    };\n    const handleRestore = (e) => {\n        setSelectedFilters(null);\n        handleRestoreFilters(e, 'dialog', { filters: Array.from(dialogRef.current.querySelectorAll('ui5-table-row')) });\n    };\n    const handleViewChange = (e) => {\n        setIsListView(e.detail.selectedItem.dataset.id === 'list');\n    };\n    const renderChildren = () => {\n        return children\n            .filter((item) => {\n            var _a, _b, _c;\n            return (!!(item === null || item === void 0 ? void 0 : item.props) &&\n                ((_a = item.props) === null || _a === void 0 ? void 0 : _a.visible) &&\n                (((_c = (_b = item.props) === null || _b === void 0 ? void 0 : _b.label) === null || _c === void 0 ? void 0 : _c.toLowerCase().includes(searchString.toLowerCase())) || searchString.length === 0) &&\n                getActiveFilters(filteredAttribute, item));\n        })\n            .map((child) => {\n            var _a;\n            const filterBarItemRef = filterBarRefs.current[child.key];\n            let filterItemProps = {};\n            if (filterBarItemRef) {\n                filterItemProps = filterValue(filterBarItemRef, child);\n            }\n            if (!child.props.children)\n                return child;\n            return cloneElement(child, {\n                'data-with-values': showValues,\n                'data-selected': selectedFilters !== null\n                    ? !!((_a = selectedFilters === null || selectedFilters === void 0 ? void 0 : selectedFilters[child.key]) === null || _a === void 0 ? void 0 : _a.selected)\n                    : child.props.visibleInFilterBar || child.props.required || child.type.displayName !== 'FilterGroupItem',\n                'data-react-key': child.key,\n                children: Object.assign(Object.assign({}, child.props.children), { props: Object.assign(Object.assign({}, child.props.children.props), filterItemProps), ref: (node) => {\n                        if (node) {\n                            dialogRefs.current[child.key] = node;\n                            syncRef(child.props.children.ref, node);\n                        }\n                    } })\n            });\n        });\n    };\n    const handleAttributeFilterChange = (e) => {\n        setFilteredAttribute(e.detail.selectedOption.dataset.id);\n    };\n    const handleCheckBoxChange = (e) => {\n        var _a;\n        e.preventDefault();\n        const prevRowsByKey = e.detail.previouslySelectedRows.reduce((acc, prevSelRow) => (Object.assign(Object.assign({}, acc), { [prevSelRow.dataset.reactKey]: prevSelRow })), {});\n        const rowsByKey = e.detail.selectedRows.reduce((acc, selRow) => (Object.assign(Object.assign({}, acc), { [selRow.dataset.reactKey]: selRow })), {});\n        const changedRowKey = e.detail.previouslySelectedRows > e.detail.selectedRows\n            ? compareObjects(prevRowsByKey, rowsByKey)\n            : compareObjects(rowsByKey, prevRowsByKey);\n        const element = rowsByKey[changedRowKey] || prevRowsByKey[changedRowKey];\n        // todo: workaround until specific rows can be disabled\n        if (((_a = element.dataset) === null || _a === void 0 ? void 0 : _a.required) === 'true') {\n            setForceRequired(element);\n            return;\n        }\n        setSelectedFilters(Object.assign(Object.assign({}, prevRowsByKey), rowsByKey));\n        if (typeof handleSelectionChange === 'function') {\n            handleSelectionChange(enrichEventWithDetails(e, { element, checked: element.selected }));\n        }\n        setToggledFilters((prev) => {\n            return Object.assign(Object.assign({}, prev), { [changedRowKey]: element.selected });\n        });\n    };\n    useEffect(() => {\n        if (forceRequired) {\n            forceRequired.setAttribute('selected', 'true');\n            setForceRequired(undefined);\n        }\n    }, [forceRequired]);\n    const renderGroups = () => {\n        const groups = {};\n        Children.forEach(renderChildren(), (child) => {\n            var _a;\n            const childGroups = (_a = child.props.groupName) !== null && _a !== void 0 ? _a : 'default';\n            if (groups[childGroups]) {\n                groups[childGroups].push(child);\n            }\n            else {\n                groups[childGroups] = [child];\n            }\n        });\n        const filterGroups = Object.keys(groups)\n            .sort((x, y) => (x === 'default' ? -1 : y === 'role' ? 1 : 0))\n            .map((item, index) => {\n            return (React.createElement(Panel, { headerText: item === 'default' ? basicText : item, className: classes.groupPanel, key: `${item === 'default' ? basicText : item}${index}` },\n                React.createElement(Table, { className: classes.table, mode: TableMode.MultiSelect, \"data-component-name\": \"FilterBarDialogPanelTable\", onSelectionChange: handleCheckBoxChange }, groups[item])));\n        });\n        return filterGroups;\n    };\n    return createPortal(React.createElement(Dialog, { ref: dialogRef, \"data-component-name\": \"FilterBarDialog\", onAfterClose: handleClose, onAfterOpen: onAfterFiltersDialogOpen, resizable: true, draggable: true, className: classes.dialogComponent, preventFocusRestore: true, header: React.createElement(Bar, { design: BarDesign.Header, startContent: React.createElement(Title, { level: TitleLevel.H4, title: filtersTitle }, filtersTitle), endContent: showRestoreButton && (React.createElement(Button, { design: ButtonDesign.Transparent, onClick: handleRestore }, resetText)) }), footer: React.createElement(Bar, { design: BarDesign.Footer, endContent: React.createElement(FlexBox, { justifyContent: FlexBoxJustifyContent.End, className: classes.footer },\n                React.createElement(Button, { onClick: handleSave, \"data-component-name\": \"FilterBarDialogSaveBtn\", design: ButtonDesign.Emphasized }, okText),\n                React.createElement(Button, { design: ButtonDesign.Transparent, onClick: handleCancel, \"data-component-name\": \"FilterBarDialogCancelBtn\" }, cancelText)) }) },\n        React.createElement(FlexBox, { direction: FlexBoxDirection.Column, className: classes.subheaderContainer },\n            React.createElement(Toolbar, { className: classes.subheader, toolbarStyle: ToolbarStyle.Clear },\n                React.createElement(Select, { onChange: handleAttributeFilterChange, title: fieldsByAttributeText, accessibleName: fieldsByAttributeText },\n                    React.createElement(Option, { selected: filteredAttribute === 'all', \"data-id\": \"all\" }, allText),\n                    React.createElement(Option, { selected: filteredAttribute === 'visible', \"data-id\": \"visible\" }, visibleText),\n                    React.createElement(Option, { selected: filteredAttribute === 'active', \"data-id\": \"active\" }, activeText),\n                    React.createElement(Option, { selected: filteredAttribute === 'visibleAndActive', \"data-id\": \"visibleAndActive\" }, visibleAndActiveText),\n                    React.createElement(Option, { selected: filteredAttribute === 'mandatory', \"data-id\": \"mandatory\" }, mandatoryText)),\n                React.createElement(ToolbarSpacer, null),\n                React.createElement(Button, { design: ButtonDesign.Transparent, onClick: toggleValues, \"aria-live\": \"polite\" }, showValues ? hideValuesText : showValuesText),\n                React.createElement(SegmentedButton, { onSelectionChange: handleViewChange },\n                    React.createElement(SegmentedButtonItem, { icon: listIcon, \"data-id\": \"list\", pressed: isListView, accessibleName: listViewText }),\n                    React.createElement(SegmentedButtonItem, { icon: group2Icon, \"data-id\": \"group\", pressed: !isListView, accessibleName: groupViewText }))),\n            React.createElement(FlexBox, { className: classes.searchInputContainer },\n                React.createElement(Input, { noTypeahead: true, placeholder: searchForFiltersText, onInput: handleSearch, showClearIcon: true, icon: React.createElement(Icon, { name: searchIcon }), ref: dialogSearchRef, className: classes.searchInput }))),\n        React.createElement(Table, { \"data-component-name\": \"FilterBarDialogTable\", hideNoData: !isListView, className: classes.table, mode: TableMode.MultiSelect, onSelectionChange: handleCheckBoxChange, columns: React.createElement(React.Fragment, null,\n                React.createElement(TableColumn, null, fieldText),\n                !showValues && React.createElement(TableColumn, { className: classes.tHactive }, activeText)) }, isListView && renderChildren()),\n        !isListView && renderGroups()), portalContainer);\n};\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,0CAA0C;AACjE,OAAOC,QAAQ,MAAM,uCAAuC;AAC5D,OAAOC,UAAU,MAAM,yCAAyC;AAChE,SAASC,sBAAsB,EAAEC,aAAa,QAAQ,+BAA+B;AACrF,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,YAAY,EAAEC,SAAS,EAAEC,UAAU,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC9F,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,eAAe,QAAQ,WAAW;AAC3C,SAASC,SAAS,EAAEC,YAAY,EAAEC,gBAAgB,EAAEC,qBAAqB,EAAEC,SAAS,EAAEC,UAAU,EAAEC,YAAY,QAAQ,aAAa;AACnI,SAASC,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAEC,mBAAmB,EAAEC,OAAO,EAAEC,UAAU,EAAEC,WAAW,EAAEC,SAAS,EAAEC,SAAS,EAAEC,EAAE,EAAEC,KAAK,EAAEC,kBAAkB,EAAEC,WAAW,EAAEC,OAAO,EAAEC,kBAAkB,QAAQ,0BAA0B;AAClO,SAASC,uBAAuB,QAAQ,wCAAwC;AAChF,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAEC,eAAe,EAAEC,mBAAmB,EAAEC,MAAM,EAAEC,KAAK,EAAEC,WAAW,EAAEC,KAAK,QAAQ,qBAAqB;AAC9J,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,WAAW,EAAEC,OAAO,QAAQ,SAAS;AAC9CpB,uBAAuB,CAAC,WAAW,EAAG;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC;AACH,MAAMqB,gBAAgB,GAAG,CAACC,qBAAqB,EAAEC,MAAM,KAAK;EACxD,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EACtB,QAAQN,qBAAqB;IACzB,KAAK,KAAK;MACN,OAAO,IAAI;IACf,KAAK,SAAS;MACV,OAAO,CAACE,EAAE,GAAGD,MAAM,CAACM,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,kBAAkB;IACzF,KAAK,QAAQ;MACT,OAAO,CAACL,EAAE,GAAGF,MAAM,CAACM,KAAK,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,MAAM;IAC7E,KAAK,kBAAkB;MACnB,OAAO,CAAC,CAACL,EAAE,GAAGH,MAAM,CAACM,KAAK,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,kBAAkB,MAAM,CAACH,EAAE,GAAGJ,MAAM,CAACM,KAAK,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,MAAM,CAAC;IACnK,KAAK,WAAW;MACZ,OAAO,CAACH,EAAE,GAAGL,MAAM,CAACM,KAAK,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,QAAQ;IAC/E;MACI,OAAO,IAAI;EAAC;AAExB,CAAC;AACD,MAAMC,cAAc,GAAG,CAACC,QAAQ,EAAEC,SAAS,KAAKC,MAAM,CAACC,IAAI,CAACH,QAAQ,CAAC,CAACI,IAAI,CAAEC,KAAK,IAAKH,MAAM,CAACC,IAAI,CAACF,SAAS,CAAC,CAACK,KAAK,CAAEC,MAAM,IAAKP,QAAQ,CAACO,MAAM,CAAC,KAAKN,SAAS,CAACI,KAAK,CAAC,CAAC,CAAC;AACtK,MAAMG,SAAS,GAAGnE,eAAe,CAAC2C,MAAM,EAAE;EAAEyB,IAAI,EAAE;AAAkB,CAAC,CAAC;AACtE,OAAO,MAAMC,YAAY,GAAIf,KAAK,IAAK;EACnC,MAAM;IAAEgB,aAAa;IAAEC,IAAI;IAAEC,iBAAiB;IAAEC,QAAQ;IAAEC,iBAAiB;IAAEC,oBAAoB;IAAEC,gBAAgB;IAAEC,qBAAqB;IAAEC,kBAAkB;IAAEC,kBAAkB;IAAEC,wBAAwB;IAAEC,eAAe;IAAEC,SAAS;IAAEC,UAAU;IAAEC,aAAa;IAAEC,iBAAiB;IAAEC;EAAqB,CAAC,GAAGhC,KAAK;EACtT,MAAMiC,OAAO,GAAGpB,SAAS,EAAE;EAC3B,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAG3F,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC4F,cAAc,EAAEC,iBAAiB,CAAC,GAAG7F,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxD,MAAM8F,UAAU,GAAG/F,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,MAAMgG,eAAe,GAAGhG,MAAM,CAAC,IAAI,CAAC;EACpC,MAAM,CAACiG,UAAU,EAAEC,YAAY,CAAC,GAAGnG,UAAU,CAAEoG,IAAI,IAAK,CAACA,IAAI,EAAE,KAAK,CAAC;EACrE,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGpG,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACqG,aAAa,EAAEC,gBAAgB,CAAC,GAAGtG,QAAQ,EAAE;EACpD,MAAMuG,UAAU,GAAG9G,aAAa,CAAC,0BAA0B,CAAC;EAC5D,MAAM+G,SAAS,GAAGD,UAAU,CAACE,OAAO,CAAC7F,KAAK,CAAC;EAC3C,MAAM8F,UAAU,GAAGH,UAAU,CAACE,OAAO,CAAC5F,MAAM,CAAC;EAC7C,MAAM8F,MAAM,GAAGJ,UAAU,CAACE,OAAO,CAACpF,EAAE,CAAC;EACrC,MAAMuF,oBAAoB,GAAGL,UAAU,CAACE,OAAO,CAAClF,kBAAkB,CAAC;EACnE,MAAMsF,YAAY,GAAGN,UAAU,CAACE,OAAO,CAACzF,OAAO,CAAC;EAChD,MAAM8F,SAAS,GAAGP,UAAU,CAACE,OAAO,CAACnF,KAAK,CAAC;EAC3C,MAAMyF,OAAO,GAAGR,UAAU,CAACE,OAAO,CAAC9F,GAAG,CAAC;EACvC,MAAMqG,UAAU,GAAGT,UAAU,CAACE,OAAO,CAAC/F,MAAM,CAAC;EAC7C,MAAMuG,WAAW,GAAGV,UAAU,CAACE,OAAO,CAAChF,OAAO,CAAC;EAC/C,MAAMyF,oBAAoB,GAAGX,UAAU,CAACE,OAAO,CAAC/E,kBAAkB,CAAC;EACnE,MAAMyF,aAAa,GAAGZ,UAAU,CAACE,OAAO,CAACrF,SAAS,CAAC;EACnD,MAAMgG,YAAY,GAAGb,UAAU,CAACE,OAAO,CAACtF,SAAS,CAAC;EAClD,MAAMkG,aAAa,GAAGd,UAAU,CAACE,OAAO,CAACxF,UAAU,CAAC;EACpD,MAAMqG,cAAc,GAAGf,UAAU,CAACE,OAAO,CAACjF,WAAW,CAAC;EACtD,MAAM+F,cAAc,GAAGhB,UAAU,CAACE,OAAO,CAACvF,WAAW,CAAC;EACtD,MAAMsG,SAAS,GAAGjB,UAAU,CAACE,OAAO,CAAC3F,KAAK,CAAC;EAC3C,MAAM2G,qBAAqB,GAAGlB,UAAU,CAACE,OAAO,CAAC1F,mBAAmB,CAAC;EACrElB,SAAS,CAAC,MAAM;IACZ,IAAI4E,IAAI,EAAE;MACNW,SAAS,CAACsC,OAAO,CAACC,IAAI,EAAE;IAC5B;EACJ,CAAC,EAAE,CAAClD,IAAI,CAAC,CAAC;EACV,MAAMmD,YAAY,GAAIC,CAAC,IAAK;IACxB,IAAI7C,kBAAkB,EAAE;MACpBA,kBAAkB,CAACxF,sBAAsB,CAACqI,CAAC,EAAE;QAAEC,KAAK,EAAED,CAAC,CAACE,MAAM,CAACD,KAAK;QAAEE,OAAO,EAAEH,CAAC,CAACE;MAAO,CAAC,CAAC,CAAC;IAC/F;IACApC,eAAe,CAACkC,CAAC,CAACE,MAAM,CAACD,KAAK,CAAC;EACnC,CAAC;EACD,MAAMG,UAAU,GAAIJ,CAAC,IAAK;IACtB/C,gBAAgB,CAAC+C,CAAC,EAAE/B,UAAU,CAAC4B,OAAO,EAAE9B,cAAc,CAAC;EAC3D,CAAC;EACD,MAAMsC,WAAW,GAAG,UAACL,CAAC,EAAuB;IAAA,IAArBM,QAAQ,uEAAG,KAAK;IACpC/B,kBAAkB,CAAC,IAAI,CAAC;IACxBxE,eAAe,CAACiG,CAAC,CAAC;IAClB,IAAI,CAACM,QAAQ,EAAE;MACXF,UAAU,CAACJ,CAAC,CAAC;MACb;IACJ;IACAnD,iBAAiB,CAACmD,CAAC,CAAC;EACxB,CAAC;EACD,MAAMO,YAAY,GAAIP,CAAC,IAAK;IACxB,IAAI5C,kBAAkB,EAAE;MACpBA,kBAAkB,CAACzF,sBAAsB,CAACqI,CAAC,CAAC,CAAC;IACjD;IACAnD,iBAAiB,CAACmD,CAAC,CAAC;EACxB,CAAC;EACD,MAAMQ,aAAa,GAAIR,CAAC,IAAK;IACzBzB,kBAAkB,CAAC,IAAI,CAAC;IACxBvB,oBAAoB,CAACgD,CAAC,EAAE,QAAQ,EAAE;MAAES,OAAO,EAAEC,KAAK,CAACC,IAAI,CAACpD,SAAS,CAACsC,OAAO,CAACe,gBAAgB,CAAC,eAAe,CAAC;IAAE,CAAC,CAAC;EACnH,CAAC;EACD,MAAMC,gBAAgB,GAAIb,CAAC,IAAK;IAC5BvC,aAAa,CAACuC,CAAC,CAACc,MAAM,CAACC,YAAY,CAACC,OAAO,CAACC,EAAE,KAAK,MAAM,CAAC;EAC9D,CAAC;EACD,MAAMC,cAAc,GAAG,MAAM;IACzB,OAAOpE,QAAQ,CACVzB,MAAM,CAAE8F,IAAI,IAAK;MAClB,IAAI7F,EAAE,EAAEC,EAAE,EAAEC,EAAE;MACd,OAAQ,CAAC,EAAE2F,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACxF,KAAK,CAAC,KAC7D,CAACL,EAAE,GAAG6F,IAAI,CAACxF,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8F,OAAO,CAAC,KAClE,CAAC,CAAC5F,EAAE,GAAG,CAACD,EAAE,GAAG4F,IAAI,CAACxF,KAAK,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8F,KAAK,MAAM,IAAI,IAAI7F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8F,WAAW,EAAE,CAACC,QAAQ,CAAC1D,YAAY,CAACyD,WAAW,EAAE,CAAC,KAAKzD,YAAY,CAAC2D,MAAM,KAAK,CAAC,CAAC,IAClMrG,gBAAgB,CAACuC,iBAAiB,EAAEyD,IAAI,CAAC;IACjD,CAAC,CAAC,CACGM,GAAG,CAAEC,KAAK,IAAK;MAChB,IAAIpG,EAAE;MACN,MAAMqG,gBAAgB,GAAGhF,aAAa,CAACkD,OAAO,CAAC6B,KAAK,CAACE,GAAG,CAAC;MACzD,IAAIC,eAAe,GAAG,CAAC,CAAC;MACxB,IAAIF,gBAAgB,EAAE;QAClBE,eAAe,GAAG5G,WAAW,CAAC0G,gBAAgB,EAAED,KAAK,CAAC;MAC1D;MACA,IAAI,CAACA,KAAK,CAAC/F,KAAK,CAACmB,QAAQ,EACrB,OAAO4E,KAAK;MAChB,OAAO3J,YAAY,CAAC2J,KAAK,EAAE;QACvB,kBAAkB,EAAEvD,UAAU;QAC9B,eAAe,EAAEG,eAAe,KAAK,IAAI,GACnC,CAAC,EAAE,CAAChD,EAAE,GAAGgD,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACoD,KAAK,CAACE,GAAG,CAAC,MAAM,IAAI,IAAItG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwG,QAAQ,CAAC,GACxJJ,KAAK,CAAC/F,KAAK,CAACC,kBAAkB,IAAI8F,KAAK,CAAC/F,KAAK,CAACG,QAAQ,IAAI4F,KAAK,CAACK,IAAI,CAACC,WAAW,KAAK,iBAAiB;QAC5G,gBAAgB,EAAEN,KAAK,CAACE,GAAG;QAC3B9E,QAAQ,EAAEZ,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAEP,KAAK,CAAC/F,KAAK,CAACmB,QAAQ,CAAC,EAAE;UAAEnB,KAAK,EAAEO,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAEP,KAAK,CAAC/F,KAAK,CAACmB,QAAQ,CAACnB,KAAK,CAAC,EAAEkG,eAAe,CAAC;UAAEK,GAAG,EAAGC,IAAI,IAAK;YAChK,IAAIA,IAAI,EAAE;cACNlE,UAAU,CAAC4B,OAAO,CAAC6B,KAAK,CAACE,GAAG,CAAC,GAAGO,IAAI;cACpCjH,OAAO,CAACwG,KAAK,CAAC/F,KAAK,CAACmB,QAAQ,CAACoF,GAAG,EAAEC,IAAI,CAAC;YAC3C;UACJ;QAAE,CAAC;MACX,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EACD,MAAMC,2BAA2B,GAAIpC,CAAC,IAAK;IACvCrC,oBAAoB,CAACqC,CAAC,CAACc,MAAM,CAACuB,cAAc,CAACrB,OAAO,CAACC,EAAE,CAAC;EAC5D,CAAC;EACD,MAAMqB,oBAAoB,GAAItC,CAAC,IAAK;IAChC,IAAI1E,EAAE;IACN0E,CAAC,CAACuC,cAAc,EAAE;IAClB,MAAMC,aAAa,GAAGxC,CAAC,CAACc,MAAM,CAAC2B,sBAAsB,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,UAAU,KAAM1G,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAEU,GAAG,CAAC,EAAE;MAAE,CAACC,UAAU,CAAC5B,OAAO,CAAC6B,QAAQ,GAAGD;IAAW,CAAC,CAAE,EAAE,CAAC,CAAC,CAAC;IAC7K,MAAME,SAAS,GAAG9C,CAAC,CAACc,MAAM,CAACiC,YAAY,CAACL,MAAM,CAAC,CAACC,GAAG,EAAEK,MAAM,KAAM9G,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAEU,GAAG,CAAC,EAAE;MAAE,CAACK,MAAM,CAAChC,OAAO,CAAC6B,QAAQ,GAAGG;IAAO,CAAC,CAAE,EAAE,CAAC,CAAC,CAAC;IACnJ,MAAMC,aAAa,GAAGjD,CAAC,CAACc,MAAM,CAAC2B,sBAAsB,GAAGzC,CAAC,CAACc,MAAM,CAACiC,YAAY,GACvEhH,cAAc,CAACyG,aAAa,EAAEM,SAAS,CAAC,GACxC/G,cAAc,CAAC+G,SAAS,EAAEN,aAAa,CAAC;IAC9C,MAAMrC,OAAO,GAAG2C,SAAS,CAACG,aAAa,CAAC,IAAIT,aAAa,CAACS,aAAa,CAAC;IACxE;IACA,IAAI,CAAC,CAAC3H,EAAE,GAAG6E,OAAO,CAACa,OAAO,MAAM,IAAI,IAAI1F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACQ,QAAQ,MAAM,MAAM,EAAE;MACtF2C,gBAAgB,CAAC0B,OAAO,CAAC;MACzB;IACJ;IACA5B,kBAAkB,CAACrC,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAEO,aAAa,CAAC,EAAEM,SAAS,CAAC,CAAC;IAC9E,IAAI,OAAO5F,qBAAqB,KAAK,UAAU,EAAE;MAC7CA,qBAAqB,CAACvF,sBAAsB,CAACqI,CAAC,EAAE;QAAEG,OAAO;QAAE+C,OAAO,EAAE/C,OAAO,CAAC2B;MAAS,CAAC,CAAC,CAAC;IAC5F;IACA9D,iBAAiB,CAAEK,IAAI,IAAK;MACxB,OAAOnC,MAAM,CAAC+F,MAAM,CAAC/F,MAAM,CAAC+F,MAAM,CAAC,CAAC,CAAC,EAAE5D,IAAI,CAAC,EAAE;QAAE,CAAC4E,aAAa,GAAG9C,OAAO,CAAC2B;MAAS,CAAC,CAAC;IACxF,CAAC,CAAC;EACN,CAAC;EACD9J,SAAS,CAAC,MAAM;IACZ,IAAIwG,aAAa,EAAE;MACfA,aAAa,CAAC2E,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC;MAC9C1E,gBAAgB,CAAC2E,SAAS,CAAC;IAC/B;EACJ,CAAC,EAAE,CAAC5E,aAAa,CAAC,CAAC;EACnB,MAAM6E,YAAY,GAAG,MAAM;IACvB,MAAMC,MAAM,GAAG,CAAC,CAAC;IACjBxL,QAAQ,CAACyL,OAAO,CAACrC,cAAc,EAAE,EAAGQ,KAAK,IAAK;MAC1C,IAAIpG,EAAE;MACN,MAAMkI,WAAW,GAAG,CAAClI,EAAE,GAAGoG,KAAK,CAAC/F,KAAK,CAAC8H,SAAS,MAAM,IAAI,IAAInI,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,SAAS;MAC3F,IAAIgI,MAAM,CAACE,WAAW,CAAC,EAAE;QACrBF,MAAM,CAACE,WAAW,CAAC,CAACE,IAAI,CAAChC,KAAK,CAAC;MACnC,CAAC,MACI;QACD4B,MAAM,CAACE,WAAW,CAAC,GAAG,CAAC9B,KAAK,CAAC;MACjC;IACJ,CAAC,CAAC;IACF,MAAMiC,YAAY,GAAGzH,MAAM,CAACC,IAAI,CAACmH,MAAM,CAAC,CACnCM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMD,CAAC,KAAK,SAAS,GAAG,CAAC,CAAC,GAAGC,CAAC,KAAK,MAAM,GAAG,CAAC,GAAG,CAAE,CAAC,CAC7DrC,GAAG,CAAC,CAACN,IAAI,EAAE4C,KAAK,KAAK;MACtB,OAAQlM,KAAK,CAACmM,aAAa,CAAC1J,KAAK,EAAE;QAAE2J,UAAU,EAAE9C,IAAI,KAAK,SAAS,GAAGxC,SAAS,GAAGwC,IAAI;QAAE+C,SAAS,EAAEtG,OAAO,CAACuG,UAAU;QAAEvC,GAAG,EAAG,GAAET,IAAI,KAAK,SAAS,GAAGxC,SAAS,GAAGwC,IAAK,GAAE4C,KAAM;MAAE,CAAC,EAC5KlM,KAAK,CAACmM,aAAa,CAACtJ,KAAK,EAAE;QAAEwJ,SAAS,EAAEtG,OAAO,CAACwG,KAAK;QAAEC,IAAI,EAAE3L,SAAS,CAAC4L,WAAW;QAAE,qBAAqB,EAAE,2BAA2B;QAAEC,iBAAiB,EAAEjC;MAAqB,CAAC,EAAEgB,MAAM,CAACnC,IAAI,CAAC,CAAC,CAAC;IACzM,CAAC,CAAC;IACF,OAAOwC,YAAY;EACvB,CAAC;EACD,OAAOvL,YAAY,CAACP,KAAK,CAACmM,aAAa,CAAC9J,MAAM,EAAE;IAAEgI,GAAG,EAAE3E,SAAS;IAAE,qBAAqB,EAAE,iBAAiB;IAAEiH,YAAY,EAAEnE,WAAW;IAAEoE,WAAW,EAAEpH,wBAAwB;IAAEqH,SAAS,EAAE,IAAI;IAAEC,SAAS,EAAE,IAAI;IAAET,SAAS,EAAEtG,OAAO,CAACgH,eAAe;IAAEC,mBAAmB,EAAE,IAAI;IAAEC,MAAM,EAAEjN,KAAK,CAACmM,aAAa,CAAChK,GAAG,EAAE;MAAE+K,MAAM,EAAEzM,SAAS,CAAC0M,MAAM;MAAEC,YAAY,EAAEpN,KAAK,CAACmM,aAAa,CAACpJ,KAAK,EAAE;QAAEsK,KAAK,EAAEvM,UAAU,CAACwM,EAAE;QAAEC,KAAK,EAAEpG;MAAa,CAAC,EAAEA,YAAY,CAAC;MAAEqG,UAAU,EAAEtI,iBAAiB,IAAKlF,KAAK,CAACmM,aAAa,CAAC/J,MAAM,EAAE;QAAE8K,MAAM,EAAExM,YAAY,CAAC+M,WAAW;QAAEC,OAAO,EAAE/E;MAAc,CAAC,EAAEvB,SAAS;IAAG,CAAC,CAAC;IAAEuG,MAAM,EAAE3N,KAAK,CAACmM,aAAa,CAAChK,GAAG,EAAE;MAAE+K,MAAM,EAAEzM,SAAS,CAACmN,MAAM;MAAEJ,UAAU,EAAExN,KAAK,CAACmM,aAAa,CAACnJ,OAAO,EAAE;QAAE6K,cAAc,EAAEjN,qBAAqB,CAACkN,GAAG;QAAEzB,SAAS,EAAEtG,OAAO,CAAC4H;MAAO,CAAC,EACjuB3N,KAAK,CAACmM,aAAa,CAAC/J,MAAM,EAAE;QAAEsL,OAAO,EAAEnF,UAAU;QAAE,qBAAqB,EAAE,wBAAwB;QAAE2E,MAAM,EAAExM,YAAY,CAACqN;MAAW,CAAC,EAAE9G,MAAM,CAAC,EAC9IjH,KAAK,CAACmM,aAAa,CAAC/J,MAAM,EAAE;QAAE8K,MAAM,EAAExM,YAAY,CAAC+M,WAAW;QAAEC,OAAO,EAAEhF,YAAY;QAAE,qBAAqB,EAAE;MAA2B,CAAC,EAAE1B,UAAU,CAAC;IAAE,CAAC;EAAE,CAAC,EACrKhH,KAAK,CAACmM,aAAa,CAACnJ,OAAO,EAAE;IAAEgL,SAAS,EAAErN,gBAAgB,CAACsN,MAAM;IAAE5B,SAAS,EAAEtG,OAAO,CAACmI;EAAmB,CAAC,EACtGlO,KAAK,CAACmM,aAAa,CAAClJ,OAAO,EAAE;IAAEoJ,SAAS,EAAEtG,OAAO,CAACoI,SAAS;IAAEC,YAAY,EAAErN,YAAY,CAACsN;EAAM,CAAC,EAC3FrO,KAAK,CAACmM,aAAa,CAACvJ,MAAM,EAAE;IAAE0L,QAAQ,EAAE/D,2BAA2B;IAAEgD,KAAK,EAAExF,qBAAqB;IAAEwG,cAAc,EAAExG;EAAsB,CAAC,EACtI/H,KAAK,CAACmM,aAAa,CAAC3J,MAAM,EAAE;IAAEyH,QAAQ,EAAEpE,iBAAiB,KAAK,KAAK;IAAE,SAAS,EAAE;EAAM,CAAC,EAAEwB,OAAO,CAAC,EACjGrH,KAAK,CAACmM,aAAa,CAAC3J,MAAM,EAAE;IAAEyH,QAAQ,EAAEpE,iBAAiB,KAAK,SAAS;IAAE,SAAS,EAAE;EAAU,CAAC,EAAE0B,WAAW,CAAC,EAC7GvH,KAAK,CAACmM,aAAa,CAAC3J,MAAM,EAAE;IAAEyH,QAAQ,EAAEpE,iBAAiB,KAAK,QAAQ;IAAE,SAAS,EAAE;EAAS,CAAC,EAAEyB,UAAU,CAAC,EAC1GtH,KAAK,CAACmM,aAAa,CAAC3J,MAAM,EAAE;IAAEyH,QAAQ,EAAEpE,iBAAiB,KAAK,kBAAkB;IAAE,SAAS,EAAE;EAAmB,CAAC,EAAE2B,oBAAoB,CAAC,EACxIxH,KAAK,CAACmM,aAAa,CAAC3J,MAAM,EAAE;IAAEyH,QAAQ,EAAEpE,iBAAiB,KAAK,WAAW;IAAE,SAAS,EAAE;EAAY,CAAC,EAAE4B,aAAa,CAAC,CAAC,EACxHzH,KAAK,CAACmM,aAAa,CAACjJ,aAAa,EAAE,IAAI,CAAC,EACxClD,KAAK,CAACmM,aAAa,CAAC/J,MAAM,EAAE;IAAE8K,MAAM,EAAExM,YAAY,CAAC+M,WAAW;IAAEC,OAAO,EAAEnH,YAAY;IAAE,WAAW,EAAE;EAAS,CAAC,EAAED,UAAU,GAAGuB,cAAc,GAAGD,cAAc,CAAC,EAC7J5H,KAAK,CAACmM,aAAa,CAACzJ,eAAe,EAAE;IAAEgK,iBAAiB,EAAE1D;EAAiB,CAAC,EACxEhJ,KAAK,CAACmM,aAAa,CAACxJ,mBAAmB,EAAE;IAAE6L,IAAI,EAAE5O,QAAQ;IAAE,SAAS,EAAE,MAAM;IAAE6O,OAAO,EAAE9I,UAAU;IAAE4I,cAAc,EAAE7G;EAAa,CAAC,CAAC,EAClI1H,KAAK,CAACmM,aAAa,CAACxJ,mBAAmB,EAAE;IAAE6L,IAAI,EAAE7O,UAAU;IAAE,SAAS,EAAE,OAAO;IAAE8O,OAAO,EAAE,CAAC9I,UAAU;IAAE4I,cAAc,EAAE5G;EAAc,CAAC,CAAC,CAAC,CAAC,EACjJ3H,KAAK,CAACmM,aAAa,CAACnJ,OAAO,EAAE;IAAEqJ,SAAS,EAAEtG,OAAO,CAAC2I;EAAqB,CAAC,EACpE1O,KAAK,CAACmM,aAAa,CAAC5J,KAAK,EAAE;IAAEoM,WAAW,EAAE,IAAI;IAAEC,WAAW,EAAE1H,oBAAoB;IAAE2H,OAAO,EAAE3G,YAAY;IAAE4G,aAAa,EAAE,IAAI;IAAEN,IAAI,EAAExO,KAAK,CAACmM,aAAa,CAAC7J,IAAI,EAAE;MAAEsC,IAAI,EAAE/E;IAAW,CAAC,CAAC;IAAEwK,GAAG,EAAEhE,eAAe;IAAEgG,SAAS,EAAEtG,OAAO,CAACgJ;EAAY,CAAC,CAAC,CAAC,CAAC,EACvP/O,KAAK,CAACmM,aAAa,CAACtJ,KAAK,EAAE;IAAE,qBAAqB,EAAE,sBAAsB;IAAEmM,UAAU,EAAE,CAACrJ,UAAU;IAAE0G,SAAS,EAAEtG,OAAO,CAACwG,KAAK;IAAEC,IAAI,EAAE3L,SAAS,CAAC4L,WAAW;IAAEC,iBAAiB,EAAEjC,oBAAoB;IAAEwE,OAAO,EAAEjP,KAAK,CAACmM,aAAa,CAACnM,KAAK,CAACkP,QAAQ,EAAE,IAAI,EAC9OlP,KAAK,CAACmM,aAAa,CAACrJ,WAAW,EAAE,IAAI,EAAEgF,SAAS,CAAC,EACjD,CAACxB,UAAU,IAAItG,KAAK,CAACmM,aAAa,CAACrJ,WAAW,EAAE;MAAEuJ,SAAS,EAAEtG,OAAO,CAACoJ;IAAS,CAAC,EAAE7H,UAAU,CAAC;EAAE,CAAC,EAAE3B,UAAU,IAAI0D,cAAc,EAAE,CAAC,EACxI,CAAC1D,UAAU,IAAI6F,YAAY,EAAE,CAAC,EAAE/F,eAAe,CAAC;AACxD,CAAC"},"metadata":{},"sourceType":"module"}