{"ast":null,"code":"import ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport MediaRange from \"@ui5/webcomponents-base/dist/MediaRange.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport Carousel from \"@ui5/webcomponents/dist/Carousel.js\";\nimport MediaGalleryItem from \"./MediaGalleryItem.js\";\nimport MediaGalleryItemLayout from \"./types/MediaGalleryItemLayout.js\";\nimport MediaGalleryLayout from \"./types/MediaGalleryLayout.js\";\nimport MediaGalleryMenuHorizontalAlign from \"./types/MediaGalleryMenuHorizontalAlign.js\";\nimport MediaGalleryMenuVerticalAlign from \"./types/MediaGalleryMenuVerticalAlign.js\";\n\n// Template\nimport MediaGalleryTemplate from \"./generated/templates/MediaGalleryTemplate.lit.js\";\n\n// Styles\nimport MediaGalleryCss from \"./generated/themes/MediaGallery.css.js\";\n\n// The allowed number of thumbnail columns on each size\n// (relevant when <code>showAllThumbnails</code> is enabled)\nconst COLUMNS_COUNT = {\n  \"S\": 1,\n  \"M\": 2,\n  \"L\": 3,\n  \"XL\": 4\n};\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-media-gallery\",\n  managedSlots: true,\n  slots: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */{\n    /**\n     * Defines the component items.\n     *\n     * <br><br>\n     * <b>Note:</b> Only one selected item is allowed.\n     *\n     * <br><br>\n     * <b>Note:</b> Use the <code>ui5-media-gallery-item</code> component to define the desired items.\n     *\n     * @type {sap.ui.webcomponents.fiori.IMediaGalleryItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      individualSlots: true,\n      invalidateOnChildChange: true\n    }\n  },\n  properties: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */{\n    /**\n     * If set to <code>true</code>, all thumbnails are rendered in a scrollable container.\n     * If <code>false</code>, only up to five thumbnails are rendered, followed by\n     * an overflow button that shows the count of the remaining thumbnails.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showAllThumbnails: {\n      type: Boolean\n    },\n    /**\n     * If enabled, a <code>display-area-click</code> event is fired\n     * when the user clicks or taps on the display area.\n     * <br>\n     * The display area is the central area that contains\n     * the enlarged content of the currently selected item.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    interactiveDisplayArea: {\n      type: Boolean\n    },\n    /**\n     * Determines the layout of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Auto</code></li>\n     * <li><code>Vertical</code></li>\n     * <li><code>Horizontal</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.fiori.types.MediaGalleryLayout}\n     * @defaultvalue \"Auto\"\n     * @public\n     */\n    layout: {\n      type: MediaGalleryLayout,\n      defaultValue: \"Auto\"\n    },\n    /**\n     * Determines the horizontal alignment of the thumbnails menu\n     * vs. the central display area.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Left</code></li>\n     * <li><code>Right</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.fiori.types.MediaGalleryMenuHorizontalAlign}\n     * @defaultvalue \"Left\"\n     * @public\n     */\n    menuHorizontalAlign: {\n      type: MediaGalleryMenuHorizontalAlign,\n      defaultValue: MediaGalleryMenuHorizontalAlign.Left\n    },\n    /**\n     * Determines the vertical alignment of the thumbnails menu\n     * vs. the central display area.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Top</code></li>\n     * <li><code>Bottom</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.fiori.types.MediaGalleryMenuVerticalAlign}\n     * @defaultvalue \"Bottom\"\n     * @public\n     */\n    menuVerticalAlign: {\n      type: MediaGalleryMenuVerticalAlign,\n      defaultValue: MediaGalleryMenuVerticalAlign.Bottom\n    },\n    /**\n     * Determines the actual applied layout type\n     * (esp. needed when the app did not specify a fixed layout type\n     * but selected <code>Auto</code> layout type).\n     * <br><br>\n     * Possible values are:\n     * <ul>\n     * <li><code>Vertical</code></li>\n     * <li><code>Horizontal</code></li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.fiori.types.MediaGalleryLayout}\n     * @defaultvalue \"Vertical\"\n     * @private\n     */\n    effectiveLayout: {\n      type: MediaGalleryLayout,\n      defaultValue: \"Vertical\"\n    },\n    /**\n     * Defines the current media query size.\n     *\n     * @private\n     */\n    mediaRange: {\n      type: String\n    },\n    /**\n     * The number of items in the overflow.\n     *\n     * @private\n     */\n    _overflowSize: {\n      type: Integer,\n      noAttribute: true,\n      defaultValue: 0\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */{\n    /**\n     * Fired when selection is changed by user interaction.\n     *\n     * @event sap.ui.webcomponents.fiori.MediaGallery#selection-change\n     * @param {HTMLElement} item the selected item.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the thumbnails overflow button is clicked.\n     *\n     * @event sap.ui.webcomponents.fiori.MediaGallery#overflow-click\n     * @public\n     */\n    \"overflow-click\": {},\n    /**\n     * Fired when the display area is clicked.<br>\n     * The display area is the central area that contains\n     * the enlarged content of the currently selected item.\n     *\n     * @event sap.ui.webcomponents.fiori.MediaGallery#display-area-click\n     * @public\n     */\n    \"display-area-click\": {}\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-media-gallery</code> component allows the user to browse through multimedia items. Currently,\n * the supported items are images and videos. The items should be defined using the <code>ui5-media-gallery-item</code>\n * component.\n *\n * The items are initially displayed as thumbnails. When the user selects a thumbnail, the corresponding item\n * is displayed in larger size.\n * <br>\n * The component is responsive by default and adjusts the position of the menu with respect to viewport size,\n * but the application is able to further customize the layout via the provided API.\n *\n* <h3>Keyboard Handling</h3>\n * The <code>ui5-media-gallery</code> provides advanced keyboard handling.\n * <br>\n * When the thumbnails menu is focused the following keyboard\n * shortcuts allow the user to navigate through the thumbnail items:\n * <br>\n *\n * <ul>\n * <li>[UP/DOWN] - Navigates up and down the items</li>\n * <li>[HOME] - Navigates to first item</li>\n * <li>[END] - Navigates to the last item</li>\n * <li>[SPACE/ENTER] - Select an item\n * </ul>\n * <br>\n *\n * <h3>ES6 Module Import</h3>\n * <code>import \"@ui5/webcomponents-fiori/dist/MediaGallery\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents-fiori/dist/MediaGalleryItem\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.fiori.MediaGallery\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-media-gallery\n * @appenddocs MediaGalleryItem\n * @public\n * @since 1.1.0\n */\nclass MediaGallery extends UI5Element {\n  constructor() {\n    super();\n    this._onResize = this._updateLayout.bind(this);\n    this._selectedItem = null;\n    this._initItemNavigation();\n  }\n  onEnterDOM() {\n    !isPhone() && ResizeHandler.register(this, this._onResize);\n  }\n  onExitDOM() {\n    !isPhone() && ResizeHandler.deregister(this, this._onResize);\n  }\n  onAfterRendering() {\n    this._updateLayout();\n    this._updateSelection();\n  }\n  _initItemNavigation() {\n    if (!this._itemNavigation) {\n      this._itemNavigation = new ItemNavigation(this, {\n        navigationMode: NavigationMode.Auto,\n        getItemsCallback: () => this._getFocusableItems()\n      });\n    }\n  }\n  _updateSelection() {\n    let itemToSelect = this.items.find(item => item.selected);\n    if (!itemToSelect || !this._isSelectableItem(itemToSelect)) {\n      itemToSelect = this._findSelectableItem();\n    }\n    if (itemToSelect && itemToSelect !== this._selectedItem) {\n      this._selectItem(itemToSelect);\n    }\n  }\n  _isSelectableItem(item) {\n    return !item.disabled && !item.hidden;\n  }\n  _findSelectableItem() {\n    return this.items.find(this._isSelectableItem);\n  }\n  _updateMediaRange(width) {\n    this.mediaRange = MediaRange.getCurrentRange(MediaRange.RANGESETS.RANGE_4STEPS, width);\n  }\n  _updateLayout() {\n    const rootNode = this.getDomRef(),\n      height = rootNode.offsetHeight,\n      width = rootNode.offsetWidth;\n    if (!width || !height || isPhone()) {\n      return;\n    }\n    this._updateMediaRange(width);\n    this.effectiveLayout = this._infereffectiveLayout();\n    this._overflowSize = this._calculateOverflowSize(width, height);\n    this._toggleDisplaySquareSize(this._shouldHaveSquareDisplay);\n    this._toggleMainItem9x16size(this._shouldHaveWideDisplay);\n  }\n  _calculateOverflowSize(width, height) {\n    const marginSize = MediaGallery.THUMBNAIL_MARGIN;\n    let columnHeight, columnsCount;\n    if (this.showAllThumbnails) {\n      return 0;\n    }\n    if (this.effectiveLayout === MediaGalleryLayout.Horizontal) {\n      columnHeight = height - marginSize;\n      columnsCount = this.showAllThumbnails ? COLUMNS_COUNT[this.mediaRange] : 1;\n    } else {\n      columnHeight = width - marginSize * 2; // column is flexed to appear as a row in this case\n      columnsCount = 1;\n    }\n    return this._getOverflowSize(columnHeight, columnsCount);\n  }\n  _toggleDisplaySquareSize(enable) {\n    this._display.style.width = \"\"; // restore default width\n\n    if (enable) {\n      const marginSize = MediaGallery.THUMBNAIL_MARGIN,\n        width = this._display.offsetWidth;\n      let availableHeight = this.getDomRef().offsetHeight - 2 * marginSize;\n      if (this.effectiveLayout === MediaGalleryLayout.Vertical) {\n        availableHeight -= MediaGallery.THUMBNAIL_HEIGHT + marginSize;\n      }\n      if (width > availableHeight) {\n        // set to square\n        this._display.style.width = `${availableHeight}px`;\n      }\n    }\n  }\n  _toggleMainItem9x16size(enable) {\n    if (!this._mainItem) {\n      return;\n    }\n    const width = this._mainItem.offsetWidth,\n      contentHeight = enable ? `${width / 16 * 9}px` : \"\";\n    this._mainItem.contentHeight = contentHeight;\n  }\n  _infereffectiveLayout() {\n    if (this.layout === MediaGalleryLayout.Auto) {\n      return this._isPhoneSize ? MediaGalleryLayout.Vertical : MediaGalleryLayout.Horizontal;\n    }\n    return this.layout;\n  }\n  _getMaxAllowedThumbnailsInColumn(columnHeight) {\n    let maxAllowedItems = Math.floor(columnHeight / MediaGallery.THUMBNAIL_HEIGHT);\n    if (!this.showAllThumbnails) {\n      maxAllowedItems = Math.min(maxAllowedItems, 5);\n    }\n    return maxAllowedItems;\n  }\n  _getOverflowSize(columnHeight, columnsCount) {\n    const maxAlowedThumbnailsInColumn = this._getMaxAllowedThumbnailsInColumn(columnHeight),\n      overflowSize = Math.max(0, this.items.length - maxAlowedThumbnailsInColumn * columnsCount);\n    if (overflowSize === this.items.length || overflowSize === 0) {\n      return overflowSize;\n    }\n    return overflowSize + 1; // overflow 1 extra item to make room for overflow btn as well\n  }\n\n  _getFocusableItems() {\n    if (!this._showThumbnails) {\n      return [];\n    }\n    const items = this._visibleItems.filter(item => !item.disabled);\n    if (this._overflowBtn) {\n      items.push(this._overflowBtn);\n    }\n    return items;\n  }\n  _selectItem(item, userInteraction) {\n    if (item === this._selectedItem) {\n      return;\n    }\n    this._selectedItem = item;\n    this._updateSelectedFlag(item);\n    this._itemNavigation.setCurrentItem(item);\n    if (userInteraction) {\n      this.fireEvent(\"selection-change\", {\n        item\n      });\n    }\n    if (isPhone()) {\n      this._selectItemOnPhone(item);\n    } else {\n      this._displayContent(item);\n    }\n  }\n  _updateSelectedFlag(itemToSelect) {\n    this.items.forEach(next => {\n      next.selected = false;\n    });\n    itemToSelect.selected = true;\n  }\n  _selectItemOnPhone(item) {\n    const selectableItemIndex = this._selectableItems.indexOf(item),\n      carousel = this._carousel;\n    carousel && carousel.navigateTo(selectableItemIndex);\n  }\n  _displayContent(item) {\n    let clone;\n    const mainItem = this._mainItem,\n      oldContent = mainItem._content,\n      newContent = item._content;\n    mainItem._thumbnailDesign = false;\n    oldContent && oldContent.remove();\n    if (newContent) {\n      clone = newContent.cloneNode(true);\n      mainItem.layout = item.layout;\n      mainItem.appendChild(clone);\n    }\n  }\n  _onThumbnailClick(event) {\n    const item = event.target.closest(\"[ui5-media-gallery-item]\");\n    if (item.disabled) {\n      return;\n    }\n    if (item !== this._selectedItem) {\n      this._selectItem(item, true /* userInteraction */);\n    }\n  }\n\n  _onOverflowBtnClick() {\n    this.fireEvent(\"overflow-click\");\n  }\n  _onDisplayAreaClick(event) {\n    if (!this.interactiveDisplayArea) {\n      return;\n    }\n    this.fireEvent(\"display-area-click\");\n  }\n  _onCarouselNavigate(event) {\n    const selectedIndex = event.detail.selectedIndex,\n      item = this._selectableItems[selectedIndex];\n    this.fireEvent(\"selection-change\", {\n      item\n    });\n  }\n  get _mainItemTabIndex() {\n    return this.interactiveDisplayArea ? 0 : undefined;\n  }\n  get _selectableItems() {\n    return this.items.filter(this._isSelectableItem);\n  }\n  get _carousel() {\n    return this.shadowRoot.querySelector(\"[ui5-carousel]\");\n  }\n  get _display() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-display\");\n  }\n  get _mainItem() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-display [ui5-media-gallery-item]\");\n  }\n  get _overflowBtn() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-overflow [ui5-button]\");\n  }\n  get _visibleItems() {\n    const visibleItemsCount = this.items.length - this._overflowSize;\n    return this.items.slice(0, visibleItemsCount);\n  }\n  get _isPhonePlatform() {\n    return isPhone();\n  }\n  get _showThumbnails() {\n    return !isPhone();\n  }\n  get _showOverflowBtn() {\n    return this._overflowSize > 0;\n  }\n  get _isPhoneSize() {\n    return this.mediaRange === \"S\";\n  }\n  get _mainItemHasWideLayout() {\n    return this._mainItem && this._mainItem.layout === MediaGalleryItemLayout.Wide;\n  }\n  get _shouldHaveWideDisplay() {\n    return this._mainItemHasWideLayout && this.showAllThumbnails && this.effectiveLayout === MediaGalleryLayout.Horizontal;\n  }\n  get _shouldHaveSquareDisplay() {\n    // by default it should be square\n    // with the only exception when a wide 9*16 item should be displayed\n    return !this._shouldHaveWideDisplay;\n  }\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get template() {\n    return MediaGalleryTemplate;\n  }\n  static get staticAreaTemplate() {\n    return MediaGalleryTemplate;\n  }\n  static get styles() {\n    return [MediaGalleryCss];\n  }\n  static get staticAreaStyles() {\n    return null;\n  }\n  static get dependencies() {\n    return [MediaGalleryItem, Button, Carousel];\n  }\n  static get THUMBNAIL_HEIGHT() {\n    return 80; // px\n  }\n\n  static get THUMBNAIL_MARGIN() {\n    return 16; // px\n  }\n}\n\nMediaGallery.define();\nexport default MediaGallery;","map":{"version":3,"names":["ItemNavigation","ResizeHandler","isPhone","MediaRange","litRender","Integer","NavigationMode","UI5Element","Button","Carousel","MediaGalleryItem","MediaGalleryItemLayout","MediaGalleryLayout","MediaGalleryMenuHorizontalAlign","MediaGalleryMenuVerticalAlign","MediaGalleryTemplate","MediaGalleryCss","COLUMNS_COUNT","metadata","tag","managedSlots","slots","propertyName","type","HTMLElement","individualSlots","invalidateOnChildChange","properties","showAllThumbnails","Boolean","interactiveDisplayArea","layout","defaultValue","menuHorizontalAlign","Left","menuVerticalAlign","Bottom","effectiveLayout","mediaRange","String","_overflowSize","noAttribute","events","detail","item","MediaGallery","constructor","_onResize","_updateLayout","bind","_selectedItem","_initItemNavigation","onEnterDOM","register","onExitDOM","deregister","onAfterRendering","_updateSelection","_itemNavigation","navigationMode","Auto","getItemsCallback","_getFocusableItems","itemToSelect","items","find","selected","_isSelectableItem","_findSelectableItem","_selectItem","disabled","hidden","_updateMediaRange","width","getCurrentRange","RANGESETS","RANGE_4STEPS","rootNode","getDomRef","height","offsetHeight","offsetWidth","_infereffectiveLayout","_calculateOverflowSize","_toggleDisplaySquareSize","_shouldHaveSquareDisplay","_toggleMainItem9x16size","_shouldHaveWideDisplay","marginSize","THUMBNAIL_MARGIN","columnHeight","columnsCount","Horizontal","_getOverflowSize","enable","_display","style","availableHeight","Vertical","THUMBNAIL_HEIGHT","_mainItem","contentHeight","_isPhoneSize","_getMaxAllowedThumbnailsInColumn","maxAllowedItems","Math","floor","min","maxAlowedThumbnailsInColumn","overflowSize","max","length","_showThumbnails","_visibleItems","filter","_overflowBtn","push","userInteraction","_updateSelectedFlag","setCurrentItem","fireEvent","_selectItemOnPhone","_displayContent","forEach","next","selectableItemIndex","_selectableItems","indexOf","carousel","_carousel","navigateTo","clone","mainItem","oldContent","_content","newContent","_thumbnailDesign","remove","cloneNode","appendChild","_onThumbnailClick","event","target","closest","_onOverflowBtnClick","_onDisplayAreaClick","_onCarouselNavigate","selectedIndex","_mainItemTabIndex","undefined","shadowRoot","querySelector","visibleItemsCount","slice","_isPhonePlatform","_showOverflowBtn","_mainItemHasWideLayout","Wide","render","template","staticAreaTemplate","styles","staticAreaStyles","dependencies","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-fiori/dist/MediaGallery.js"],"sourcesContent":["import ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport MediaRange from \"@ui5/webcomponents-base/dist/MediaRange.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport Carousel from \"@ui5/webcomponents/dist/Carousel.js\";\nimport MediaGalleryItem from \"./MediaGalleryItem.js\";\nimport MediaGalleryItemLayout from \"./types/MediaGalleryItemLayout.js\";\nimport MediaGalleryLayout from \"./types/MediaGalleryLayout.js\";\nimport MediaGalleryMenuHorizontalAlign from \"./types/MediaGalleryMenuHorizontalAlign.js\";\nimport MediaGalleryMenuVerticalAlign from \"./types/MediaGalleryMenuVerticalAlign.js\";\n\n// Template\nimport MediaGalleryTemplate from \"./generated/templates/MediaGalleryTemplate.lit.js\";\n\n// Styles\nimport MediaGalleryCss from \"./generated/themes/MediaGallery.css.js\";\n\n// The allowed number of thumbnail columns on each size\n// (relevant when <code>showAllThumbnails</code> is enabled)\nconst COLUMNS_COUNT = {\n\t\"S\": 1,\n\t\"M\": 2,\n\t\"L\": 3,\n\t\"XL\": 4,\n};\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-media-gallery\",\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */ {\n\t\t/**\n\t\t * Defines the component items.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> Only one selected item is allowed.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use the <code>ui5-media-gallery-item</code> component to define the desired items.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.fiori.IMediaGalleryItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tindividualSlots: true,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */ {\n\t\t/**\n\t\t * If set to <code>true</code>, all thumbnails are rendered in a scrollable container.\n\t\t * If <code>false</code>, only up to five thumbnails are rendered, followed by\n\t\t * an overflow button that shows the count of the remaining thumbnails.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowAllThumbnails: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * If enabled, a <code>display-area-click</code> event is fired\n\t\t * when the user clicks or taps on the display area.\n\t\t * <br>\n\t\t * The display area is the central area that contains\n\t\t * the enlarged content of the currently selected item.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tinteractiveDisplayArea: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines the layout of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Auto</code></li>\n\t\t * <li><code>Vertical</code></li>\n\t\t * <li><code>Horizontal</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.fiori.types.MediaGalleryLayout}\n\t\t * @defaultvalue \"Auto\"\n\t\t * @public\n\t\t */\n\t\tlayout: {\n\t\t\ttype: MediaGalleryLayout,\n\t\t\tdefaultValue: \"Auto\",\n\t\t},\n\n\t\t/**\n\t\t * Determines the horizontal alignment of the thumbnails menu\n\t\t * vs. the central display area.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Left</code></li>\n\t\t * <li><code>Right</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.fiori.types.MediaGalleryMenuHorizontalAlign}\n\t\t * @defaultvalue \"Left\"\n\t\t * @public\n\t\t */\n\t\tmenuHorizontalAlign: {\n\t\t\ttype: MediaGalleryMenuHorizontalAlign,\n\t\t\tdefaultValue: MediaGalleryMenuHorizontalAlign.Left,\n\t\t},\n\n\t\t/**\n\t\t * Determines the vertical alignment of the thumbnails menu\n\t\t * vs. the central display area.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Top</code></li>\n\t\t * <li><code>Bottom</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.fiori.types.MediaGalleryMenuVerticalAlign}\n\t\t * @defaultvalue \"Bottom\"\n\t\t * @public\n\t\t */\n\t\tmenuVerticalAlign: {\n\t\t\ttype: MediaGalleryMenuVerticalAlign,\n\t\t\tdefaultValue: MediaGalleryMenuVerticalAlign.Bottom,\n\t\t},\n\n\t\t/**\n\t\t * Determines the actual applied layout type\n\t\t * (esp. needed when the app did not specify a fixed layout type\n\t\t * but selected <code>Auto</code> layout type).\n\t\t * <br><br>\n\t\t * Possible values are:\n\t\t * <ul>\n\t\t * <li><code>Vertical</code></li>\n\t\t * <li><code>Horizontal</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.fiori.types.MediaGalleryLayout}\n\t\t * @defaultvalue \"Vertical\"\n\t\t * @private\n\t\t */\n\t\teffectiveLayout: {\n\t\t\ttype: MediaGalleryLayout,\n\t\t\tdefaultValue: \"Vertical\",\n\t\t},\n\n\t\t/**\n\t\t * Defines the current media query size.\n\t\t *\n\t\t * @private\n\t\t */\n\t\tmediaRange: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * The number of items in the overflow.\n\t\t *\n\t\t * @private\n\t\t */\n\t\t_overflowSize: {\n\t\t\ttype: Integer,\n\t\t\tnoAttribute: true,\n\t\t\tdefaultValue: 0,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.fiori.MediaGallery.prototype */ {\n\t\t/**\n\t\t * Fired when selection is changed by user interaction.\n\t\t *\n\t\t * @event sap.ui.webcomponents.fiori.MediaGallery#selection-change\n\t\t * @param {HTMLElement} item the selected item.\n\t\t * @public\n\t\t */\n\t\t \"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the thumbnails overflow button is clicked.\n\t\t *\n\t\t * @event sap.ui.webcomponents.fiori.MediaGallery#overflow-click\n\t\t * @public\n\t\t */\n\t\t\"overflow-click\": {},\n\n\t\t/**\n\t\t * Fired when the display area is clicked.<br>\n\t\t * The display area is the central area that contains\n\t\t * the enlarged content of the currently selected item.\n\t\t *\n\t\t * @event sap.ui.webcomponents.fiori.MediaGallery#display-area-click\n\t\t * @public\n\t\t */\n\t\t\"display-area-click\": {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-media-gallery</code> component allows the user to browse through multimedia items. Currently,\n * the supported items are images and videos. The items should be defined using the <code>ui5-media-gallery-item</code>\n * component.\n *\n * The items are initially displayed as thumbnails. When the user selects a thumbnail, the corresponding item\n * is displayed in larger size.\n * <br>\n * The component is responsive by default and adjusts the position of the menu with respect to viewport size,\n * but the application is able to further customize the layout via the provided API.\n *\n* <h3>Keyboard Handling</h3>\n * The <code>ui5-media-gallery</code> provides advanced keyboard handling.\n * <br>\n * When the thumbnails menu is focused the following keyboard\n * shortcuts allow the user to navigate through the thumbnail items:\n * <br>\n *\n * <ul>\n * <li>[UP/DOWN] - Navigates up and down the items</li>\n * <li>[HOME] - Navigates to first item</li>\n * <li>[END] - Navigates to the last item</li>\n * <li>[SPACE/ENTER] - Select an item\n * </ul>\n * <br>\n *\n * <h3>ES6 Module Import</h3>\n * <code>import \"@ui5/webcomponents-fiori/dist/MediaGallery\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents-fiori/dist/MediaGalleryItem\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.fiori.MediaGallery\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-media-gallery\n * @appenddocs MediaGalleryItem\n * @public\n * @since 1.1.0\n */\nclass MediaGallery extends UI5Element {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._onResize = this._updateLayout.bind(this);\n\t\tthis._selectedItem = null;\n\t\tthis._initItemNavigation();\n\t}\n\n\tonEnterDOM() {\n\t\t!isPhone() && ResizeHandler.register(this, this._onResize);\n\t}\n\n\tonExitDOM() {\n\t\t!isPhone() && ResizeHandler.deregister(this, this._onResize);\n\t}\n\n\tonAfterRendering() {\n\t\tthis._updateLayout();\n\t\tthis._updateSelection();\n\t}\n\n\t_initItemNavigation() {\n\t\tif (!this._itemNavigation) {\n\t\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\t\tnavigationMode: NavigationMode.Auto,\n\t\t\t\tgetItemsCallback: () => this._getFocusableItems(),\n\t\t\t});\n\t\t}\n\t}\n\n\t_updateSelection() {\n\t\tlet itemToSelect = this.items.find(item => item.selected);\n\t\tif (!itemToSelect || !this._isSelectableItem(itemToSelect)) {\n\t\t\titemToSelect = this._findSelectableItem();\n\t\t}\n\t\tif (itemToSelect && itemToSelect !== this._selectedItem) {\n\t\t\tthis._selectItem(itemToSelect);\n\t\t}\n\t}\n\n\t_isSelectableItem(item) {\n\t\treturn !item.disabled && !item.hidden;\n\t}\n\n\t_findSelectableItem() {\n\t\treturn this.items.find(this._isSelectableItem);\n\t}\n\n\t_updateMediaRange(width) {\n\t\tthis.mediaRange = MediaRange.getCurrentRange(MediaRange.RANGESETS.RANGE_4STEPS, width);\n\t}\n\n\t_updateLayout() {\n\t\tconst rootNode = this.getDomRef(),\n\t\t\theight = rootNode.offsetHeight,\n\t\t\twidth = rootNode.offsetWidth;\n\n\t\tif (!width || !height || isPhone()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._updateMediaRange(width);\n\t\tthis.effectiveLayout = this._infereffectiveLayout();\n\t\tthis._overflowSize = this._calculateOverflowSize(width, height);\n\n\t\tthis._toggleDisplaySquareSize(this._shouldHaveSquareDisplay);\n\t\tthis._toggleMainItem9x16size(this._shouldHaveWideDisplay);\n\t}\n\n\t_calculateOverflowSize(width, height) {\n\t\tconst marginSize = MediaGallery.THUMBNAIL_MARGIN;\n\t\tlet columnHeight,\n\t\t\tcolumnsCount;\n\n\t\tif (this.showAllThumbnails) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (this.effectiveLayout === MediaGalleryLayout.Horizontal) {\n\t\t\tcolumnHeight = height - marginSize;\n\t\t\tcolumnsCount = this.showAllThumbnails ? COLUMNS_COUNT[this.mediaRange] : 1;\n\t\t} else {\n\t\t\tcolumnHeight = width - (marginSize * 2); // column is flexed to appear as a row in this case\n\t\t\tcolumnsCount = 1;\n\t\t}\n\t\treturn this._getOverflowSize(columnHeight, columnsCount);\n\t}\n\n\t_toggleDisplaySquareSize(enable) {\n\t\tthis._display.style.width = \"\"; // restore default width\n\n\t\tif (enable) {\n\t\t\tconst marginSize = MediaGallery.THUMBNAIL_MARGIN,\n\t\t\t\twidth = this._display.offsetWidth;\n\n\t\t\tlet availableHeight = this.getDomRef().offsetHeight - (2 * marginSize);\n\t\t\tif (this.effectiveLayout === MediaGalleryLayout.Vertical) {\n\t\t\t\tavailableHeight -= (MediaGallery.THUMBNAIL_HEIGHT + marginSize);\n\t\t\t}\n\n\t\t\tif (width > availableHeight) {\n\t\t\t\t// set to square\n\t\t\t\tthis._display.style.width = `${availableHeight}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\t_toggleMainItem9x16size(enable) {\n\t\tif (!this._mainItem) {\n\t\t\treturn;\n\t\t}\n\t\tconst width = this._mainItem.offsetWidth,\n\t\t\tcontentHeight = enable ? `${(width / 16) * 9}px` : \"\";\n\n\t\tthis._mainItem.contentHeight = contentHeight;\n\t}\n\n\t_infereffectiveLayout() {\n\t\tif (this.layout === MediaGalleryLayout.Auto) {\n\t\t\treturn (this._isPhoneSize) ? MediaGalleryLayout.Vertical\n\t\t\t\t: MediaGalleryLayout.Horizontal;\n\t\t}\n\t\treturn this.layout;\n\t}\n\n\t_getMaxAllowedThumbnailsInColumn(columnHeight) {\n\t\tlet maxAllowedItems = Math.floor(columnHeight / MediaGallery.THUMBNAIL_HEIGHT);\n\t\tif (!this.showAllThumbnails) {\n\t\t\tmaxAllowedItems = Math.min(maxAllowedItems, 5);\n\t\t}\n\t\treturn maxAllowedItems;\n\t}\n\n\t_getOverflowSize(columnHeight, columnsCount) {\n\t\tconst maxAlowedThumbnailsInColumn = this._getMaxAllowedThumbnailsInColumn(columnHeight),\n\t\t\toverflowSize = Math.max(0, this.items.length - maxAlowedThumbnailsInColumn * columnsCount);\n\t\tif (overflowSize === this.items.length || overflowSize === 0) {\n\t\t\treturn overflowSize;\n\t\t}\n\t\treturn overflowSize + 1; // overflow 1 extra item to make room for overflow btn as well\n\t}\n\n\t_getFocusableItems() {\n\t\tif (!this._showThumbnails) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst items = this._visibleItems.filter(item => !item.disabled);\n\n\t\tif (this._overflowBtn) {\n\t\t\titems.push(this._overflowBtn);\n\t\t}\n\t\treturn items;\n\t}\n\n\t_selectItem(item, userInteraction) {\n\t\tif (item === this._selectedItem) {\n\t\t\treturn;\n\t\t}\n\t\tthis._selectedItem = item;\n\n\t\tthis._updateSelectedFlag(item);\n\t\tthis._itemNavigation.setCurrentItem(item);\n\n\t\tif (userInteraction) {\n\t\t\tthis.fireEvent(\"selection-change\", { item });\n\t\t}\n\n\t\tif (isPhone()) {\n\t\t\tthis._selectItemOnPhone(item);\n\t\t} else {\n\t\t\tthis._displayContent(item);\n\t\t}\n\t}\n\n\t_updateSelectedFlag(itemToSelect) {\n\t\tthis.items.forEach(next => { next.selected = false; });\n\t\titemToSelect.selected = true;\n\t}\n\n\t_selectItemOnPhone(item) {\n\t\tconst selectableItemIndex = this._selectableItems.indexOf(item),\n\t\t\tcarousel = this._carousel;\n\t\tcarousel && carousel.navigateTo(selectableItemIndex);\n\t}\n\n\t_displayContent(item) {\n\t\tlet clone;\n\t\tconst mainItem = this._mainItem,\n\t\t\toldContent = mainItem._content,\n\t\t\tnewContent = item._content;\n\n\t\tmainItem._thumbnailDesign = false;\n\t\toldContent && oldContent.remove();\n\n\t\tif (newContent) {\n\t\t\tclone = newContent.cloneNode(true);\n\t\t\tmainItem.layout = item.layout;\n\t\t\tmainItem.appendChild(clone);\n\t\t}\n\t}\n\n\t_onThumbnailClick(event) {\n\t\tconst item = event.target.closest(\"[ui5-media-gallery-item]\");\n\n\t\tif (item.disabled) {\n\t\t\treturn;\n\t\t}\n\t\tif (item !== this._selectedItem) {\n\t\t\tthis._selectItem(item, true /* userInteraction */);\n\t\t}\n\t}\n\n\t_onOverflowBtnClick() {\n\t\tthis.fireEvent(\"overflow-click\");\n\t}\n\n\t_onDisplayAreaClick(event) {\n\t\tif (!this.interactiveDisplayArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fireEvent(\"display-area-click\");\n\t}\n\n\t_onCarouselNavigate(event) {\n\t\tconst selectedIndex = event.detail.selectedIndex,\n\t\t\titem = this._selectableItems[selectedIndex];\n\n\t\tthis.fireEvent(\"selection-change\", { item });\n\t}\n\n\tget _mainItemTabIndex() {\n\t\treturn this.interactiveDisplayArea ? 0 : undefined;\n\t}\n\n\tget _selectableItems() {\n\t\treturn this.items.filter(this._isSelectableItem);\n\t}\n\n\tget _carousel() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-carousel]\");\n\t}\n\n\tget _display() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-media-gallery-display\");\n\t}\n\n\tget _mainItem() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-media-gallery-display [ui5-media-gallery-item]\");\n\t}\n\n\tget _overflowBtn() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-media-gallery-overflow [ui5-button]\");\n\t}\n\n\tget _visibleItems() {\n\t\tconst visibleItemsCount = this.items.length - this._overflowSize;\n\t\treturn this.items.slice(0, visibleItemsCount);\n\t}\n\n\tget _isPhonePlatform() {\n\t\treturn isPhone();\n\t}\n\n\tget _showThumbnails() {\n\t\treturn !isPhone();\n\t}\n\n\tget _showOverflowBtn() {\n\t\treturn this._overflowSize > 0;\n\t}\n\n\tget _isPhoneSize() {\n\t\treturn this.mediaRange === \"S\";\n\t}\n\n\tget _mainItemHasWideLayout() {\n\t\treturn this._mainItem && (this._mainItem.layout === MediaGalleryItemLayout.Wide);\n\t}\n\n\tget _shouldHaveWideDisplay() {\n\t\treturn this._mainItemHasWideLayout\n\t\t\t&& this.showAllThumbnails\n\t\t\t&& (this.effectiveLayout === MediaGalleryLayout.Horizontal);\n\t}\n\n\tget _shouldHaveSquareDisplay() {\n\t\t// by default it should be square\n\t\t// with the only exception when a wide 9*16 item should be displayed\n\t\treturn !this._shouldHaveWideDisplay;\n\t}\n\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MediaGalleryTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn MediaGalleryTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn [MediaGalleryCss];\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn null;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tMediaGalleryItem,\n\t\t\tButton,\n\t\t\tCarousel,\n\t\t];\n\t}\n\n\tstatic get THUMBNAIL_HEIGHT() {\n\t\treturn 80; // px\n\t}\n\n\tstatic get THUMBNAIL_MARGIN() {\n\t\treturn 16; // px\n\t}\n}\n\nMediaGallery.define();\n\nexport default MediaGallery;\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,yDAAyD;AACpF,OAAOC,aAAa,MAAM,wDAAwD;AAClF,SAASC,OAAO,QAAQ,wCAAwC;AAChE,OAAOC,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,OAAO,MAAM,+CAA+C;AACnE,OAAOC,cAAc,MAAM,sDAAsD;AACjF,OAAOC,UAAU,MAAM,4CAA4C;AACnE,OAAOC,MAAM,MAAM,mCAAmC;AACtD,OAAOC,QAAQ,MAAM,qCAAqC;AAC1D,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,OAAOC,sBAAsB,MAAM,mCAAmC;AACtE,OAAOC,kBAAkB,MAAM,+BAA+B;AAC9D,OAAOC,+BAA+B,MAAM,4CAA4C;AACxF,OAAOC,6BAA6B,MAAM,0CAA0C;;AAEpF;AACA,OAAOC,oBAAoB,MAAM,mDAAmD;;AAEpF;AACA,OAAOC,eAAe,MAAM,wCAAwC;;AAEpE;AACA;AACA,MAAMC,aAAa,GAAG;EACrB,GAAG,EAAE,CAAC;EACN,GAAG,EAAE,CAAC;EACN,GAAG,EAAE,CAAC;EACN,IAAI,EAAE;AACP,CAAC;;AAED;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,mBAAmB;EACxBC,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE,+DAAgE;IACtE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,SAAS,EAAE;MACVC,YAAY,EAAE,OAAO;MACrBC,IAAI,EAAEC,WAAW;MACjBC,eAAe,EAAE,IAAI;MACrBC,uBAAuB,EAAE;IAC1B;EACD,CAAC;EACDC,UAAU,EAAE,+DAAgE;IAC3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBL,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,sBAAsB,EAAE;MACvBP,IAAI,EAAEM;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEE,MAAM,EAAE;MACPR,IAAI,EAAEX,kBAAkB;MACxBoB,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,mBAAmB,EAAE;MACpBV,IAAI,EAAEV,+BAA+B;MACrCmB,YAAY,EAAEnB,+BAA+B,CAACqB;IAC/C,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBZ,IAAI,EAAET,6BAA6B;MACnCkB,YAAY,EAAElB,6BAA6B,CAACsB;IAC7C,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,eAAe,EAAE;MAChBd,IAAI,EAAEX,kBAAkB;MACxBoB,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;IACEM,UAAU,EAAE;MACXf,IAAI,EAAEgB;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;IACEC,aAAa,EAAE;MACdjB,IAAI,EAAElB,OAAO;MACboC,WAAW,EAAE,IAAI;MACjBT,YAAY,EAAE;IACf;EACD,CAAC;EACDU,MAAM,EAAE,+DAAgE;IACvE;AACF;AACA;AACA;AACA;AACA;AACA;IACG,kBAAkB,EAAE;MACpBC,MAAM,EAAE;QACPC,IAAI,EAAE;UAAErB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;IACE,gBAAgB,EAAE,CAAC,CAAC;IAEpB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,oBAAoB,EAAE,CAAC;EACxB;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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"},"metadata":{},"sourceType":"module"}