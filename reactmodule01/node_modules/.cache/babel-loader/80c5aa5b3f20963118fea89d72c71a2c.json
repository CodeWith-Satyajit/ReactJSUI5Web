{"ast":null,"code":"import DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport { isEnter, isSpace, isDown, isUp, isLeft, isRight, isHome, isEnd, isHomeCtrl, isEndCtrl, isPageUp, isPageDown } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport transformDateToSecondaryType from \"@ui5/webcomponents-localization/dist/dates/transformDateToSecondaryType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport YearPickerTemplate from \"./generated/templates/YearPickerTemplate.lit.js\";\nimport styles from \"./generated/themes/YearPicker.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-yearpicker\",\n  properties: /** @lends sap.ui.webcomponents.main.YearPicker.prototype */{\n    /**\n     * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n     * @type {array}\n     * @public\n     */\n    selectedDates: {\n      type: Integer,\n      multiple: true,\n      compareValues: true\n    },\n    _years: {\n      type: Object,\n      multiple: true\n    },\n    _hidden: {\n      type: Boolean,\n      noAttribute: true\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.YearPicker.prototype */{\n    /**\n     * Fired when the user selects a year (space/enter/click).\n     * @public\n     * @event\n     */\n    change: {},\n    /**\n     * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n     * @since 1.0.0-rc.9\n     * @public\n     * @event\n     */\n    navigate: {}\n  }\n};\n\n/**\n * @class\n *\n * Displays years which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.YearPicker\n * @extends sap.ui.webcomponents.main.CalendarPart\n * @tagname ui5-yearpicker\n * @public\n */\nclass YearPicker extends CalendarPart {\n  static get metadata() {\n    return metadata;\n  }\n  static get styles() {\n    return styles;\n  }\n  static get template() {\n    return YearPickerTemplate;\n  }\n  onBeforeRendering() {\n    this._buildYears();\n  }\n  _getPageSize() {\n    // Total years on a single page depending on using on one or two calendar type\n    return this.secondaryCalendarType ? 8 : 20;\n  }\n  _getRowSize() {\n    // Years per row (5 rows of 4 years each) for one claendar type and (4 row of 2 years each) for two calendar type\n    return this.secondaryCalendarType ? 2 : 4;\n  }\n  _buildYears() {\n    if (this._hidden) {\n      return;\n    }\n    const pageSize = this._getPageSize();\n    const oYearFormat = DateFormat.getDateInstance({\n      format: \"y\",\n      calendarType: this._primaryCalendarType\n    }, getLocale());\n    const oYearFormatInSecType = DateFormat.getDateInstance({\n      format: \"y\",\n      calendarType: this.secondaryCalendarType\n    }, getLocale());\n    this._calculateFirstYear();\n    this._lastYear = this._firstYear + pageSize - 1;\n    const calendarDate = this._calendarDate; // store the value of the expensive getter\n    const minDate = this._minDate; // store the value of the expensive getter\n    const maxDate = this._maxDate; // store the value of the expensive getter\n    const tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n    let tempDateInSecType;\n    let textInSecType;\n    tempDate.setYear(this._firstYear);\n    const intervals = [];\n    let timestamp;\n\n    /* eslint-disable no-loop-func */\n    for (let i = 0; i < pageSize; i++) {\n      timestamp = tempDate.valueOf() / 1000;\n      const isSelected = this.selectedDates.some(itemTimestamp => {\n        const date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n        return date.getYear() === tempDate.getYear();\n      });\n      const isFocused = tempDate.getYear() === calendarDate.getYear();\n      const isDisabled = tempDate.getYear() < minDate.getYear() || tempDate.getYear() > maxDate.getYear();\n      if (this.secondaryCalendarType) {\n        tempDateInSecType = transformDateToSecondaryType(this._primaryCalendarType, this.secondaryCalendarType, timestamp, true);\n        textInSecType = tempDateInSecType.firstDate.getYear() === tempDateInSecType.lastDate.getYear ? `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)}` : `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)} - ${oYearFormatInSecType.format(tempDateInSecType.lastDate.toLocalJSDate(), true)}`;\n      }\n      const year = {\n        timestamp: timestamp.toString(),\n        _tabIndex: isFocused ? \"0\" : \"-1\",\n        focusRef: isFocused,\n        selected: isSelected,\n        ariaSelected: isSelected ? \"true\" : \"false\",\n        year: oYearFormat.format(tempDate.toLocalJSDate()),\n        yearInSecType: this.secondaryCalendarType && textInSecType,\n        disabled: isDisabled,\n        classes: \"ui5-yp-item\"\n      };\n      if (isSelected) {\n        year.classes += \" ui5-yp-item--selected\";\n      }\n      if (isDisabled) {\n        year.classes += \" ui5-yp-item--disabled\";\n      }\n      if (this.secondaryCalendarType) {\n        year.classes += \" ui5-yp-item-secondary-type\";\n      }\n      const intervalIndex = parseInt(i / this._getRowSize());\n      if (intervals[intervalIndex]) {\n        intervals[intervalIndex].push(year);\n      } else {\n        intervals[intervalIndex] = [year];\n      }\n      tempDate.setYear(tempDate.getYear() + 1);\n    }\n    this._years = intervals;\n  }\n  _calculateFirstYear() {\n    const pageSize = this._getPageSize();\n    const absoluteMaxYear = getMaxCalendarDate(this._primaryCalendarType).getYear(); // 9999\n    const currentYear = this._calendarDate.getYear();\n\n    // 1. If first load - center the current year (set first year to be current year minus half page size)\n    if (!this._firstYear) {\n      this._firstYear = currentYear - pageSize / 2;\n    }\n\n    // 2. If out of range - change by a page (20) - do not center in order to keep the same position as the last page\n    if (currentYear < this._firstYear) {\n      this._firstYear -= pageSize;\n    } else if (currentYear >= this._firstYear + pageSize) {\n      this._firstYear += pageSize;\n    }\n\n    // 3. If the date was changed by more than 20 years - reset _firstYear completely\n    if (Math.abs(this._firstYear - currentYear) >= pageSize) {\n      this._firstYear = currentYear - pageSize / 2;\n    }\n\n    // Keep it in the range between the min and max year\n    this._firstYear = Math.max(this._firstYear, this._minDate.getYear());\n    this._firstYear = Math.min(this._firstYear, this._maxDate.getYear());\n\n    // If first year is > 9980, make it 9980 to not show any years beyond 9999\n    if (this._firstYear > absoluteMaxYear - pageSize + 1) {\n      this._firstYear = absoluteMaxYear - pageSize + 1;\n    }\n  }\n  onAfterRendering() {\n    if (!this._hidden) {\n      this.focus();\n    }\n  }\n  _onkeydown(event) {\n    let preventDefault = true;\n    const pageSize = this._getPageSize();\n    const rowSize = this._getRowSize();\n    if (isEnter(event)) {\n      this._selectYear(event);\n    } else if (isSpace(event)) {\n      event.preventDefault();\n    } else if (isLeft(event)) {\n      this._modifyTimestampBy(-1);\n    } else if (isRight(event)) {\n      this._modifyTimestampBy(1);\n    } else if (isUp(event)) {\n      this._modifyTimestampBy(-rowSize);\n    } else if (isDown(event)) {\n      this._modifyTimestampBy(rowSize);\n    } else if (isPageUp(event)) {\n      this._modifyTimestampBy(-pageSize);\n    } else if (isPageDown(event)) {\n      this._modifyTimestampBy(pageSize);\n    } else if (isHome(event) || isEnd(event)) {\n      this._onHomeOrEnd(isHome(event));\n    } else if (isHomeCtrl(event)) {\n      this._setTimestamp(parseInt(this._years[0][0].timestamp)); // first year of first row\n    } else if (isEndCtrl(event)) {\n      this._setTimestamp(parseInt(this._years[pageSize / rowSize - 1][rowSize - 1].timestamp)); // last year of last row\n    } else {\n      preventDefault = false;\n    }\n    if (preventDefault) {\n      event.preventDefault();\n    }\n  }\n  _onHomeOrEnd(homePressed) {\n    this._years.forEach(row => {\n      const indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getYear() === this._calendarDate.getYear());\n      if (indexInRow !== -1) {\n        // The current year is on this row\n        const index = homePressed ? 0 : this._getRowSize() - 1; // select the first (if Home) or last (if End) year on the row\n        this._setTimestamp(parseInt(row[index].timestamp));\n      }\n    });\n  }\n\n  /**\n   * Sets the timestamp to an absolute value\n   * @param value\n   * @private\n   */\n  _setTimestamp(value) {\n    this._safelySetTimestamp(value);\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n\n  /**\n   * Modifies timestamp by a given amount of years and, if necessary, loads the prev/next page\n   * @param amount\n   * @private\n   */\n  _modifyTimestampBy(amount) {\n    // Modify the current timestamp\n    this._safelyModifyTimestampBy(amount, \"year\");\n\n    // Notify the calendar to update its timestamp\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  _onkeyup(event) {\n    if (isSpace(event)) {\n      this._selectYear(event);\n    }\n  }\n\n  /**\n   * User clicked with the mouser or pressed Enter/Space\n   * @param event\n   * @private\n   */\n  _selectYear(event) {\n    event.preventDefault();\n    if (event.target.className.indexOf(\"ui5-yp-item\") > -1) {\n      const timestamp = this._getTimestampFromDom(event.target);\n      this._safelySetTimestamp(timestamp);\n      this.fireEvent(\"change\", {\n        timestamp: this.timestamp\n      });\n    }\n  }\n\n  /**\n   * Called from Calendar.js\n   * @protected\n   */\n  _hasPreviousPage() {\n    return this._firstYear > this._minDate.getYear();\n  }\n\n  /**\n   * Called from Calendar.js\n   * @protected\n   */\n  _hasNextPage() {\n    return this._firstYear + this._getPageSize() - 1 < this._maxDate.getYear();\n  }\n\n  /**\n   * Called by Calendar.js\n   * User pressed the \"<\" button in the calendar header (same as PageUp)\n   * @protected\n   */\n  _showPreviousPage() {\n    const pageSize = this._getPageSize();\n    this._modifyTimestampBy(-pageSize);\n  }\n\n  /**\n   * Called by Calendar.js\n   * User pressed the \">\" button in the calendar header (same as PageDown)\n   * @protected\n   */\n  _showNextPage() {\n    this._modifyTimestampBy(this._getPageSize());\n  }\n}\nYearPicker.define();\nexport default YearPicker;","map":{"version":3,"names":["DateFormat","isEnter","isSpace","isDown","isUp","isLeft","isRight","isHome","isEnd","isHomeCtrl","isEndCtrl","isPageUp","isPageDown","Integer","getLocale","transformDateToSecondaryType","CalendarDate","getMaxCalendarDate","CalendarPart","YearPickerTemplate","styles","metadata","tag","properties","selectedDates","type","multiple","compareValues","_years","Object","_hidden","Boolean","noAttribute","events","change","navigate","YearPicker","template","onBeforeRendering","_buildYears","_getPageSize","secondaryCalendarType","_getRowSize","pageSize","oYearFormat","getDateInstance","format","calendarType","_primaryCalendarType","oYearFormatInSecType","_calculateFirstYear","_lastYear","_firstYear","calendarDate","_calendarDate","minDate","_minDate","maxDate","_maxDate","tempDate","tempDateInSecType","textInSecType","setYear","intervals","timestamp","i","valueOf","isSelected","some","itemTimestamp","date","fromTimestamp","getYear","isFocused","isDisabled","firstDate","lastDate","toLocalJSDate","year","toString","_tabIndex","focusRef","selected","ariaSelected","yearInSecType","disabled","classes","intervalIndex","parseInt","push","absoluteMaxYear","currentYear","Math","abs","max","min","onAfterRendering","focus","_onkeydown","event","preventDefault","rowSize","_selectYear","_modifyTimestampBy","_onHomeOrEnd","_setTimestamp","homePressed","forEach","row","indexInRow","findIndex","item","index","value","_safelySetTimestamp","fireEvent","amount","_safelyModifyTimestampBy","_onkeyup","target","className","indexOf","_getTimestampFromDom","_hasPreviousPage","_hasNextPage","_showPreviousPage","_showNextPage","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/YearPicker.js"],"sourcesContent":["import DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport {\n\tisEnter,\n\tisSpace,\n\tisDown,\n\tisUp,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisPageUp,\n\tisPageDown,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport transformDateToSecondaryType from \"@ui5/webcomponents-localization/dist/dates/transformDateToSecondaryType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport YearPickerTemplate from \"./generated/templates/YearPickerTemplate.lit.js\";\nimport styles from \"./generated/themes/YearPicker.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-yearpicker\",\n\tproperties: /** @lends sap.ui.webcomponents.main.YearPicker.prototype */ {\n\t\t/**\n\t\t * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n\t\t * @type {array}\n\t\t * @public\n\t\t */\n\t\tselectedDates: {\n\t\t\ttype: Integer,\n\t\t\tmultiple: true,\n\t\t\tcompareValues: true,\n\t\t},\n\n\t\t_years: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_hidden: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.YearPicker.prototype */ {\n\t\t/**\n\t\t * Fired when the user selects a year (space/enter/click).\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tchange: {},\n\t\t/**\n\t\t * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n\t\t * @since 1.0.0-rc.9\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tnavigate: {},\n\t},\n};\n\n/**\n * @class\n *\n * Displays years which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.YearPicker\n * @extends sap.ui.webcomponents.main.CalendarPart\n * @tagname ui5-yearpicker\n * @public\n */\nclass YearPicker extends CalendarPart {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get template() {\n\t\treturn YearPickerTemplate;\n\t}\n\n\tonBeforeRendering() {\n\t\tthis._buildYears();\n\t}\n\n\t_getPageSize() {\n\t\t// Total years on a single page depending on using on one or two calendar type\n\t\treturn this.secondaryCalendarType ? 8 : 20;\n\t}\n\n\t_getRowSize() {\n\t\t// Years per row (5 rows of 4 years each) for one claendar type and (4 row of 2 years each) for two calendar type\n\t\treturn this.secondaryCalendarType ? 2 : 4;\n\t}\n\n\t_buildYears() {\n\t\tif (this._hidden) {\n\t\t\treturn;\n\t\t}\n\t\tconst pageSize = this._getPageSize();\n\t\tconst oYearFormat = DateFormat.getDateInstance({ format: \"y\", calendarType: this._primaryCalendarType }, getLocale());\n\t\tconst oYearFormatInSecType = DateFormat.getDateInstance({ format: \"y\", calendarType: this.secondaryCalendarType }, getLocale());\n\t\tthis._calculateFirstYear();\n\t\tthis._lastYear = this._firstYear + pageSize - 1;\n\n\t\tconst calendarDate = this._calendarDate; // store the value of the expensive getter\n\t\tconst minDate = this._minDate; // store the value of the expensive getter\n\t\tconst maxDate = this._maxDate; // store the value of the expensive getter\n\t\tconst tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n\t\tlet tempDateInSecType;\n\t\tlet textInSecType;\n\t\ttempDate.setYear(this._firstYear);\n\n\t\tconst intervals = [];\n\t\tlet timestamp;\n\n\t\t/* eslint-disable no-loop-func */\n\t\tfor (let i = 0; i < pageSize; i++) {\n\t\t\ttimestamp = tempDate.valueOf() / 1000;\n\n\t\t\tconst isSelected = this.selectedDates.some(itemTimestamp => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n\t\t\t\treturn date.getYear() === tempDate.getYear();\n\t\t\t});\n\t\t\tconst isFocused = tempDate.getYear() === calendarDate.getYear();\n\t\t\tconst isDisabled = tempDate.getYear() < minDate.getYear() || tempDate.getYear() > maxDate.getYear();\n\n\t\t\tif (this.secondaryCalendarType) {\n\t\t\t\ttempDateInSecType = transformDateToSecondaryType(this._primaryCalendarType, this.secondaryCalendarType, timestamp, true);\n\t\t\t\ttextInSecType = tempDateInSecType.firstDate.getYear() === tempDateInSecType.lastDate.getYear\n\t\t\t\t\t? `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)}`\n\t\t\t\t\t: `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)} - ${oYearFormatInSecType.format(tempDateInSecType.lastDate.toLocalJSDate(), true)}`;\n\t\t\t}\n\n\t\t\tconst year = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\t_tabIndex: isFocused ? \"0\" : \"-1\",\n\t\t\t\tfocusRef: isFocused,\n\t\t\t\tselected: isSelected,\n\t\t\t\tariaSelected: isSelected ? \"true\" : \"false\",\n\t\t\t\tyear: oYearFormat.format(tempDate.toLocalJSDate()),\n\t\t\t\tyearInSecType: this.secondaryCalendarType && textInSecType,\n\t\t\t\tdisabled: isDisabled,\n\t\t\t\tclasses: \"ui5-yp-item\",\n\t\t\t};\n\n\t\t\tif (isSelected) {\n\t\t\t\tyear.classes += \" ui5-yp-item--selected\";\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tyear.classes += \" ui5-yp-item--disabled\";\n\t\t\t}\n\n\t\t\tif (this.secondaryCalendarType) {\n\t\t\t\tyear.classes += \" ui5-yp-item-secondary-type\";\n\t\t\t}\n\t\t\tconst intervalIndex = parseInt(i / this._getRowSize());\n\n\t\t\tif (intervals[intervalIndex]) {\n\t\t\t\tintervals[intervalIndex].push(year);\n\t\t\t} else {\n\t\t\t\tintervals[intervalIndex] = [year];\n\t\t\t}\n\n\t\t\ttempDate.setYear(tempDate.getYear() + 1);\n\t\t}\n\n\t\tthis._years = intervals;\n\t}\n\n\t_calculateFirstYear() {\n\t\tconst pageSize = this._getPageSize();\n\t\tconst absoluteMaxYear = getMaxCalendarDate(this._primaryCalendarType).getYear(); // 9999\n\t\tconst currentYear = this._calendarDate.getYear();\n\n\t\t// 1. If first load - center the current year (set first year to be current year minus half page size)\n\t\tif (!this._firstYear) {\n\t\t\tthis._firstYear = currentYear - pageSize / 2;\n\t\t}\n\n\t\t// 2. If out of range - change by a page (20) - do not center in order to keep the same position as the last page\n\t\tif (currentYear < this._firstYear) {\n\t\t\tthis._firstYear -= pageSize;\n\t\t} else if (currentYear >= this._firstYear + pageSize) {\n\t\t\tthis._firstYear += pageSize;\n\t\t}\n\n\t\t// 3. If the date was changed by more than 20 years - reset _firstYear completely\n\t\tif (Math.abs(this._firstYear - currentYear) >= pageSize) {\n\t\t\tthis._firstYear = currentYear - pageSize / 2;\n\t\t}\n\n\t\t// Keep it in the range between the min and max year\n\t\tthis._firstYear = Math.max(this._firstYear, this._minDate.getYear());\n\t\tthis._firstYear = Math.min(this._firstYear, this._maxDate.getYear());\n\n\t\t// If first year is > 9980, make it 9980 to not show any years beyond 9999\n\t\tif (this._firstYear > absoluteMaxYear - pageSize + 1) {\n\t\t\tthis._firstYear = absoluteMaxYear - pageSize + 1;\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tif (!this._hidden) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t_onkeydown(event) {\n\t\tlet preventDefault = true;\n\t\tconst pageSize = this._getPageSize();\n\t\tconst rowSize = this._getRowSize();\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._selectYear(event);\n\t\t} else if (isSpace(event)) {\n\t\t\tevent.preventDefault();\n\t\t} else if (isLeft(event)) {\n\t\t\tthis._modifyTimestampBy(-1);\n\t\t} else if (isRight(event)) {\n\t\t\tthis._modifyTimestampBy(1);\n\t\t} else if (isUp(event)) {\n\t\t\tthis._modifyTimestampBy(-rowSize);\n\t\t} else if (isDown(event)) {\n\t\t\tthis._modifyTimestampBy(rowSize);\n\t\t} else if (isPageUp(event)) {\n\t\t\tthis._modifyTimestampBy(-pageSize);\n\t\t} else if (isPageDown(event)) {\n\t\t\tthis._modifyTimestampBy(pageSize);\n\t\t} else if (isHome(event) || isEnd(event)) {\n\t\t\tthis._onHomeOrEnd(isHome(event));\n\t\t} else if (isHomeCtrl(event)) {\n\t\t\tthis._setTimestamp(parseInt(this._years[0][0].timestamp)); // first year of first row\n\t\t} else if (isEndCtrl(event)) {\n\t\t\tthis._setTimestamp(parseInt(this._years[pageSize / rowSize - 1][rowSize - 1].timestamp)); // last year of last row\n\t\t} else {\n\t\t\tpreventDefault = false;\n\t\t}\n\n\t\tif (preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onHomeOrEnd(homePressed) {\n\t\tthis._years.forEach(row => {\n\t\t\tconst indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getYear() === this._calendarDate.getYear());\n\t\t\tif (indexInRow !== -1) { // The current year is on this row\n\t\t\t\tconst index = homePressed ? 0 : this._getRowSize() - 1; // select the first (if Home) or last (if End) year on the row\n\t\t\t\tthis._setTimestamp(parseInt(row[index].timestamp));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Sets the timestamp to an absolute value\n\t * @param value\n\t * @private\n\t */\n\t_setTimestamp(value) {\n\t\tthis._safelySetTimestamp(value);\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t/**\n\t * Modifies timestamp by a given amount of years and, if necessary, loads the prev/next page\n\t * @param amount\n\t * @private\n\t */\n\t_modifyTimestampBy(amount) {\n\t\t// Modify the current timestamp\n\t\tthis._safelyModifyTimestampBy(amount, \"year\");\n\n\t\t// Notify the calendar to update its timestamp\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t_onkeyup(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis._selectYear(event);\n\t\t}\n\t}\n\n\t/**\n\t * User clicked with the mouser or pressed Enter/Space\n\t * @param event\n\t * @private\n\t */\n\t_selectYear(event) {\n\t\tevent.preventDefault();\n\t\tif (event.target.className.indexOf(\"ui5-yp-item\") > -1) {\n\t\t\tconst timestamp = this._getTimestampFromDom(event.target);\n\t\t\tthis._safelySetTimestamp(timestamp);\n\t\t\tthis.fireEvent(\"change\", { timestamp: this.timestamp });\n\t\t}\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasPreviousPage() {\n\t\treturn this._firstYear > this._minDate.getYear();\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasNextPage() {\n\t\treturn this._firstYear + this._getPageSize() - 1 < this._maxDate.getYear();\n\t}\n\n\t/**\n\t * Called by Calendar.js\n\t * User pressed the \"<\" button in the calendar header (same as PageUp)\n\t * @protected\n\t */\n\t_showPreviousPage() {\n\t\tconst pageSize = this._getPageSize();\n\t\tthis._modifyTimestampBy(-pageSize);\n\t}\n\n\t/**\n\t * Called by Calendar.js\n\t * User pressed the \">\" button in the calendar header (same as PageDown)\n\t * @protected\n\t */\n\t_showNextPage() {\n\t\tthis._modifyTimestampBy(this._getPageSize());\n\t}\n}\n\nYearPicker.define();\n\nexport default YearPicker;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}