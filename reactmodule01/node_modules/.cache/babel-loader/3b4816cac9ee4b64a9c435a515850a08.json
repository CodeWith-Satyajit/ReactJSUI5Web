{"ast":null,"code":"import AnimationQueue from \"./AnimationQueue.js\";\nimport animationConfig from \"./config.js\";\nexport default (_ref => {\n  let {\n    beforeStart = animationConfig.identity,\n    duration = animationConfig.defaultDuration,\n    element = animationConfig.element,\n    progress: progressCallback = animationConfig.identity\n  } = _ref;\n  let start = null;\n  let stopped = false;\n  let animationFrame;\n  let stop;\n  let animate;\n  const promise = new Promise((resolve, reject) => {\n    animate = timestamp => {\n      start = start || timestamp;\n      const timeElapsed = timestamp - start;\n      const remaining = duration - timeElapsed;\n      if (timeElapsed <= duration) {\n        const progress = 1 - remaining / duration; // easing formula (currently linear)\n        progressCallback(progress);\n        animationFrame = !stopped && requestAnimationFrame(animate);\n      } else {\n        progressCallback(1);\n        resolve();\n      }\n    };\n    stop = () => {\n      stopped = true;\n      cancelAnimationFrame(animationFrame);\n      reject(new Error(\"animation stopped\"));\n    };\n  }).catch(oReason => oReason);\n  AnimationQueue.push(element, () => {\n    beforeStart();\n    requestAnimationFrame(animate);\n    return new Promise(resolve => {\n      promise.then(() => resolve());\n    });\n  });\n  return {\n    promise: () => promise,\n    stop: () => stop\n  };\n});","map":{"version":3,"names":["AnimationQueue","animationConfig","beforeStart","identity","duration","defaultDuration","element","progress","progressCallback","start","stopped","animationFrame","stop","animate","promise","Promise","resolve","reject","timestamp","timeElapsed","remaining","requestAnimationFrame","cancelAnimationFrame","Error","catch","oReason","push","then"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-base/dist/animations/animate.js"],"sourcesContent":["import AnimationQueue from \"./AnimationQueue.js\";\nimport animationConfig from \"./config.js\";\n\nexport default ({\n\tbeforeStart = animationConfig.identity,\n\tduration = animationConfig.defaultDuration,\n\telement = animationConfig.element,\n\tprogress: progressCallback = animationConfig.identity,\n}) => {\n\tlet start = null;\n\tlet stopped = false;\n\tlet animationFrame;\n\tlet stop;\n\tlet animate;\n\n\tconst promise = new Promise((resolve, reject) => {\n\t\tanimate = timestamp => {\n\t\t\tstart = start || timestamp;\n\n\t\t\tconst timeElapsed = timestamp - start;\n\t\t\tconst remaining = duration - timeElapsed;\n\n\t\t\tif (timeElapsed <= duration) {\n\t\t\t\tconst progress = 1 - remaining / duration; // easing formula (currently linear)\n\t\t\t\tprogressCallback(progress);\n\t\t\t\tanimationFrame = !stopped && requestAnimationFrame(animate);\n\t\t\t} else {\n\t\t\t\tprogressCallback(1);\n\t\t\t\tresolve();\n\t\t\t}\n\t\t};\n\n\t\tstop = () => {\n\t\t\tstopped = true;\n\t\t\tcancelAnimationFrame(animationFrame);\n\t\t\treject(new Error(\"animation stopped\"));\n\t\t};\n\t}).catch(oReason => oReason);\n\n\tAnimationQueue.push(element, () => {\n\t\tbeforeStart();\n\t\trequestAnimationFrame(animate);\n\n\t\treturn new Promise(resolve => {\n\t\t\tpromise.then(() => resolve());\n\t\t});\n\t});\n\n\treturn {\n\t\tpromise: () => promise,\n\t\tstop: () => stop,\n\t};\n};\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,qBAAqB;AAChD,OAAOC,eAAe,MAAM,aAAa;AAEzC,gBAAe,QAKT;EAAA,IALU;IACfC,WAAW,GAAGD,eAAe,CAACE,QAAQ;IACtCC,QAAQ,GAAGH,eAAe,CAACI,eAAe;IAC1CC,OAAO,GAAGL,eAAe,CAACK,OAAO;IACjCC,QAAQ,EAAEC,gBAAgB,GAAGP,eAAe,CAACE;EAC9C,CAAC;EACA,IAAIM,KAAK,GAAG,IAAI;EAChB,IAAIC,OAAO,GAAG,KAAK;EACnB,IAAIC,cAAc;EAClB,IAAIC,IAAI;EACR,IAAIC,OAAO;EAEX,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAChDJ,OAAO,GAAGK,SAAS,IAAI;MACtBT,KAAK,GAAGA,KAAK,IAAIS,SAAS;MAE1B,MAAMC,WAAW,GAAGD,SAAS,GAAGT,KAAK;MACrC,MAAMW,SAAS,GAAGhB,QAAQ,GAAGe,WAAW;MAExC,IAAIA,WAAW,IAAIf,QAAQ,EAAE;QAC5B,MAAMG,QAAQ,GAAG,CAAC,GAAGa,SAAS,GAAGhB,QAAQ,CAAC,CAAC;QAC3CI,gBAAgB,CAACD,QAAQ,CAAC;QAC1BI,cAAc,GAAG,CAACD,OAAO,IAAIW,qBAAqB,CAACR,OAAO,CAAC;MAC5D,CAAC,MAAM;QACNL,gBAAgB,CAAC,CAAC,CAAC;QACnBQ,OAAO,EAAE;MACV;IACD,CAAC;IAEDJ,IAAI,GAAG,MAAM;MACZF,OAAO,GAAG,IAAI;MACdY,oBAAoB,CAACX,cAAc,CAAC;MACpCM,MAAM,CAAC,IAAIM,KAAK,CAAC,mBAAmB,CAAC,CAAC;IACvC,CAAC;EACF,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO,IAAIA,OAAO,CAAC;EAE5BzB,cAAc,CAAC0B,IAAI,CAACpB,OAAO,EAAE,MAAM;IAClCJ,WAAW,EAAE;IACbmB,qBAAqB,CAACR,OAAO,CAAC;IAE9B,OAAO,IAAIE,OAAO,CAACC,OAAO,IAAI;MAC7BF,OAAO,CAACa,IAAI,CAAC,MAAMX,OAAO,EAAE,CAAC;IAC9B,CAAC,CAAC;EACH,CAAC,CAAC;EAEF,OAAO;IACNF,OAAO,EAAE,MAAMA,OAAO;IACtBF,IAAI,EAAE,MAAMA;EACb,CAAC;AACF,CAAC"},"metadata":{},"sourceType":"module"}