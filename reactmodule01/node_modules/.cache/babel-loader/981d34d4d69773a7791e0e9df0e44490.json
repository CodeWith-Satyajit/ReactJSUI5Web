{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport '@ui5/webcomponents-fiori/dist/illustrations/UnableToLoad.js';\nimport navDownIcon from '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, ThemingParameters, useI18nBundle } from '@ui5/webcomponents-react-base';\nimport clsx from 'clsx';\nimport React, { Children, cloneElement, forwardRef, isValidElement, useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { BarDesign, ButtonDesign, IllustrationMessageType, ListMode, PopoverPlacementType, TitleLevel } from '../../enums';\nimport { MANAGE, MY_VIEWS, SAVE, SAVE_AS, SEARCH, SEARCH_VARIANT, SELECT_VIEW } from '../../i18n/i18n-defaults';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { VariantManagementContext } from '../../internal/VariantManagementContext';\nimport { Bar, Button, Icon, IllustratedMessage, Input, List, ResponsivePopover, Title } from '../../webComponents';\nimport { FlexBox } from '../FlexBox';\nimport { ManageViewsDialog } from './ManageViewsDialog';\nimport { SaveViewDialog } from './SaveViewDialog';\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  title: {\n    cursor: 'pointer',\n    color: ThemingParameters.sapLinkColor,\n    textShadow: 'none',\n    '&:hover': {\n      color: ThemingParameters.sapLink_Hover_Color\n    },\n    '&:active': {\n      color: ThemingParameters.sapLink_Active_Color\n    }\n  },\n  disabled: {\n    '& $title': {\n      color: ThemingParameters.sapGroup_TitleTextColor,\n      cursor: 'default',\n      '&:hover': {\n        color: 'ThemingParameters.sapGroup_TitleTextColor'\n      }\n    }\n  },\n  dirtyState: {\n    color: ThemingParameters.sapGroup_TitleTextColor,\n    paddingInline: '0.125rem',\n    fontWeight: 'bold',\n    font: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    flexGrow: 1\n  },\n  dirtyStateText: {\n    fontSize: ThemingParameters.sapFontSmallSize,\n    fontWeight: 'normal'\n  },\n  navDownBtn: {\n    marginInlineStart: '0.125rem'\n  },\n  footer: {\n    '& > :last-child': {\n      marginInlineEnd: 0\n    }\n  },\n  inputIcon: {\n    cursor: 'pointer',\n    color: ThemingParameters.sapContent_IconColor\n  },\n  searchInput: {\n    padding: '0.25rem 1rem'\n  },\n  popover: {\n    minWidth: '25rem',\n    '&::part(content), &::part(footer)': {\n      padding: 0\n    },\n    '&::part(footer)': {\n      borderBlockStart: 'none'\n    }\n  }\n};\nconst useStyles = createUseStyles(styles, {\n  name: 'VariantManagement'\n});\n/**\n * The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.\n */\nconst VariantManagement = forwardRef((props, ref) => {\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const {\n      titleText = i18nBundle.getText(MY_VIEWS),\n      className,\n      style,\n      placement,\n      level,\n      onSelect,\n      closeOnItemSelect,\n      disabled,\n      onSaveAs,\n      onSaveManageViews,\n      showOnlyFavorites,\n      inErrorState,\n      hideShare,\n      children,\n      hideManageVariants,\n      hideApplyAutomatically,\n      hideSetAsDefault,\n      hideCreatedBy,\n      hideSaveAs,\n      dirtyStateText,\n      dirtyState,\n      onSave,\n      portalContainer\n    } = props,\n    rest = __rest(props, [\"titleText\", \"className\", \"style\", \"placement\", \"level\", \"onSelect\", \"closeOnItemSelect\", \"disabled\", \"onSaveAs\", \"onSaveManageViews\", \"showOnlyFavorites\", \"inErrorState\", \"hideShare\", \"children\", \"hideManageVariants\", \"hideApplyAutomatically\", \"hideSetAsDefault\", \"hideCreatedBy\", \"hideSaveAs\", \"dirtyStateText\", \"dirtyState\", \"onSave\", \"portalContainer\"]);\n  const classes = useStyles();\n  const popoverRef = useRef(null);\n  const [safeChildren, setSafeChildren] = useState(Children.toArray(children));\n  const [showInput, setShowInput] = useState(safeChildren.length > 9);\n  useEffect(() => {\n    setSafeChildren(Children.toArray(children));\n  }, [children]);\n  useEffect(() => {\n    if (safeChildren.length > 9) {\n      setShowInput(true);\n    } else {\n      setShowInput(false);\n    }\n  }, [safeChildren.length]);\n  const [manageViewsDialogOpen, setManageViewsDialogOpen] = useState(false);\n  const [saveAsDialogOpen, setSaveAsDialogOpen] = useState(false);\n  const [selectedVariant, setSelectedVariant] = useState(() => {\n    const currentSelectedVariant = safeChildren.find(item => isValidElement(item) && item.props.selected);\n    if (currentSelectedVariant) {\n      return Object.assign(Object.assign({}, currentSelectedVariant.props), {\n        variantItem: currentSelectedVariant.ref\n      });\n    }\n  });\n  const handleClose = () => {\n    popoverRef.current.close();\n  };\n  const handleManageClick = () => {\n    setManageViewsDialogOpen(true);\n  };\n  const handleManageClose = () => {\n    setManageViewsDialogOpen(false);\n  };\n  const handleOpenSaveAsDialog = () => {\n    setSaveAsDialogOpen(true);\n  };\n  const handleSaveAsClose = () => {\n    setSaveAsDialogOpen(false);\n  };\n  const handleSave = e => {\n    if (typeof onSave === 'function') {\n      onSave(enrichEventWithDetails(e, selectedVariant));\n    }\n  };\n  const handleSaveView = (e, selectedVariant) => {\n    if (typeof onSaveAs === 'function') {\n      onSaveAs(enrichEventWithDetails(e, selectedVariant));\n    }\n    handleSaveAsClose();\n  };\n  const handleSaveManageViews = (e, payload) => {\n    const {\n      defaultView,\n      updatedRows,\n      deletedRows\n    } = payload;\n    const callbackProperties = {\n      deletedVariants: [],\n      prevVariants: [],\n      updatedVariants: [],\n      variants: []\n    };\n    setSafeChildren(prev => Children.toArray(prev.map(child => {\n      let updatedProps = {};\n      const currentVariant = popoverRef.current.querySelector(`ui5-li[data-text=\"${child.props.children}\"]`);\n      callbackProperties.prevVariants.push(child.props);\n      if (defaultView) {\n        if (defaultView === child.props.children) {\n          updatedProps.isDefault = true;\n        } else if (child.props.isDefault) {\n          updatedProps.isDefault = false;\n        }\n      }\n      if (Object.keys(updatedRows).includes(child.props.children)) {\n        const _a = updatedRows[child.props.children],\n          {\n            currentVariant: _0\n          } = _a,\n          rest = __rest(_a, [\"currentVariant\"]);\n        updatedProps = Object.assign(Object.assign({}, updatedProps), rest);\n      }\n      if (deletedRows.has(child.props.children)) {\n        callbackProperties.deletedVariants.push(child.props);\n        return false;\n      }\n      if (Object.keys(updatedProps).length > 0) {\n        callbackProperties.updatedVariants.push(Object.assign(Object.assign(Object.assign({}, child.props), updatedProps), {\n          variantItem: currentVariant,\n          prevVariant: Object.assign({}, child.props)\n        }));\n      }\n      callbackProperties.variants.push(Object.assign(Object.assign(Object.assign({}, child.props), updatedProps), {\n        variantItem: currentVariant\n      }));\n      return cloneElement(child, updatedProps);\n    })));\n    if (typeof onSaveManageViews === 'function') {\n      onSaveManageViews(enrichEventWithDetails(e, callbackProperties));\n    }\n    handleManageClose();\n  };\n  const handleOpenVariantManagement = useCallback(e => {\n    popoverRef.current.showAt(e.target);\n  }, [popoverRef]);\n  const searchText = i18nBundle.getText(SEARCH);\n  const saveAsText = i18nBundle.getText(SAVE_AS);\n  const manageText = i18nBundle.getText(MANAGE);\n  const saveText = i18nBundle.getText(SAVE);\n  const a11ySearchText = i18nBundle.getText(SEARCH_VARIANT);\n  const selectViewText = i18nBundle.getText(SELECT_VIEW);\n  const variantManagementClasses = clsx(classes.container, disabled && classes.disabled, className);\n  const dirtyStateClasses = clsx(classes.dirtyState, dirtyStateText !== '*' && classes.dirtyStateText);\n  const selectVariantEventRef = useRef();\n  useEffect(() => {\n    if (selectVariantEventRef.current) {\n      if (typeof onSelect === 'function') {\n        onSelect(enrichEventWithDetails(selectVariantEventRef.current, {\n          selectedVariant\n        }));\n        selectVariantEventRef.current = undefined;\n      }\n    }\n  }, [selectedVariant, onSelect]);\n  const handleVariantItemSelect = e => {\n    setSelectedVariant(Object.assign(Object.assign({}, e.detail.selectedItems[0].dataset), {\n      variantItem: e.detail.selectedItems[0]\n    }));\n    selectVariantEventRef.current = e;\n    if (closeOnItemSelect) {\n      handleClose();\n    }\n  };\n  const variantNames = safeChildren.map(item => {\n    var _a;\n    return typeof ((_a = item.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' ? item.props.children : '';\n  });\n  const [favoriteChildren, setFavoriteChildren] = useState(undefined);\n  useEffect(() => {\n    if (showOnlyFavorites) {\n      setFavoriteChildren(safeChildren.filter(child => child.props.favorite || child.props.isDefault));\n    }\n    if (!showOnlyFavorites && (favoriteChildren === null || favoriteChildren === void 0 ? void 0 : favoriteChildren.length) > 0) {\n      setFavoriteChildren(undefined);\n    }\n  }, [showOnlyFavorites, safeChildren]);\n  const safeChildrenWithFavorites = favoriteChildren !== null && favoriteChildren !== void 0 ? favoriteChildren : safeChildren;\n  const [filteredChildren, setFilteredChildren] = useState(undefined);\n  const [searchValue, setSearchValue] = useState('');\n  const handleSearchInput = e => {\n    setSearchValue(e.target.value);\n    setFilteredChildren(safeChildrenWithFavorites.filter(child => {\n      var _a;\n      return typeof ((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' && child.props.children.toLowerCase().includes(e.target.value.toLowerCase());\n    }));\n  };\n  useEffect(() => {\n    if (filteredChildren) {\n      setFilteredChildren(safeChildrenWithFavorites.filter(child => {\n        var _a;\n        return typeof ((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' && child.props.children.toLowerCase().includes(searchValue);\n      }));\n    }\n  }, [safeChildrenWithFavorites]);\n  const showSaveBtn = dirtyState && !(selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.readOnly);\n  return React.createElement(\"div\", Object.assign({\n    className: variantManagementClasses,\n    style: style\n  }, rest, {\n    ref: ref\n  }), React.createElement(VariantManagementContext.Provider, {\n    value: {\n      selectVariantItem: setSelectedVariant\n    }\n  }, React.createElement(FlexBox, {\n    onClick: disabled ? undefined : handleOpenVariantManagement\n  }, React.createElement(Title, {\n    level: level,\n    className: classes.title\n  }, selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.children), dirtyState && React.createElement(\"div\", {\n    className: dirtyStateClasses\n  }, dirtyStateText)), React.createElement(Button, {\n    className: clsx(classes.navDownBtn, 'ui5-content-density-compact'),\n    tooltip: selectViewText,\n    accessibleName: selectViewText,\n    onClick: handleOpenVariantManagement,\n    design: ButtonDesign.Transparent,\n    icon: navDownIcon,\n    disabled: disabled\n  }), createPortal(React.createElement(ResponsivePopover, {\n    className: classes.popover,\n    ref: popoverRef,\n    headerText: titleText,\n    placementType: placement,\n    footer: (showSaveBtn || !hideSaveAs || !hideManageVariants) && React.createElement(Bar, {\n      design: BarDesign.Footer,\n      className: classes.footer,\n      endContent: React.createElement(React.Fragment, null, !inErrorState && showSaveBtn && React.createElement(Button, {\n        onClick: handleSave,\n        design: ButtonDesign.Emphasized\n      }, saveText), !inErrorState && !hideSaveAs && React.createElement(Button, {\n        onClick: handleOpenSaveAsDialog,\n        design: showSaveBtn ? ButtonDesign.Transparent : ButtonDesign.Emphasized,\n        disabled: !selectedVariant || Object.keys(selectedVariant).length === 0\n      }, saveAsText), !inErrorState && !hideManageVariants && React.createElement(Button, {\n        onClick: handleManageClick,\n        design: showSaveBtn || !hideSaveAs ? ButtonDesign.Transparent : ButtonDesign.Emphasized\n      }, manageText))\n    }),\n    onAfterClose: stopPropagation\n  }, inErrorState ? React.createElement(IllustratedMessage, {\n    name: IllustrationMessageType.UnableToLoad\n  }) : React.createElement(List, {\n    onSelectionChange: handleVariantItemSelect,\n    mode: ListMode.SingleSelect,\n    header: showInput ? React.createElement(\"div\", {\n      className: classes.searchInput,\n      tabIndex: -1\n    }, React.createElement(Input, {\n      accessibleName: a11ySearchText,\n      value: searchValue,\n      placeholder: searchText,\n      onInput: handleSearchInput,\n      showClearIcon: true,\n      icon: React.createElement(Icon, {\n        name: searchIcon,\n        className: classes.inputIcon\n      })\n    })) : undefined\n  }, filteredChildren !== null && filteredChildren !== void 0 ? filteredChildren : safeChildrenWithFavorites)), portalContainer), manageViewsDialogOpen && React.createElement(ManageViewsDialog, {\n    onAfterClose: handleManageClose,\n    handleSaveManageViews: handleSaveManageViews,\n    showShare: !hideShare,\n    showApplyAutomatically: !hideApplyAutomatically,\n    showCreatedBy: !hideCreatedBy,\n    showSetAsDefault: !hideSetAsDefault,\n    variantNames: variantNames,\n    portalContainer: portalContainer,\n    showOnlyFavorites: showOnlyFavorites\n  }, safeChildren), saveAsDialogOpen && React.createElement(SaveViewDialog, {\n    portalContainer: portalContainer,\n    showShare: !hideShare,\n    showApplyAutomatically: !hideApplyAutomatically,\n    showSetAsDefault: !hideSetAsDefault,\n    onAfterClose: handleSaveAsClose,\n    handleSave: handleSaveView,\n    selectedVariant: selectedVariant,\n    variantNames: variantNames\n  })));\n});\nVariantManagement.defaultProps = {\n  placement: PopoverPlacementType.Bottom,\n  level: TitleLevel.H4,\n  dirtyStateText: '*',\n  portalContainer: document.body\n};\nVariantManagement.displayName = 'VariantManagement';\nexport { VariantManagement };","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","navDownIcon","searchIcon","enrichEventWithDetails","ThemingParameters","useI18nBundle","clsx","React","Children","cloneElement","forwardRef","isValidElement","useCallback","useEffect","useRef","useState","createPortal","createUseStyles","BarDesign","ButtonDesign","IllustrationMessageType","ListMode","PopoverPlacementType","TitleLevel","MANAGE","MY_VIEWS","SAVE","SAVE_AS","SEARCH","SEARCH_VARIANT","SELECT_VIEW","stopPropagation","VariantManagementContext","Bar","Button","Icon","IllustratedMessage","Input","List","ResponsivePopover","Title","FlexBox","ManageViewsDialog","SaveViewDialog","styles","container","display","alignItems","textAlign","title","cursor","color","sapLinkColor","textShadow","sapLink_Hover_Color","sapLink_Active_Color","disabled","sapGroup_TitleTextColor","dirtyState","paddingInline","fontWeight","font","sapFontFamily","fontSize","sapFontSize","flexGrow","dirtyStateText","sapFontSmallSize","navDownBtn","marginInlineStart","footer","marginInlineEnd","inputIcon","sapContent_IconColor","searchInput","padding","popover","minWidth","borderBlockStart","useStyles","name","VariantManagement","props","ref","i18nBundle","titleText","getText","className","style","placement","level","onSelect","closeOnItemSelect","onSaveAs","onSaveManageViews","showOnlyFavorites","inErrorState","hideShare","children","hideManageVariants","hideApplyAutomatically","hideSetAsDefault","hideCreatedBy","hideSaveAs","onSave","portalContainer","rest","classes","popoverRef","safeChildren","setSafeChildren","toArray","showInput","setShowInput","manageViewsDialogOpen","setManageViewsDialogOpen","saveAsDialogOpen","setSaveAsDialogOpen","selectedVariant","setSelectedVariant","currentSelectedVariant","find","item","selected","assign","variantItem","handleClose","current","close","handleManageClick","handleManageClose","handleOpenSaveAsDialog","handleSaveAsClose","handleSave","handleSaveView","handleSaveManageViews","payload","defaultView","updatedRows","deletedRows","callbackProperties","deletedVariants","prevVariants","updatedVariants","variants","prev","map","child","updatedProps","currentVariant","querySelector","push","isDefault","keys","includes","_a","_0","has","prevVariant","handleOpenVariantManagement","showAt","target","searchText","saveAsText","manageText","saveText","a11ySearchText","selectViewText","variantManagementClasses","dirtyStateClasses","selectVariantEventRef","undefined","handleVariantItemSelect","detail","selectedItems","dataset","variantNames","favoriteChildren","setFavoriteChildren","filter","favorite","safeChildrenWithFavorites","filteredChildren","setFilteredChildren","searchValue","setSearchValue","handleSearchInput","value","toLowerCase","showSaveBtn","readOnly","createElement","Provider","selectVariantItem","onClick","tooltip","accessibleName","design","Transparent","icon","headerText","placementType","Footer","endContent","Fragment","Emphasized","onAfterClose","UnableToLoad","onSelectionChange","mode","SingleSelect","header","tabIndex","placeholder","onInput","showClearIcon","showShare","showApplyAutomatically","showCreatedBy","showSetAsDefault","defaultProps","Bottom","H4","document","body","displayName"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/components/VariantManagement/index.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport '@ui5/webcomponents-fiori/dist/illustrations/UnableToLoad.js';\nimport navDownIcon from '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, ThemingParameters, useI18nBundle } from '@ui5/webcomponents-react-base';\nimport clsx from 'clsx';\nimport React, { Children, cloneElement, forwardRef, isValidElement, useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { BarDesign, ButtonDesign, IllustrationMessageType, ListMode, PopoverPlacementType, TitleLevel } from '../../enums';\nimport { MANAGE, MY_VIEWS, SAVE, SAVE_AS, SEARCH, SEARCH_VARIANT, SELECT_VIEW } from '../../i18n/i18n-defaults';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { VariantManagementContext } from '../../internal/VariantManagementContext';\nimport { Bar, Button, Icon, IllustratedMessage, Input, List, ResponsivePopover, Title } from '../../webComponents';\nimport { FlexBox } from '../FlexBox';\nimport { ManageViewsDialog } from './ManageViewsDialog';\nimport { SaveViewDialog } from './SaveViewDialog';\nconst styles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n        textAlign: 'center'\n    },\n    title: {\n        cursor: 'pointer',\n        color: ThemingParameters.sapLinkColor,\n        textShadow: 'none',\n        '&:hover': {\n            color: ThemingParameters.sapLink_Hover_Color\n        },\n        '&:active': {\n            color: ThemingParameters.sapLink_Active_Color\n        }\n    },\n    disabled: {\n        '& $title': {\n            color: ThemingParameters.sapGroup_TitleTextColor,\n            cursor: 'default',\n            '&:hover': {\n                color: 'ThemingParameters.sapGroup_TitleTextColor'\n            }\n        }\n    },\n    dirtyState: {\n        color: ThemingParameters.sapGroup_TitleTextColor,\n        paddingInline: '0.125rem',\n        fontWeight: 'bold',\n        font: ThemingParameters.sapFontFamily,\n        fontSize: ThemingParameters.sapFontSize,\n        flexGrow: 1\n    },\n    dirtyStateText: {\n        fontSize: ThemingParameters.sapFontSmallSize,\n        fontWeight: 'normal'\n    },\n    navDownBtn: {\n        marginInlineStart: '0.125rem'\n    },\n    footer: {\n        '& > :last-child': {\n            marginInlineEnd: 0\n        }\n    },\n    inputIcon: { cursor: 'pointer', color: ThemingParameters.sapContent_IconColor },\n    searchInput: { padding: '0.25rem 1rem' },\n    popover: {\n        minWidth: '25rem',\n        '&::part(content), &::part(footer)': {\n            padding: 0\n        },\n        '&::part(footer)': {\n            borderBlockStart: 'none'\n        }\n    }\n};\nconst useStyles = createUseStyles(styles, { name: 'VariantManagement' });\n/**\n * The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.\n */\nconst VariantManagement = forwardRef((props, ref) => {\n    const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n    const { titleText = i18nBundle.getText(MY_VIEWS), className, style, placement, level, onSelect, closeOnItemSelect, disabled, onSaveAs, onSaveManageViews, showOnlyFavorites, inErrorState, hideShare, children, hideManageVariants, hideApplyAutomatically, hideSetAsDefault, hideCreatedBy, hideSaveAs, dirtyStateText, dirtyState, onSave, portalContainer } = props, rest = __rest(props, [\"titleText\", \"className\", \"style\", \"placement\", \"level\", \"onSelect\", \"closeOnItemSelect\", \"disabled\", \"onSaveAs\", \"onSaveManageViews\", \"showOnlyFavorites\", \"inErrorState\", \"hideShare\", \"children\", \"hideManageVariants\", \"hideApplyAutomatically\", \"hideSetAsDefault\", \"hideCreatedBy\", \"hideSaveAs\", \"dirtyStateText\", \"dirtyState\", \"onSave\", \"portalContainer\"]);\n    const classes = useStyles();\n    const popoverRef = useRef(null);\n    const [safeChildren, setSafeChildren] = useState(Children.toArray(children));\n    const [showInput, setShowInput] = useState(safeChildren.length > 9);\n    useEffect(() => {\n        setSafeChildren(Children.toArray(children));\n    }, [children]);\n    useEffect(() => {\n        if (safeChildren.length > 9) {\n            setShowInput(true);\n        }\n        else {\n            setShowInput(false);\n        }\n    }, [safeChildren.length]);\n    const [manageViewsDialogOpen, setManageViewsDialogOpen] = useState(false);\n    const [saveAsDialogOpen, setSaveAsDialogOpen] = useState(false);\n    const [selectedVariant, setSelectedVariant] = useState(() => {\n        const currentSelectedVariant = safeChildren.find((item) => isValidElement(item) && item.props.selected);\n        if (currentSelectedVariant) {\n            return Object.assign(Object.assign({}, currentSelectedVariant.props), { variantItem: currentSelectedVariant.ref });\n        }\n    });\n    const handleClose = () => {\n        popoverRef.current.close();\n    };\n    const handleManageClick = () => {\n        setManageViewsDialogOpen(true);\n    };\n    const handleManageClose = () => {\n        setManageViewsDialogOpen(false);\n    };\n    const handleOpenSaveAsDialog = () => {\n        setSaveAsDialogOpen(true);\n    };\n    const handleSaveAsClose = () => {\n        setSaveAsDialogOpen(false);\n    };\n    const handleSave = (e) => {\n        if (typeof onSave === 'function') {\n            onSave(enrichEventWithDetails(e, selectedVariant));\n        }\n    };\n    const handleSaveView = (e, selectedVariant) => {\n        if (typeof onSaveAs === 'function') {\n            onSaveAs(enrichEventWithDetails(e, selectedVariant));\n        }\n        handleSaveAsClose();\n    };\n    const handleSaveManageViews = (e, payload) => {\n        const { defaultView, updatedRows, deletedRows } = payload;\n        const callbackProperties = { deletedVariants: [], prevVariants: [], updatedVariants: [], variants: [] };\n        setSafeChildren((prev) => Children.toArray(prev.map((child) => {\n            let updatedProps = {};\n            const currentVariant = popoverRef.current.querySelector(`ui5-li[data-text=\"${child.props.children}\"]`);\n            callbackProperties.prevVariants.push(child.props);\n            if (defaultView) {\n                if (defaultView === child.props.children) {\n                    updatedProps.isDefault = true;\n                }\n                else if (child.props.isDefault) {\n                    updatedProps.isDefault = false;\n                }\n            }\n            if (Object.keys(updatedRows).includes(child.props.children)) {\n                const _a = updatedRows[child.props.children], { currentVariant: _0 } = _a, rest = __rest(_a, [\"currentVariant\"]);\n                updatedProps = Object.assign(Object.assign({}, updatedProps), rest);\n            }\n            if (deletedRows.has(child.props.children)) {\n                callbackProperties.deletedVariants.push(child.props);\n                return false;\n            }\n            if (Object.keys(updatedProps).length > 0) {\n                callbackProperties.updatedVariants.push(Object.assign(Object.assign(Object.assign({}, child.props), updatedProps), { variantItem: currentVariant, prevVariant: Object.assign({}, child.props) }));\n            }\n            callbackProperties.variants.push(Object.assign(Object.assign(Object.assign({}, child.props), updatedProps), { variantItem: currentVariant }));\n            return cloneElement(child, updatedProps);\n        })));\n        if (typeof onSaveManageViews === 'function') {\n            onSaveManageViews(enrichEventWithDetails(e, callbackProperties));\n        }\n        handleManageClose();\n    };\n    const handleOpenVariantManagement = useCallback((e) => {\n        popoverRef.current.showAt(e.target);\n    }, [popoverRef]);\n    const searchText = i18nBundle.getText(SEARCH);\n    const saveAsText = i18nBundle.getText(SAVE_AS);\n    const manageText = i18nBundle.getText(MANAGE);\n    const saveText = i18nBundle.getText(SAVE);\n    const a11ySearchText = i18nBundle.getText(SEARCH_VARIANT);\n    const selectViewText = i18nBundle.getText(SELECT_VIEW);\n    const variantManagementClasses = clsx(classes.container, disabled && classes.disabled, className);\n    const dirtyStateClasses = clsx(classes.dirtyState, dirtyStateText !== '*' && classes.dirtyStateText);\n    const selectVariantEventRef = useRef();\n    useEffect(() => {\n        if (selectVariantEventRef.current) {\n            if (typeof onSelect === 'function') {\n                onSelect(enrichEventWithDetails(selectVariantEventRef.current, { selectedVariant }));\n                selectVariantEventRef.current = undefined;\n            }\n        }\n    }, [selectedVariant, onSelect]);\n    const handleVariantItemSelect = (e) => {\n        setSelectedVariant(Object.assign(Object.assign({}, e.detail.selectedItems[0].dataset), { variantItem: e.detail.selectedItems[0] }));\n        selectVariantEventRef.current = e;\n        if (closeOnItemSelect) {\n            handleClose();\n        }\n    };\n    const variantNames = safeChildren.map((item) => { var _a; return typeof ((_a = item.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' ? item.props.children : ''; });\n    const [favoriteChildren, setFavoriteChildren] = useState(undefined);\n    useEffect(() => {\n        if (showOnlyFavorites) {\n            setFavoriteChildren(safeChildren.filter((child) => child.props.favorite || child.props.isDefault));\n        }\n        if (!showOnlyFavorites && (favoriteChildren === null || favoriteChildren === void 0 ? void 0 : favoriteChildren.length) > 0) {\n            setFavoriteChildren(undefined);\n        }\n    }, [showOnlyFavorites, safeChildren]);\n    const safeChildrenWithFavorites = favoriteChildren !== null && favoriteChildren !== void 0 ? favoriteChildren : safeChildren;\n    const [filteredChildren, setFilteredChildren] = useState(undefined);\n    const [searchValue, setSearchValue] = useState('');\n    const handleSearchInput = (e) => {\n        setSearchValue(e.target.value);\n        setFilteredChildren(safeChildrenWithFavorites.filter((child) => {\n            var _a;\n            return typeof ((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' &&\n                child.props.children.toLowerCase().includes(e.target.value.toLowerCase());\n        }));\n    };\n    useEffect(() => {\n        if (filteredChildren) {\n            setFilteredChildren(safeChildrenWithFavorites.filter((child) => { var _a; return typeof ((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.children) === 'string' && child.props.children.toLowerCase().includes(searchValue); }));\n        }\n    }, [safeChildrenWithFavorites]);\n    const showSaveBtn = dirtyState && !(selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.readOnly);\n    return (React.createElement(\"div\", Object.assign({ className: variantManagementClasses, style: style }, rest, { ref: ref }),\n        React.createElement(VariantManagementContext.Provider, { value: {\n                selectVariantItem: setSelectedVariant\n            } },\n            React.createElement(FlexBox, { onClick: disabled ? undefined : handleOpenVariantManagement },\n                React.createElement(Title, { level: level, className: classes.title }, selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.children),\n                dirtyState && React.createElement(\"div\", { className: dirtyStateClasses }, dirtyStateText)),\n            React.createElement(Button, { className: clsx(classes.navDownBtn, 'ui5-content-density-compact'), tooltip: selectViewText, accessibleName: selectViewText, onClick: handleOpenVariantManagement, design: ButtonDesign.Transparent, icon: navDownIcon, disabled: disabled }),\n            createPortal(React.createElement(ResponsivePopover, { className: classes.popover, ref: popoverRef, headerText: titleText, placementType: placement, footer: (showSaveBtn || !hideSaveAs || !hideManageVariants) && (React.createElement(Bar, { design: BarDesign.Footer, className: classes.footer, endContent: React.createElement(React.Fragment, null,\n                        !inErrorState && showSaveBtn && (React.createElement(Button, { onClick: handleSave, design: ButtonDesign.Emphasized }, saveText)),\n                        !inErrorState && !hideSaveAs && (React.createElement(Button, { onClick: handleOpenSaveAsDialog, design: showSaveBtn ? ButtonDesign.Transparent : ButtonDesign.Emphasized, disabled: !selectedVariant || Object.keys(selectedVariant).length === 0 }, saveAsText)),\n                        !inErrorState && !hideManageVariants && (React.createElement(Button, { onClick: handleManageClick, design: showSaveBtn || !hideSaveAs ? ButtonDesign.Transparent : ButtonDesign.Emphasized }, manageText))) })), onAfterClose: stopPropagation }, inErrorState ? (React.createElement(IllustratedMessage, { name: IllustrationMessageType.UnableToLoad })) : (React.createElement(List, { onSelectionChange: handleVariantItemSelect, mode: ListMode.SingleSelect, header: showInput ? (React.createElement(\"div\", { className: classes.searchInput, tabIndex: -1 },\n                    React.createElement(Input, { accessibleName: a11ySearchText, value: searchValue, placeholder: searchText, onInput: handleSearchInput, showClearIcon: true, icon: React.createElement(Icon, { name: searchIcon, className: classes.inputIcon }) }))) : undefined }, filteredChildren !== null && filteredChildren !== void 0 ? filteredChildren : safeChildrenWithFavorites))), portalContainer),\n            manageViewsDialogOpen && (React.createElement(ManageViewsDialog, { onAfterClose: handleManageClose, handleSaveManageViews: handleSaveManageViews, showShare: !hideShare, showApplyAutomatically: !hideApplyAutomatically, showCreatedBy: !hideCreatedBy, showSetAsDefault: !hideSetAsDefault, variantNames: variantNames, portalContainer: portalContainer, showOnlyFavorites: showOnlyFavorites }, safeChildren)),\n            saveAsDialogOpen && (React.createElement(SaveViewDialog, { portalContainer: portalContainer, showShare: !hideShare, showApplyAutomatically: !hideApplyAutomatically, showSetAsDefault: !hideSetAsDefault, onAfterClose: handleSaveAsClose, handleSave: handleSaveView, selectedVariant: selectedVariant, variantNames: variantNames })))));\n});\nVariantManagement.defaultProps = {\n    placement: PopoverPlacementType.Bottom,\n    level: TitleLevel.H4,\n    dirtyStateText: '*',\n    portalContainer: document.body\n};\nVariantManagement.displayName = 'VariantManagement';\nexport { VariantManagement };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}