{"ast":null,"code":"import { EventProvider } from './EventProvider';\n// private helpers\nlet activeRangeSet;\nconst matchLegacyBySize = (from, to, unit, width) => {\n  const a = from < 0 || from <= width;\n  const b = to < 0 || width <= to;\n  return a && b;\n};\nconst getQuery = function (from, to) {\n  let unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'px';\n  let q = 'all';\n  if (from > 0) {\n    q = `${q} and (min-width:${from}${unit})`;\n  }\n  if (to > 0) {\n    q = `${q} and (max-width:${to}${unit})`;\n  }\n  return q;\n};\nconst getRangeInfo = iRangeIdx => {\n  const q = activeRangeSet.queries[iRangeIdx];\n  const info = {\n    from: q.from,\n    unit: activeRangeSet.unit,\n    name: activeRangeSet.names[iRangeIdx]\n  };\n  if (q.to >= 0) {\n    info.to = q.to;\n  }\n  return info;\n};\nconst matches = (from, to, unit) => {\n  const q = getQuery(from, to, unit);\n  const mm = window.matchMedia(q); // FF returns null when running within an iframe with display:none\n  return mm && mm.matches;\n};\nconst checkQueries = function (infoOnly) {\n  let matcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : matches;\n  const aQueries = activeRangeSet.queries;\n  let info = null;\n  for (let i = 0, len = aQueries.length; i < len; i++) {\n    const q = aQueries[i];\n    if ((q !== activeRangeSet.currentquery || infoOnly) && matcher(q.from, q.to, activeRangeSet.unit)) {\n      if (!infoOnly) {\n        activeRangeSet.currentquery = q;\n      }\n      info = getRangeInfo(i);\n    }\n  }\n  return info;\n};\nconst handleChange = () => {\n  if (activeRangeSet.timer) {\n    clearTimeout(activeRangeSet.timer);\n    activeRangeSet.timer = null;\n  }\n  activeRangeSet.timer = window.setTimeout(() => {\n    const mParams = checkQueries(false);\n    if (mParams) {\n      EventProvider.fireEvent(`media`, mParams);\n    }\n  }, 0);\n};\nconst DEFAULT_RANGE_SET = 'StdExt';\nconst initRangeSet = () => {\n  if (activeRangeSet) {\n    return;\n  }\n  const oConfig = {\n    points: [600, 1024, 1440],\n    unit: 'px',\n    name: DEFAULT_RANGE_SET,\n    names: ['Phone', 'Tablet', 'Desktop', 'LargeDesktop']\n  };\n  oConfig.queries = [];\n  oConfig.timer = null;\n  oConfig.currentquery = null;\n  oConfig.listener = () => handleChange();\n  const rangeBorders = oConfig.points;\n  for (let i = 0, len = rangeBorders.length; i <= len; i++) {\n    const from = i === 0 ? 0 : rangeBorders[i - 1];\n    const to = i === rangeBorders.length ? -1 : rangeBorders[i] - 1;\n    const query = getQuery(from, to, oConfig.unit);\n    const media = window.matchMedia(query);\n    media.addEventListener('change', oConfig.listener);\n    oConfig.queries.push({\n      query,\n      from,\n      to,\n      media\n    });\n  }\n  activeRangeSet = oConfig;\n  oConfig.listener();\n};\n// public API\nexport const getCurrentRange = width => {\n  if (!activeRangeSet) {\n    initRangeSet();\n  }\n  return checkQueries(true, isNaN(width) ? undefined : (from, to, unit) => matchLegacyBySize(from, to, unit, width));\n};\nexport const attachMediaHandler = func => {\n  if (!activeRangeSet) {\n    initRangeSet();\n  }\n  EventProvider.attachEvent(`media`, func);\n};\nexport const detachMediaHandler = func => {\n  EventProvider.detachEvent(`media`, func);\n};","map":{"version":3,"names":["EventProvider","activeRangeSet","matchLegacyBySize","from","to","unit","width","a","b","getQuery","q","getRangeInfo","iRangeIdx","queries","info","name","names","matches","mm","window","matchMedia","checkQueries","infoOnly","matcher","aQueries","i","len","length","currentquery","handleChange","timer","clearTimeout","setTimeout","mParams","fireEvent","DEFAULT_RANGE_SET","initRangeSet","oConfig","points","listener","rangeBorders","query","media","addEventListener","push","getCurrentRange","isNaN","undefined","attachMediaHandler","func","attachEvent","detachMediaHandler","detachEvent"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react-base/dist/Device/Media.js"],"sourcesContent":["import { EventProvider } from './EventProvider';\n// private helpers\nlet activeRangeSet;\nconst matchLegacyBySize = (from, to, unit, width) => {\n    const a = from < 0 || from <= width;\n    const b = to < 0 || width <= to;\n    return a && b;\n};\nconst getQuery = (from, to, unit = 'px') => {\n    let q = 'all';\n    if (from > 0) {\n        q = `${q} and (min-width:${from}${unit})`;\n    }\n    if (to > 0) {\n        q = `${q} and (max-width:${to}${unit})`;\n    }\n    return q;\n};\nconst getRangeInfo = (iRangeIdx) => {\n    const q = activeRangeSet.queries[iRangeIdx];\n    const info = { from: q.from, unit: activeRangeSet.unit, name: activeRangeSet.names[iRangeIdx] };\n    if (q.to >= 0) {\n        info.to = q.to;\n    }\n    return info;\n};\nconst matches = (from, to, unit) => {\n    const q = getQuery(from, to, unit);\n    const mm = window.matchMedia(q); // FF returns null when running within an iframe with display:none\n    return mm && mm.matches;\n};\nconst checkQueries = (infoOnly, matcher = matches) => {\n    const aQueries = activeRangeSet.queries;\n    let info = null;\n    for (let i = 0, len = aQueries.length; i < len; i++) {\n        const q = aQueries[i];\n        if ((q !== activeRangeSet.currentquery || infoOnly) && matcher(q.from, q.to, activeRangeSet.unit)) {\n            if (!infoOnly) {\n                activeRangeSet.currentquery = q;\n            }\n            info = getRangeInfo(i);\n        }\n    }\n    return info;\n};\nconst handleChange = () => {\n    if (activeRangeSet.timer) {\n        clearTimeout(activeRangeSet.timer);\n        activeRangeSet.timer = null;\n    }\n    activeRangeSet.timer = window.setTimeout(() => {\n        const mParams = checkQueries(false);\n        if (mParams) {\n            EventProvider.fireEvent(`media`, mParams);\n        }\n    }, 0);\n};\nconst DEFAULT_RANGE_SET = 'StdExt';\nconst initRangeSet = () => {\n    if (activeRangeSet) {\n        return;\n    }\n    const oConfig = {\n        points: [600, 1024, 1440],\n        unit: 'px',\n        name: DEFAULT_RANGE_SET,\n        names: ['Phone', 'Tablet', 'Desktop', 'LargeDesktop']\n    };\n    oConfig.queries = [];\n    oConfig.timer = null;\n    oConfig.currentquery = null;\n    oConfig.listener = () => handleChange();\n    const rangeBorders = oConfig.points;\n    for (let i = 0, len = rangeBorders.length; i <= len; i++) {\n        const from = i === 0 ? 0 : rangeBorders[i - 1];\n        const to = i === rangeBorders.length ? -1 : rangeBorders[i] - 1;\n        const query = getQuery(from, to, oConfig.unit);\n        const media = window.matchMedia(query);\n        media.addEventListener('change', oConfig.listener);\n        oConfig.queries.push({\n            query,\n            from,\n            to,\n            media\n        });\n    }\n    activeRangeSet = oConfig;\n    oConfig.listener();\n};\n// public API\nexport const getCurrentRange = (width) => {\n    if (!activeRangeSet) {\n        initRangeSet();\n    }\n    return checkQueries(true, isNaN(width) ? undefined : (from, to, unit) => matchLegacyBySize(from, to, unit, width));\n};\nexport const attachMediaHandler = (func) => {\n    if (!activeRangeSet) {\n        initRangeSet();\n    }\n    EventProvider.attachEvent(`media`, func);\n};\nexport const detachMediaHandler = (func) => {\n    EventProvider.detachEvent(`media`, func);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}