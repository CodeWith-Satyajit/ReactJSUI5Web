{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport { isLeft, isRight, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { isPhone, isTablet, isDesktop } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-right.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport Button from \"./Button.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport Icon from \"./Icon.js\";\nimport staticAreaMenuTemplate from \"./generated/templates/MenuTemplate.lit.js\";\nimport { MENU_BACK_BUTTON_ARIA_LABEL, MENU_CLOSE_BUTTON_ARIA_LABEL } from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport staticAreaMenuCss from \"./generated/themes/Menu.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-menu\",\n  properties: /** @lends sap.ui.webcomponents.main.Menu.prototype */{\n    /**\n     * Defines the header text of the menu (displayed on mobile).\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    headerText: {\n      type: String\n    },\n    /**\n     * Defines if the menu is sub-menu (not first-level).\n     * @type {boolean}\n     * @defaultvalue false\n     * @private\n     */\n    _isSubMenu: {\n      type: Boolean,\n      noAttribute: true\n    },\n    /**\n     * Stores parent menu item (if there is such).\n     * @type {object}\n     * @private\n     */\n    _parentMenuItem: {\n      type: Object\n    },\n    /**\n     * Stores menu item that have sub-menu opened.\n     * @type {object}\n     * @private\n     */\n    _openedSubMenuItem: {\n      type: Object\n    },\n    /**\n     * Stores id of a list item that opened sub-menu.\n     * @type {string}\n     * @private\n     */\n    _subMenuOpenerId: {\n      type: String\n    },\n    /**\n     * Defines the currently available menu items.\n     * (in case of non-phone devices these are the items of the menu,\n     * but for phone devices the items of the currently opened sub-menu\n     * will be populated here)\n     * @type {array}\n     * @private\n     */\n    _currentItems: {\n      type: Object,\n      multiple: true\n    },\n    /**\n     * Stores a list of parent menu items for each sub-menu (on phone).\n     * @type {array}\n     * @private\n     */\n    _parentItemsStack: {\n      type: Object,\n      multiple: true\n    },\n    /**\n     * Stores a responsive popover when it is opened.\n     * @type {object}\n     * @private\n     */\n    _popover: {\n      type: Object\n    }\n  },\n  managedSlots: true,\n  slots: /** @lends sap.ui.webcomponents.main.Menu.prototype */{\n    /**\n     * Defines the items of this component.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-menu-item</code> for the intended design.\n     *\n     * @type {sap.ui.webcomponents.main.IMenuItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      invalidateOnChildChange: true\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.Menu.prototype */{\n    /**\n     * Fired when an item is being clicked.\n     *\n     * @event sap.ui.webcomponents.main.Menu#item-click\n     * @param {object} item The currently clicked menu item.\n     * @param {string} text The text of the currently clicked menu item.\n     * @public\n     */\n    \"item-click\": {\n      detail: {\n        item: {\n          type: Object\n        },\n        text: {\n          type: String\n        }\n      }\n    }\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * <code>ui5-menu</code> component represents a hierarchical menu structure.\n *\n * <h3>Usage</h3>\n *\n * <code>ui5-menu</code> contains <code>ui5-menu-item</code> components.\n * An arbitrary hierarchy structure can be represented by recursively nesting menu items.\n *\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-menu</code> provides advanced keyboard handling.\n * The user can use the following keyboard shortcuts in order to navigate trough the tree:\n * <ul>\n * <li><code>Arrow Up</code> / <code>Arrow Down</code> - Navigates up and down the menu items that are currently visible.</li>\n * <li><code>Arrow Right</code>, <code>Space</code> or <code>Enter</code> - Opens a sub-menu if there are menu items nested\n * in the currently clicked menu item.</li>\n * <li><code>Arrow Left</code> or <code>Escape</code> - Closes the currently opened sub-menu.</li>\n * </ul>\n * Note: if the text ditrection is set to Right-to-left (RTL), <code>Arrow Right</code> and <code>Arrow Left</code> functionality is swapped.\n * <br>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Menu.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Menu\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-menu\n * @appenddocs MenuItem\n * @since 1.3.0\n * @public\n */\nclass Menu extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get staticAreaStyles() {\n    return staticAreaMenuCss;\n  }\n  static get staticAreaTemplate() {\n    return staticAreaMenuTemplate;\n  }\n  static get dependencies() {\n    return [ResponsivePopover, Button, List, StandardListItem, Icon];\n  }\n  static async onDefine() {\n    Menu.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n  }\n  get itemsWithChildren() {\n    return !!this._currentItems.filter(item => item.item.items.length).length;\n  }\n  get itemsWithIcon() {\n    return !!this._currentItems.filter(item => item.item.icon !== \"\").length;\n  }\n  get isRtl() {\n    return this.effectiveDir === \"rtl\";\n  }\n  get placementType() {\n    const placement = this.isRtl ? \"Left\" : \"Right\";\n    return this._isSubMenu ? placement : \"Bottom\";\n  }\n  get verticalAlign() {\n    return this._isSubMenu ? \"Top\" : \"Bottom\";\n  }\n  get labelBack() {\n    return Menu.i18nBundle.getText(MENU_BACK_BUTTON_ARIA_LABEL);\n  }\n  get labelClose() {\n    return Menu.i18nBundle.getText(MENU_CLOSE_BUTTON_ARIA_LABEL);\n  }\n  get isPhone() {\n    return isPhone();\n  }\n  get isSubMenuOpened() {\n    return !!this._parentMenuItem;\n  }\n  get menuHeaderTextPhone() {\n    return this.isSubMenuOpened ? this._parentMenuItem.text : this.headerText;\n  }\n  onBeforeRendering() {\n    !isPhone() && this._prepareCurrentItems(this.items);\n    const itemsWithChildren = this.itemsWithChildren;\n    const itemsWithIcon = this.itemsWithIcon;\n    this._currentItems.forEach(item => {\n      item.item._siblingsWithChildren = itemsWithChildren;\n      item.item._siblingsWithIcon = itemsWithIcon;\n    });\n  }\n\n  /**\n   * Shows the Menu near the opener element.\n   * @param {HTMLElement} opener the element that the popover is shown at\n   * @public\n   */\n  async showAt(opener) {\n    if (isPhone()) {\n      this._prepareCurrentItems(this.items);\n      this._parentItemsStack = [];\n    }\n    if (!this._isSubMenu) {\n      this._parentMenuItem = undefined;\n    }\n    await this._getPopover();\n    this._popover.initialFocus = \"\";\n    for (let index = 0; index < this._currentItems.length; index++) {\n      if (!this._currentItems[index].item.disabled) {\n        this._popover.initialFocus = `${this._id}-menu-item-${index}`;\n        break;\n      }\n    }\n    this._popover.showAt(opener);\n  }\n\n  /**\n   * Closes the Menu.\n   * @public\n   */\n  close() {\n    if (Object.keys(this._popover).length) {\n      if (isPhone()) {\n        this._parentItemsStack = [];\n      }\n      this._popover.close();\n      this._popover.resetFocus();\n    }\n  }\n  async _getPopover() {\n    this._popover = (await this.getStaticAreaItemDomRef()).querySelector(\"[ui5-responsive-popover]\");\n    return this._popover;\n  }\n  _beforePopoverClose() {\n    if (Object.keys(this._openedSubMenuItem).length) {\n      this._openedSubMenuItem._preventSubMenuClose = false;\n      this._closeItemSubMenu(this._openedSubMenuItem);\n    }\n  }\n  _navigateBack() {\n    const parentMenuItem = this._parentItemsStack.pop();\n    this.focus();\n    if (parentMenuItem) {\n      this._prepareCurrentItems(parentMenuItem.parentElement.items);\n      this._parentMenuItem = this._parentItemsStack.length ? this._parentItemsStack[this._parentItemsStack.length - 1] : undefined;\n    }\n  }\n  _prepareCurrentItems(items) {\n    this._currentItems = items.map((item, index) => {\n      return {\n        item,\n        position: index + 1,\n        ariaHasPopup: item.hasChildren ? \"menu\" : undefined\n      };\n    });\n  }\n  _createSubMenu(item, openerId) {\n    const subMenu = document.createElement(this.constructor.getMetadata().getTag());\n    const fragment = document.createDocumentFragment();\n    subMenu._isSubMenu = true;\n    subMenu.setAttribute(\"id\", `submenu-${openerId}`);\n    subMenu._parentMenuItem = item;\n    const subItems = item.children;\n    let clonedItem, idx;\n    for (idx = 0; idx < subItems.length; idx++) {\n      clonedItem = subItems[idx].cloneNode(true);\n      fragment.appendChild(clonedItem);\n    }\n    subMenu.appendChild(fragment);\n    this.staticAreaItem.shadowRoot.querySelector(\".ui5-menu-submenus\").appendChild(subMenu);\n    item._subMenu = subMenu;\n  }\n  _openItemSubMenu(item, opener, actionId) {\n    item._subMenu.showAt(opener);\n    item._preventSubMenuClose = true;\n    this._openedSubMenuItem = item;\n    this._subMenuOpenerId = actionId;\n  }\n  _closeItemSubMenu(item, forceClose) {\n    if (Object.keys(item).length) {\n      if (forceClose) {\n        item._preventSubMenuClose = false;\n        this._closeSubMenuPopover(item._subMenu, true);\n      } else {\n        setTimeout(() => this._closeSubMenuPopover(item._subMenu), 0);\n      }\n    }\n  }\n  _closeSubMenuPopover(subMenu, forceClose) {\n    if (subMenu && Object.keys(subMenu).length) {\n      const parentItem = subMenu._parentMenuItem;\n      if (forceClose || !parentItem._preventSubMenuClose) {\n        subMenu.close();\n        subMenu.remove();\n        parentItem._subMenu = {};\n        this._openedSubMenuItem = {};\n        this._subMenuOpenerId = \"\";\n      }\n    }\n  }\n  _prepareSubMenuDesktopTablet(item, opener, actionId) {\n    if (actionId !== this._subMenuOpenerId || item && item.hasChildren) {\n      // close opened sub-menu if there is any opened\n      this._closeItemSubMenu(this._openedSubMenuItem, true);\n    }\n    if (item && item.hasChildren) {\n      // create new sub-menu\n      this._createSubMenu(item, actionId);\n      this._openItemSubMenu(item, opener, actionId);\n    }\n    if (this._parentMenuItem) {\n      this._parentMenuItem._preventSubMenuClose = true;\n    }\n  }\n  _prepareSubMenuPhone(item) {\n    this._prepareCurrentItems(item.items);\n    this._parentMenuItem = item;\n    this._parentItemsStack.push(item);\n  }\n  _itemMouseOver(event) {\n    if (isDesktop()) {\n      // respect mouseover only on desktop\n      const opener = event.target;\n      const item = opener.associatedItem;\n      const hoverId = opener.getAttribute(\"id\");\n      opener.focus();\n      this._prepareSubMenuDesktopTablet(item, opener, hoverId);\n    }\n  }\n  _itemMouseOut(event) {\n    if (isDesktop()) {\n      // respect mouseover only on desktop\n      const item = event.target.associatedItem;\n      if (item && item.hasChildren && item._subMenu) {\n        // try to close the sub-menu\n        item._preventSubMenuClose = false;\n        this._closeItemSubMenu(item);\n      }\n    }\n  }\n  _itemKeyDown(event) {\n    const isMenuClose = this.isRtl ? isRight(event) : isLeft(event);\n    const isMenuOpen = this.isRtl ? isLeft(event) : isRight(event);\n    if (isEnter(event)) {\n      event.preventDefault();\n    }\n    if (isMenuOpen) {\n      const opener = event.target;\n      const item = opener.associatedItem;\n      const hoverId = opener.getAttribute(\"id\");\n      item.hasChildren && this._prepareSubMenuDesktopTablet(item, opener, hoverId);\n    } else if (isMenuClose && this._isSubMenu && this._parentMenuItem) {\n      this._parentMenuItem.parentElement._closeItemSubMenu(this._parentMenuItem, true);\n    }\n  }\n  _itemClick(event) {\n    const opener = event.detail.item;\n    const item = opener.associatedItem;\n    const actionId = opener.getAttribute(\"id\");\n    if (!item.hasChildren) {\n      // click on an item that doesn't have sub-items fires an \"item-click\" event\n      if (!this._isSubMenu) {\n        if (isPhone()) {\n          this._parentMenuItem = undefined;\n        }\n        // fire event if the click is on top-level menu item\n        this.fireEvent(\"item-click\", {\n          \"item\": item,\n          \"text\": item.text\n        });\n        this._popover.close();\n      } else {\n        // find top-level menu and redirect event to it\n        let parentMenu = item.parentElement;\n        while (parentMenu._parentMenuItem) {\n          parentMenu._parentMenuItem._preventSubMenuClose = false;\n          this._closeItemSubMenu(parentMenu._parentMenuItem);\n          parentMenu = parentMenu._parentMenuItem.parentElement;\n        }\n        parentMenu._itemClick(event);\n      }\n    } else if (isPhone()) {\n      // prepares and opens sub-menu on phone\n      this._prepareSubMenuPhone(item);\n    } else if (isTablet()) {\n      // prepares and opens sub-menu on tablet\n      this._prepareSubMenuDesktopTablet(item, opener, actionId);\n    }\n  }\n}\nMenu.define();\nexport default Menu;","map":{"version":3,"names":["UI5Element","isLeft","isRight","isEnter","isPhone","isTablet","isDesktop","getI18nBundle","litRender","ResponsivePopover","Button","List","StandardListItem","Icon","staticAreaMenuTemplate","MENU_BACK_BUTTON_ARIA_LABEL","MENU_CLOSE_BUTTON_ARIA_LABEL","staticAreaMenuCss","metadata","tag","properties","headerText","type","String","_isSubMenu","Boolean","noAttribute","_parentMenuItem","Object","_openedSubMenuItem","_subMenuOpenerId","_currentItems","multiple","_parentItemsStack","_popover","managedSlots","slots","propertyName","HTMLElement","invalidateOnChildChange","events","detail","item","text","Menu","render","staticAreaStyles","staticAreaTemplate","dependencies","onDefine","i18nBundle","itemsWithChildren","filter","items","length","itemsWithIcon","icon","isRtl","effectiveDir","placementType","placement","verticalAlign","labelBack","getText","labelClose","isSubMenuOpened","menuHeaderTextPhone","onBeforeRendering","_prepareCurrentItems","forEach","_siblingsWithChildren","_siblingsWithIcon","showAt","opener","undefined","_getPopover","initialFocus","index","disabled","_id","close","keys","resetFocus","getStaticAreaItemDomRef","querySelector","_beforePopoverClose","_preventSubMenuClose","_closeItemSubMenu","_navigateBack","parentMenuItem","pop","focus","parentElement","map","position","ariaHasPopup","hasChildren","_createSubMenu","openerId","subMenu","document","createElement","constructor","getMetadata","getTag","fragment","createDocumentFragment","setAttribute","subItems","children","clonedItem","idx","cloneNode","appendChild","staticAreaItem","shadowRoot","_subMenu","_openItemSubMenu","actionId","forceClose","_closeSubMenuPopover","setTimeout","parentItem","remove","_prepareSubMenuDesktopTablet","_prepareSubMenuPhone","push","_itemMouseOver","event","target","associatedItem","hoverId","getAttribute","_itemMouseOut","_itemKeyDown","isMenuClose","isMenuOpen","preventDefault","_itemClick","fireEvent","parentMenu","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/Menu.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport {\n\tisLeft,\n\tisRight,\n\tisEnter,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport {\n\tisPhone,\n\tisTablet,\n\tisDesktop,\n} from \"@ui5/webcomponents-base/dist/Device.js\";\nimport {\n\tgetI18nBundle,\n} from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-right.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport Button from \"./Button.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport Icon from \"./Icon.js\";\nimport staticAreaMenuTemplate from \"./generated/templates/MenuTemplate.lit.js\";\nimport {\n\tMENU_BACK_BUTTON_ARIA_LABEL,\n\tMENU_CLOSE_BUTTON_ARIA_LABEL,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport staticAreaMenuCss from \"./generated/themes/Menu.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-menu\",\n\tproperties: /** @lends sap.ui.webcomponents.main.Menu.prototype */ {\n\t\t/**\n\t\t * Defines the header text of the menu (displayed on mobile).\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\t headerText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the menu is sub-menu (not first-level).\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @private\n\t\t */\n\t\t_isSubMenu: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * Stores parent menu item (if there is such).\n\t\t * @type {object}\n\t\t * @private\n\t\t */\n\t\t _parentMenuItem: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t/**\n\t\t * Stores menu item that have sub-menu opened.\n\t\t * @type {object}\n\t\t * @private\n\t\t */\n\t\t _openedSubMenuItem: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t/**\n\t\t * Stores id of a list item that opened sub-menu.\n\t\t * @type {string}\n\t\t * @private\n\t\t */\n\t\t _subMenuOpenerId: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the currently available menu items.\n\t\t * (in case of non-phone devices these are the items of the menu,\n\t\t * but for phone devices the items of the currently opened sub-menu\n\t\t * will be populated here)\n\t\t * @type {array}\n\t\t * @private\n\t\t */\n\t\t _currentItems: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * Stores a list of parent menu items for each sub-menu (on phone).\n\t\t * @type {array}\n\t\t * @private\n\t\t */\n\t\t _parentItemsStack: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * Stores a responsive popover when it is opened.\n\t\t * @type {object}\n\t\t * @private\n\t\t */\n\t\t_popover: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.Menu.prototype */ {\n\t\t/**\n\t\t * Defines the items of this component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-menu-item</code> for the intended design.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IMenuItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t \"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.Menu.prototype */ {\n\t\t/**\n\t\t * Fired when an item is being clicked.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.Menu#item-click\n\t\t * @param {object} item The currently clicked menu item.\n\t\t * @param {string} text The text of the currently clicked menu item.\n\t\t * @public\n\t\t */\n\t\t \"item-click\": {\n\t\t\tdetail: {\n\t\t\t\titem: {\n\t\t\t\t\ttype: Object,\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\ttype: String,\n\t\t\t\t},\n\t\t\t},\n\t\t },\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * <code>ui5-menu</code> component represents a hierarchical menu structure.\n *\n * <h3>Usage</h3>\n *\n * <code>ui5-menu</code> contains <code>ui5-menu-item</code> components.\n * An arbitrary hierarchy structure can be represented by recursively nesting menu items.\n *\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-menu</code> provides advanced keyboard handling.\n * The user can use the following keyboard shortcuts in order to navigate trough the tree:\n * <ul>\n * <li><code>Arrow Up</code> / <code>Arrow Down</code> - Navigates up and down the menu items that are currently visible.</li>\n * <li><code>Arrow Right</code>, <code>Space</code> or <code>Enter</code> - Opens a sub-menu if there are menu items nested\n * in the currently clicked menu item.</li>\n * <li><code>Arrow Left</code> or <code>Escape</code> - Closes the currently opened sub-menu.</li>\n * </ul>\n * Note: if the text ditrection is set to Right-to-left (RTL), <code>Arrow Right</code> and <code>Arrow Left</code> functionality is swapped.\n * <br>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/Menu.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Menu\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-menu\n * @appenddocs MenuItem\n * @since 1.3.0\n * @public\n */\nclass Menu extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn staticAreaMenuCss;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn staticAreaMenuTemplate;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tResponsivePopover,\n\t\t\tButton,\n\t\t\tList,\n\t\t\tStandardListItem,\n\t\t\tIcon,\n\t\t];\n\t}\n\n\tstatic async onDefine() {\n\t\tMenu.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tget itemsWithChildren() {\n\t\treturn !!this._currentItems.filter(item => item.item.items.length).length;\n\t}\n\n\tget itemsWithIcon() {\n\t\treturn !!this._currentItems.filter(item => item.item.icon !== \"\").length;\n\t}\n\n\tget isRtl() {\n\t\treturn this.effectiveDir === \"rtl\";\n\t}\n\n\tget placementType() {\n\t\tconst placement = this.isRtl ? \"Left\" : \"Right\";\n\t\treturn this._isSubMenu ? placement : \"Bottom\";\n\t}\n\n\tget verticalAlign() {\n\t\treturn this._isSubMenu ? \"Top\" : \"Bottom\";\n\t}\n\n\tget labelBack() {\n\t\treturn Menu.i18nBundle.getText(MENU_BACK_BUTTON_ARIA_LABEL);\n\t}\n\n\tget labelClose() {\n\t\treturn Menu.i18nBundle.getText(MENU_CLOSE_BUTTON_ARIA_LABEL);\n\t}\n\n\tget isPhone() {\n\t\treturn isPhone();\n\t}\n\n\tget isSubMenuOpened() {\n\t\treturn !!this._parentMenuItem;\n\t}\n\n\tget menuHeaderTextPhone() {\n\t\treturn this.isSubMenuOpened ? this._parentMenuItem.text : this.headerText;\n\t}\n\n\tonBeforeRendering() {\n\t\t!isPhone() && this._prepareCurrentItems(this.items);\n\n\t\tconst itemsWithChildren = this.itemsWithChildren;\n\t\tconst itemsWithIcon = this.itemsWithIcon;\n\n\t\tthis._currentItems.forEach(item => {\n\t\t\titem.item._siblingsWithChildren = itemsWithChildren;\n\t\t\titem.item._siblingsWithIcon = itemsWithIcon;\n\t\t});\n\t}\n\n\t/**\n\t * Shows the Menu near the opener element.\n\t * @param {HTMLElement} opener the element that the popover is shown at\n\t * @public\n\t */\n\tasync showAt(opener) {\n\t\tif (isPhone()) {\n\t\t\tthis._prepareCurrentItems(this.items);\n\t\t\tthis._parentItemsStack = [];\n\t\t}\n\t\tif (!this._isSubMenu) {\n\t\t\tthis._parentMenuItem = undefined;\n\t\t}\n\t\tawait this._getPopover();\n\t\tthis._popover.initialFocus = \"\";\n\t\tfor (let index = 0; index < this._currentItems.length; index++) {\n\t\t\tif (!this._currentItems[index].item.disabled) {\n\t\t\t\tthis._popover.initialFocus = `${this._id}-menu-item-${index}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis._popover.showAt(opener);\n\t}\n\n\t/**\n\t * Closes the Menu.\n\t * @public\n\t */\n\tclose() {\n\t\tif (Object.keys(this._popover).length) {\n\t\t\tif (isPhone()) {\n\t\t\t\tthis._parentItemsStack = [];\n\t\t\t}\n\t\t\tthis._popover.close();\n\t\t\tthis._popover.resetFocus();\n\t\t}\n\t}\n\n\tasync _getPopover() {\n\t\tthis._popover = (await this.getStaticAreaItemDomRef()).querySelector(\"[ui5-responsive-popover]\");\n\t\treturn this._popover;\n\t}\n\n\t_beforePopoverClose() {\n\t\tif (Object.keys(this._openedSubMenuItem).length) {\n\t\t\tthis._openedSubMenuItem._preventSubMenuClose = false;\n\t\t\tthis._closeItemSubMenu(this._openedSubMenuItem);\n\t\t}\n\t}\n\n\t_navigateBack() {\n\t\tconst parentMenuItem = this._parentItemsStack.pop();\n\n\t\tthis.focus();\n\t\tif (parentMenuItem) {\n\t\t\tthis._prepareCurrentItems(parentMenuItem.parentElement.items);\n\t\t\tthis._parentMenuItem = this._parentItemsStack.length ? this._parentItemsStack[this._parentItemsStack.length - 1] : undefined;\n\t\t}\n\t}\n\n\t_prepareCurrentItems(items) {\n\t\tthis._currentItems = items.map((item, index) => {\n\t\t\treturn {\n\t\t\t\titem,\n\t\t\t\tposition: index + 1,\n\t\t\t\tariaHasPopup: item.hasChildren ? \"menu\" : undefined,\n\t\t\t};\n\t\t});\n\t}\n\n\t_createSubMenu(item, openerId) {\n\t\tconst subMenu = document.createElement(this.constructor.getMetadata().getTag());\n\t\tconst fragment = document.createDocumentFragment();\n\n\t\tsubMenu._isSubMenu = true;\n\t\tsubMenu.setAttribute(\"id\", `submenu-${openerId}`);\n\t\tsubMenu._parentMenuItem = item;\n\t\tconst subItems = item.children;\n\t\tlet clonedItem,\n\t\t\tidx;\n\t\tfor (idx = 0; idx < subItems.length; idx++) {\n\t\t\tclonedItem = subItems[idx].cloneNode(true);\n\t\t\tfragment.appendChild(clonedItem);\n\t\t}\n\t\tsubMenu.appendChild(fragment);\n\t\tthis.staticAreaItem.shadowRoot.querySelector(\".ui5-menu-submenus\").appendChild(subMenu);\n\t\titem._subMenu = subMenu;\n\t}\n\n\t_openItemSubMenu(item, opener, actionId) {\n\t\titem._subMenu.showAt(opener);\n\t\titem._preventSubMenuClose = true;\n\t\tthis._openedSubMenuItem = item;\n\t\tthis._subMenuOpenerId = actionId;\n\t}\n\n\t_closeItemSubMenu(item, forceClose) {\n\t\tif (Object.keys(item).length) {\n\t\t\tif (forceClose) {\n\t\t\t\titem._preventSubMenuClose = false;\n\t\t\t\tthis._closeSubMenuPopover(item._subMenu, true);\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => this._closeSubMenuPopover(item._subMenu), 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t_closeSubMenuPopover(subMenu, forceClose) {\n\t\tif (subMenu && Object.keys(subMenu).length) {\n\t\t\tconst parentItem = subMenu._parentMenuItem;\n\n\t\t\tif (forceClose || !parentItem._preventSubMenuClose) {\n\t\t\t\tsubMenu.close();\n\t\t\t\tsubMenu.remove();\n\t\t\t\tparentItem._subMenu = {};\n\t\t\t\tthis._openedSubMenuItem = {};\n\t\t\t\tthis._subMenuOpenerId = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t_prepareSubMenuDesktopTablet(item, opener, actionId) {\n\t\tif (actionId !== this._subMenuOpenerId || (item && item.hasChildren)) {\n\t\t\t// close opened sub-menu if there is any opened\n\t\t\tthis._closeItemSubMenu(this._openedSubMenuItem, true);\n\t\t}\n\t\tif (item && item.hasChildren) {\n\t\t\t// create new sub-menu\n\t\t\tthis._createSubMenu(item, actionId);\n\t\t\tthis._openItemSubMenu(item, opener, actionId);\n\t\t}\n\t\tif (this._parentMenuItem) {\n\t\t\tthis._parentMenuItem._preventSubMenuClose = true;\n\t\t}\n\t}\n\n\t_prepareSubMenuPhone(item) {\n\t\tthis._prepareCurrentItems(item.items);\n\t\tthis._parentMenuItem = item;\n\t\tthis._parentItemsStack.push(item);\n\t}\n\n\t_itemMouseOver(event) {\n\t\tif (isDesktop()) {\n\t\t\t// respect mouseover only on desktop\n\t\t\tconst opener = event.target;\n\t\t\tconst item = opener.associatedItem;\n\t\t\tconst hoverId = opener.getAttribute(\"id\");\n\n\t\t\topener.focus();\n\t\t\tthis._prepareSubMenuDesktopTablet(item, opener, hoverId);\n\t\t}\n\t}\n\n\t_itemMouseOut(event) {\n\t\tif (isDesktop()) {\n\t\t\t// respect mouseover only on desktop\n\t\t\tconst item = event.target.associatedItem;\n\n\t\t\tif (item && item.hasChildren && item._subMenu) {\n\t\t\t\t// try to close the sub-menu\n\t\t\t\titem._preventSubMenuClose = false;\n\t\t\t\tthis._closeItemSubMenu(item);\n\t\t\t}\n\t\t}\n\t}\n\n\t_itemKeyDown(event) {\n\t\tconst isMenuClose = this.isRtl ? isRight(event) : isLeft(event);\n\t\tconst isMenuOpen = this.isRtl ? isLeft(event) : isRight(event);\n\n\t\tif (isEnter(event)) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif (isMenuOpen) {\n\t\t\tconst opener = event.target;\n\t\t\tconst item = opener.associatedItem;\n\t\t\tconst hoverId = opener.getAttribute(\"id\");\n\n\t\t\titem.hasChildren && this._prepareSubMenuDesktopTablet(item, opener, hoverId);\n\t\t} else if (isMenuClose && this._isSubMenu && this._parentMenuItem) {\n\t\t\tthis._parentMenuItem.parentElement._closeItemSubMenu(this._parentMenuItem, true);\n\t\t}\n\t}\n\n\t_itemClick(event) {\n\t\tconst opener = event.detail.item;\n\t\tconst item = opener.associatedItem;\n\t\tconst actionId = opener.getAttribute(\"id\");\n\n\t\tif (!item.hasChildren) {\n\t\t\t// click on an item that doesn't have sub-items fires an \"item-click\" event\n\t\t\tif (!this._isSubMenu) {\n\t\t\t\tif (isPhone()) {\n\t\t\t\t\tthis._parentMenuItem = undefined;\n\t\t\t\t}\n\t\t\t\t// fire event if the click is on top-level menu item\n\t\t\t\tthis.fireEvent(\"item-click\", {\n\t\t\t\t\t\"item\": item,\n\t\t\t\t\t\"text\": item.text,\n\t\t\t\t});\n\t\t\t\tthis._popover.close();\n\t\t\t} else {\n\t\t\t\t// find top-level menu and redirect event to it\n\t\t\t\tlet parentMenu = item.parentElement;\n\t\t\t\twhile (parentMenu._parentMenuItem) {\n\t\t\t\t\tparentMenu._parentMenuItem._preventSubMenuClose = false;\n\t\t\t\t\tthis._closeItemSubMenu(parentMenu._parentMenuItem);\n\t\t\t\t\tparentMenu = parentMenu._parentMenuItem.parentElement;\n\t\t\t\t}\n\t\t\t\tparentMenu._itemClick(event);\n\t\t\t}\n\t\t} else if (isPhone()) {\n\t\t\t// prepares and opens sub-menu on phone\n\t\t\tthis._prepareSubMenuPhone(item);\n\t\t} else if (isTablet()) {\n\t\t\t// prepares and opens sub-menu on tablet\n\t\t\tthis._prepareSubMenuDesktopTablet(item, opener, actionId);\n\t\t}\n\t}\n}\n\nMenu.define();\n\nexport default Menu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}