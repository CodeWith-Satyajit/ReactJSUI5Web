{"ast":null,"code":"const MAX_PROCESS_COUNT = 10;\nclass RenderQueue {\n  constructor() {\n    this.list = []; // Used to store the web components in order\n    this.lookup = new Set(); // Used for faster search\n  }\n\n  add(webComponent) {\n    if (this.lookup.has(webComponent)) {\n      return;\n    }\n    this.list.push(webComponent);\n    this.lookup.add(webComponent);\n  }\n  remove(webComponent) {\n    if (!this.lookup.has(webComponent)) {\n      return;\n    }\n    this.list = this.list.filter(item => item !== webComponent);\n    this.lookup.delete(webComponent);\n  }\n  shift() {\n    const webComponent = this.list.shift();\n    if (webComponent) {\n      this.lookup.delete(webComponent);\n      return webComponent;\n    }\n  }\n  isEmpty() {\n    return this.list.length === 0;\n  }\n  isAdded(webComponent) {\n    return this.lookup.has(webComponent);\n  }\n\n  /**\n   * Processes the whole queue by executing the callback on each component,\n   * while also imposing restrictions on how many times a component may be processed.\n   *\n   * @param callback - function with one argument (the web component to be processed)\n   */\n  process(callback) {\n    let webComponent;\n    const stats = new Map();\n    webComponent = this.shift();\n    while (webComponent) {\n      const timesProcessed = stats.get(webComponent) || 0;\n      if (timesProcessed > MAX_PROCESS_COUNT) {\n        throw new Error(`Web component processed too many times this task, max allowed is: ${MAX_PROCESS_COUNT}`);\n      }\n      callback(webComponent);\n      stats.set(webComponent, timesProcessed + 1);\n      webComponent = this.shift();\n    }\n  }\n}\nexport default RenderQueue;","map":{"version":3,"names":["MAX_PROCESS_COUNT","RenderQueue","constructor","list","lookup","Set","add","webComponent","has","push","remove","filter","item","delete","shift","isEmpty","length","isAdded","process","callback","stats","Map","timesProcessed","get","Error","set"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-base/dist/RenderQueue.js"],"sourcesContent":["const MAX_PROCESS_COUNT = 10;\n\nclass RenderQueue {\n\tconstructor() {\n\t\tthis.list = []; // Used to store the web components in order\n\t\tthis.lookup = new Set(); // Used for faster search\n\t}\n\n\tadd(webComponent) {\n\t\tif (this.lookup.has(webComponent)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.list.push(webComponent);\n\t\tthis.lookup.add(webComponent);\n\t}\n\n\tremove(webComponent) {\n\t\tif (!this.lookup.has(webComponent)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.list = this.list.filter(item => item !== webComponent);\n\t\tthis.lookup.delete(webComponent);\n\t}\n\n\tshift() {\n\t\tconst webComponent = this.list.shift();\n\t\tif (webComponent) {\n\t\t\tthis.lookup.delete(webComponent);\n\t\t\treturn webComponent;\n\t\t}\n\t}\n\n\tisEmpty() {\n\t\treturn this.list.length === 0;\n\t}\n\n\tisAdded(webComponent) {\n\t\treturn this.lookup.has(webComponent);\n\t}\n\n\t/**\n\t * Processes the whole queue by executing the callback on each component,\n\t * while also imposing restrictions on how many times a component may be processed.\n\t *\n\t * @param callback - function with one argument (the web component to be processed)\n\t */\n\tprocess(callback) {\n\t\tlet webComponent;\n\t\tconst stats = new Map();\n\n\t\twebComponent = this.shift();\n\t\twhile (webComponent) {\n\t\t\tconst timesProcessed = stats.get(webComponent) || 0;\n\t\t\tif (timesProcessed > MAX_PROCESS_COUNT) {\n\t\t\t\tthrow new Error(`Web component processed too many times this task, max allowed is: ${MAX_PROCESS_COUNT}`);\n\t\t\t}\n\t\t\tcallback(webComponent);\n\t\t\tstats.set(webComponent, timesProcessed + 1);\n\t\t\twebComponent = this.shift();\n\t\t}\n\t}\n}\n\nexport default RenderQueue;\n"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG,EAAE;AAE5B,MAAMC,WAAW,CAAC;EACjBC,WAAW,GAAG;IACb,IAAI,CAACC,IAAI,GAAG,EAAE,CAAC,CAAC;IAChB,IAAI,CAACC,MAAM,GAAG,IAAIC,GAAG,EAAE,CAAC,CAAC;EAC1B;;EAEAC,GAAG,CAACC,YAAY,EAAE;IACjB,IAAI,IAAI,CAACH,MAAM,CAACI,GAAG,CAACD,YAAY,CAAC,EAAE;MAClC;IACD;IAEA,IAAI,CAACJ,IAAI,CAACM,IAAI,CAACF,YAAY,CAAC;IAC5B,IAAI,CAACH,MAAM,CAACE,GAAG,CAACC,YAAY,CAAC;EAC9B;EAEAG,MAAM,CAACH,YAAY,EAAE;IACpB,IAAI,CAAC,IAAI,CAACH,MAAM,CAACI,GAAG,CAACD,YAAY,CAAC,EAAE;MACnC;IACD;IAEA,IAAI,CAACJ,IAAI,GAAG,IAAI,CAACA,IAAI,CAACQ,MAAM,CAACC,IAAI,IAAIA,IAAI,KAAKL,YAAY,CAAC;IAC3D,IAAI,CAACH,MAAM,CAACS,MAAM,CAACN,YAAY,CAAC;EACjC;EAEAO,KAAK,GAAG;IACP,MAAMP,YAAY,GAAG,IAAI,CAACJ,IAAI,CAACW,KAAK,EAAE;IACtC,IAAIP,YAAY,EAAE;MACjB,IAAI,CAACH,MAAM,CAACS,MAAM,CAACN,YAAY,CAAC;MAChC,OAAOA,YAAY;IACpB;EACD;EAEAQ,OAAO,GAAG;IACT,OAAO,IAAI,CAACZ,IAAI,CAACa,MAAM,KAAK,CAAC;EAC9B;EAEAC,OAAO,CAACV,YAAY,EAAE;IACrB,OAAO,IAAI,CAACH,MAAM,CAACI,GAAG,CAACD,YAAY,CAAC;EACrC;;EAEA;AACD;AACA;AACA;AACA;AACA;EACCW,OAAO,CAACC,QAAQ,EAAE;IACjB,IAAIZ,YAAY;IAChB,MAAMa,KAAK,GAAG,IAAIC,GAAG,EAAE;IAEvBd,YAAY,GAAG,IAAI,CAACO,KAAK,EAAE;IAC3B,OAAOP,YAAY,EAAE;MACpB,MAAMe,cAAc,GAAGF,KAAK,CAACG,GAAG,CAAChB,YAAY,CAAC,IAAI,CAAC;MACnD,IAAIe,cAAc,GAAGtB,iBAAiB,EAAE;QACvC,MAAM,IAAIwB,KAAK,CAAE,qEAAoExB,iBAAkB,EAAC,CAAC;MAC1G;MACAmB,QAAQ,CAACZ,YAAY,CAAC;MACtBa,KAAK,CAACK,GAAG,CAAClB,YAAY,EAAEe,cAAc,GAAG,CAAC,CAAC;MAC3Cf,YAAY,GAAG,IAAI,CAACO,KAAK,EAAE;IAC5B;EACD;AACD;AAEA,eAAeb,WAAW"},"metadata":{},"sourceType":"module"}