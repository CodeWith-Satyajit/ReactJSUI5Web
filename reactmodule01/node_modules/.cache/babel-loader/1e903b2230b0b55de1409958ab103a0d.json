{"ast":null,"code":"import Core from '../Core.js';\nimport CalendarType from '../CalendarType.js';\nimport Locale from '../Locale.js';\nimport LocaleData from '../LocaleData.js';\nimport UniversalDate from '../date/UniversalDate.js';\nimport TimezoneUtil from './TimezoneUtil.js';\nimport deepEqual from '../../../base/util/deepEqual.js';\nimport formatMessage from '../../../base/strings/formatMessage.js';\nimport Log from '../../../base/Log.js';\nimport extend from '../../../base/util/extend.js';\nvar DateFormat = function () {\n  throw new Error();\n};\nvar mDateFormatTypes = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime',\n  DATETIME_WITH_TIMEZONE: 'datetimeWithTimezone'\n};\nvar mCldrDatePattern = {};\nvar checkTimezoneParameterType = function (sTimezone) {\n  if (typeof sTimezone !== 'string' && !(sTimezone instanceof String) && sTimezone != null) {\n    throw new TypeError('The given timezone must be a string.');\n  }\n};\nDateFormat.oDateInfo = {\n  type: mDateFormatTypes.DATE,\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'day',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'yyyy-MM-dd'\n  }, {\n    pattern: 'yyyyMMdd',\n    strictParsing: true\n  }],\n  bShortFallbackFormatOptions: true,\n  bPatternFallbackWithoutDelimiter: true,\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    return oLocaleData.getDatePattern(sStyle, sCalendarType);\n  },\n  oRequiredParts: {\n    'text': true,\n    'year': true,\n    'weekYear': true,\n    'month': true,\n    'day': true\n  },\n  aRelativeScales: ['year', 'month', 'week', 'day'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['Era', 'FullYear', 'Quarter', 'Month', 'Week', 'Date']\n};\nDateFormat.oDateTimeInfo = {\n  type: mDateFormatTypes.DATETIME,\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'auto',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'yyyy-MM-dd\\'T\\'HH:mm:ss'\n  }, {\n    pattern: 'yyyyMMdd HHmmss'\n  }],\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    var iSlashIndex = sStyle.indexOf('/');\n    if (iSlashIndex > 0) {\n      return oLocaleData.getCombinedDateTimePattern(sStyle.substr(0, iSlashIndex), sStyle.substr(iSlashIndex + 1), sCalendarType);\n    } else {\n      return oLocaleData.getCombinedDateTimePattern(sStyle, sStyle, sCalendarType);\n    }\n  },\n  oRequiredParts: {\n    'text': true,\n    'year': true,\n    'weekYear': true,\n    'month': true,\n    'day': true,\n    'hour0_23': true,\n    'hour1_24': true,\n    'hour0_11': true,\n    'hour1_12': true\n  },\n  aRelativeScales: ['year', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['Era', 'FullYear', 'Quarter', 'Month', 'Week', 'Date', 'DayPeriod', 'Hours', 'Minutes', 'Seconds']\n};\nDateFormat._getDateTimeWithTimezoneInfo = function (oFormatOptions) {\n  var bShowDate = oFormatOptions.showDate === undefined || oFormatOptions.showDate;\n  var bShowTime = oFormatOptions.showTime === undefined || oFormatOptions.showTime;\n  var bShowTimezone = oFormatOptions.showTimezone === undefined || oFormatOptions.showTimezone;\n  var oBaselineType = DateFormat.oDateTimeInfo;\n  if (bShowDate && !bShowTime) {\n    oBaselineType = DateFormat.oDateInfo;\n  } else if (!bShowDate && bShowTime) {\n    oBaselineType = DateFormat.oTimeInfo;\n  }\n  return Object.assign({}, oBaselineType, {\n    type: mDateFormatTypes.DATETIME_WITH_TIMEZONE,\n    getTimezonePattern: function (sPattern) {\n      if (!bShowDate && !bShowTime && bShowTimezone) {\n        return 'VV';\n      } else if (!bShowTimezone) {\n        return sPattern;\n      } else {\n        return sPattern + ' VV';\n      }\n    },\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n      if (!bShowDate && !bShowTime && bShowTimezone) {\n        return 'VV';\n      }\n      if (!bShowTimezone) {\n        return oBaselineType.getPattern(oLocaleData, sStyle, sCalendarType);\n      }\n      var sPattern = oBaselineType.getPattern(oLocaleData, sStyle, sCalendarType);\n      return oLocaleData.applyTimezonePattern(sPattern);\n    }\n  });\n};\nDateFormat.oTimeInfo = {\n  type: mDateFormatTypes.TIME,\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'auto',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'HH:mm:ss'\n  }, {\n    pattern: 'HHmmss'\n  }],\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    return oLocaleData.getTimePattern(sStyle, sCalendarType);\n  },\n  oRequiredParts: {\n    'text': true,\n    'hour0_23': true,\n    'hour1_24': true,\n    'hour0_11': true,\n    'hour1_12': true\n  },\n  aRelativeScales: ['hour', 'minute', 'second'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['DayPeriod', 'Hours', 'Minutes', 'Seconds']\n};\nDateFormat.getInstance = function (oFormatOptions, oLocale) {\n  return this.getDateInstance(oFormatOptions, oLocale);\n};\nDateFormat.getDateInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oDateInfo);\n};\nDateFormat.getDateTimeInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oDateTimeInfo);\n};\nDateFormat.getDateTimeWithTimezoneInstance = function (oFormatOptions, oLocale) {\n  if (oFormatOptions && !(oFormatOptions instanceof Locale)) {\n    oFormatOptions = Object.assign({}, oFormatOptions);\n    if (typeof oFormatOptions.showTimezone === 'string') {\n      var sShowTimezone = oFormatOptions.showTimezone;\n      if (oFormatOptions.showDate === undefined && oFormatOptions.showTime === undefined) {\n        if (sShowTimezone === 'Hide') {\n          oFormatOptions.showTimezone = false;\n        } else if (sShowTimezone === 'Only') {\n          oFormatOptions.showDate = false;\n          oFormatOptions.showTime = false;\n        }\n      }\n      oFormatOptions.showTimezone = sShowTimezone !== 'Hide';\n    }\n    if (oFormatOptions.showDate === false && oFormatOptions.showTime === false && oFormatOptions.showTimezone === false) {\n      throw new TypeError('Invalid Configuration. One of the following format options must be true: showDate, showTime or showTimezone.');\n    }\n  }\n  return this.createInstance(oFormatOptions, oLocale, DateFormat._getDateTimeWithTimezoneInfo(oFormatOptions || {}));\n};\nDateFormat.getTimeInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oTimeInfo);\n};\nfunction createIntervalPatternWithNormalConnector(oFormat) {\n  var sPattern = oFormat.oLocaleData.getIntervalPattern('', oFormat.oFormatOptions.calendarType);\n  sPattern = sPattern.replace(/[^\\{\\}01 ]/, '-');\n  return sPattern.replace(/\\{(0|1)\\}/g, oFormat.oFormatOptions.pattern);\n}\nDateFormat.createInstance = function (oFormatOptions, oLocale, oInfo) {\n  var oFormat = Object.create(this.prototype);\n  if (oFormatOptions instanceof Locale) {\n    oLocale = oFormatOptions;\n    oFormatOptions = undefined;\n  }\n  if (!oLocale) {\n    oLocale = Core.getConfiguration().getFormatSettings().getFormatLocale();\n  }\n  oFormat.oLocale = oLocale;\n  oFormat.oLocaleData = LocaleData.getInstance(oLocale);\n  oFormat.oFormatOptions = extend({}, oInfo.oDefaultFormatOptions, oFormatOptions);\n  if (oInfo.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n    oFormat.oFormatOptions.interval = false;\n    oFormat.oFormatOptions.singleIntervalValue = false;\n    oFormat.oFormatOptions.UTC = false;\n  } else {\n    oFormat.oFormatOptions.showTimezone = undefined;\n    oFormat.oFormatOptions.showDate = undefined;\n    oFormat.oFormatOptions.showTime = undefined;\n  }\n  oFormat.type = oInfo.type;\n  if (!oFormat.oFormatOptions.calendarType) {\n    oFormat.oFormatOptions.calendarType = Core.getConfiguration().getCalendarType();\n  }\n  if (!oFormat.oFormatOptions.pattern) {\n    if (oFormat.oFormatOptions.format) {\n      oFormat.oFormatOptions.pattern = oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType);\n    } else {\n      oFormat.oFormatOptions.pattern = oInfo.getPattern(oFormat.oLocaleData, oFormat.oFormatOptions.style, oFormat.oFormatOptions.calendarType);\n    }\n  }\n  if (oFormat.oFormatOptions.interval) {\n    if (oFormat.oFormatOptions.format) {\n      oFormat.intervalPatterns = oFormat.oLocaleData.getCustomIntervalPattern(oFormat.oFormatOptions.format, null, oFormat.oFormatOptions.calendarType);\n      if (typeof oFormat.intervalPatterns === 'string') {\n        oFormat.intervalPatterns = [oFormat.intervalPatterns];\n      }\n      oFormat.intervalPatterns.push(oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType));\n    } else {\n      oFormat.intervalPatterns = [oFormat.oLocaleData.getCombinedIntervalPattern(oFormat.oFormatOptions.pattern, oFormat.oFormatOptions.calendarType), oFormat.oFormatOptions.pattern];\n    }\n    var sCommonConnectorPattern = createIntervalPatternWithNormalConnector(oFormat);\n    oFormat.intervalPatterns.push(sCommonConnectorPattern);\n  }\n  if (!oFormat.oFormatOptions.fallback) {\n    if (!oInfo.oFallbackFormats) {\n      oInfo.oFallbackFormats = {};\n    }\n    var sLocale = oLocale.toString(),\n      sCalendarType = oFormat.oFormatOptions.calendarType,\n      sKey = sLocale + '-' + sCalendarType,\n      sPattern,\n      aFallbackFormatOptions;\n    if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n      sKey = sKey + '-' + oFormat.oFormatOptions.pattern;\n    }\n    if (oFormat.oFormatOptions.interval) {\n      sKey = sKey + '-' + 'interval';\n    }\n    var oFallbackFormats = oInfo.oFallbackFormats[sKey] ? Object.assign({}, oInfo.oFallbackFormats[sKey]) : undefined;\n    if (!oFallbackFormats) {\n      aFallbackFormatOptions = oInfo.aFallbackFormatOptions;\n      if (oInfo.bShortFallbackFormatOptions) {\n        sPattern = oInfo.getPattern(oFormat.oLocaleData, 'short');\n        aFallbackFormatOptions = aFallbackFormatOptions.concat(DateFormat._createFallbackOptionsWithoutDelimiter(sPattern));\n      }\n      if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n        aFallbackFormatOptions = DateFormat._createFallbackOptionsWithoutDelimiter(oFormat.oFormatOptions.pattern).concat(aFallbackFormatOptions);\n      }\n      oFallbackFormats = DateFormat._createFallbackFormat(aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oFormat.oFormatOptions);\n    }\n    oFormat.aFallbackFormats = oFallbackFormats;\n  }\n  oFormat.oRequiredParts = oInfo.oRequiredParts;\n  oFormat.aRelativeScales = oInfo.aRelativeScales;\n  oFormat.aRelativeParseScales = oInfo.aRelativeParseScales;\n  oFormat.aIntervalCompareFields = oInfo.aIntervalCompareFields;\n  oFormat.init();\n  return oFormat;\n};\nDateFormat.prototype.init = function () {\n  var sCalendarType = this.oFormatOptions.calendarType;\n  this.aMonthsAbbrev = this.oLocaleData.getMonths('abbreviated', sCalendarType);\n  this.aMonthsWide = this.oLocaleData.getMonths('wide', sCalendarType);\n  this.aMonthsNarrow = this.oLocaleData.getMonths('narrow', sCalendarType);\n  this.aMonthsAbbrevSt = this.oLocaleData.getMonthsStandAlone('abbreviated', sCalendarType);\n  this.aMonthsWideSt = this.oLocaleData.getMonthsStandAlone('wide', sCalendarType);\n  this.aMonthsNarrowSt = this.oLocaleData.getMonthsStandAlone('narrow', sCalendarType);\n  this.aDaysAbbrev = this.oLocaleData.getDays('abbreviated', sCalendarType);\n  this.aDaysWide = this.oLocaleData.getDays('wide', sCalendarType);\n  this.aDaysNarrow = this.oLocaleData.getDays('narrow', sCalendarType);\n  this.aDaysShort = this.oLocaleData.getDays('short', sCalendarType);\n  this.aDaysAbbrevSt = this.oLocaleData.getDaysStandAlone('abbreviated', sCalendarType);\n  this.aDaysWideSt = this.oLocaleData.getDaysStandAlone('wide', sCalendarType);\n  this.aDaysNarrowSt = this.oLocaleData.getDaysStandAlone('narrow', sCalendarType);\n  this.aDaysShortSt = this.oLocaleData.getDaysStandAlone('short', sCalendarType);\n  this.aQuartersAbbrev = this.oLocaleData.getQuarters('abbreviated', sCalendarType);\n  this.aQuartersWide = this.oLocaleData.getQuarters('wide', sCalendarType);\n  this.aQuartersNarrow = this.oLocaleData.getQuarters('narrow', sCalendarType);\n  this.aQuartersAbbrevSt = this.oLocaleData.getQuartersStandAlone('abbreviated', sCalendarType);\n  this.aQuartersWideSt = this.oLocaleData.getQuartersStandAlone('wide', sCalendarType);\n  this.aQuartersNarrowSt = this.oLocaleData.getQuartersStandAlone('narrow', sCalendarType);\n  this.aErasNarrow = this.oLocaleData.getEras('narrow', sCalendarType);\n  this.aErasAbbrev = this.oLocaleData.getEras('abbreviated', sCalendarType);\n  this.aErasWide = this.oLocaleData.getEras('wide', sCalendarType);\n  this.aDayPeriods = this.oLocaleData.getDayPeriods('abbreviated', sCalendarType);\n  this.aFormatArray = this.parseCldrDatePattern(this.oFormatOptions.pattern);\n  this.sAllowedCharacters = this.getAllowedCharacters(this.aFormatArray);\n};\nDateFormat._createFallbackFormat = function (aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oParentFormatOptions) {\n  return aFallbackFormatOptions.map(function (oOptions) {\n    var oFormatOptions = Object.assign({}, oOptions);\n    oFormatOptions.showDate = oParentFormatOptions.showDate;\n    oFormatOptions.showTime = oParentFormatOptions.showTime;\n    oFormatOptions.showTimezone = oParentFormatOptions.showTimezone;\n    if (typeof oInfo.getTimezonePattern === 'function' && oFormatOptions.pattern) {\n      oFormatOptions.pattern = oInfo.getTimezonePattern(oFormatOptions.pattern);\n    }\n    if (oParentFormatOptions.interval) {\n      oFormatOptions.interval = true;\n    }\n    oFormatOptions.calendarType = sCalendarType;\n    oFormatOptions.fallback = true;\n    var oFallbackFormat = DateFormat.createInstance(oFormatOptions, oLocale, oInfo);\n    oFallbackFormat.bIsFallback = true;\n    return oFallbackFormat;\n  });\n};\nDateFormat._createFallbackOptionsWithoutDelimiter = function (sBasePattern) {\n  var rNonDateFields = /[^dMyGU]/g,\n    oDayReplace = {\n      regex: /d+/g,\n      replace: 'dd'\n    },\n    oMonthReplace = {\n      regex: /M+/g,\n      replace: 'MM'\n    },\n    oYearReplace = {\n      regex: /[yU]+/g,\n      replace: ['yyyy', 'yy']\n    };\n  sBasePattern = sBasePattern.replace(rNonDateFields, '');\n  sBasePattern = sBasePattern.replace(oDayReplace.regex, oDayReplace.replace);\n  sBasePattern = sBasePattern.replace(oMonthReplace.regex, oMonthReplace.replace);\n  return oYearReplace.replace.map(function (sReplace) {\n    return {\n      pattern: sBasePattern.replace(oYearReplace.regex, sReplace),\n      strictParsing: true\n    };\n  });\n};\nvar oParseHelper = {\n  isNumber: function (iCharCode) {\n    return iCharCode >= 48 && iCharCode <= 57;\n  },\n  findNumbers: function (sValue, iMaxLength) {\n    var iLength = 0;\n    while (iLength < iMaxLength && this.isNumber(sValue.charCodeAt(iLength))) {\n      iLength++;\n    }\n    if (typeof sValue !== 'string') {\n      sValue = sValue.toString();\n    }\n    return sValue.substr(0, iLength);\n  },\n  startsWithIgnoreCase: function (sValue, sSubstring, sLocale) {\n    if (sValue.startsWith(sSubstring)) {\n      return true;\n    }\n    try {\n      var sSubToLocaleUpperCase = sSubstring.toLocaleUpperCase(sLocale);\n      var sValueUpperCase = sValue.toLocaleUpperCase(sLocale);\n      if (sSubToLocaleUpperCase.length !== sSubstring.length || sValueUpperCase.length !== sValue.length) {\n        return false;\n      }\n      return sValueUpperCase.startsWith(sSubToLocaleUpperCase);\n    } catch (e) {\n      return false;\n    }\n  },\n  findEntry: function (sValue, aList, sLocale) {\n    var iFoundIndex = -1,\n      iMatchedLength = 0;\n    for (var j = 0; j < aList.length; j++) {\n      if (aList[j] && aList[j].length > iMatchedLength && this.startsWithIgnoreCase(sValue, aList[j], sLocale)) {\n        iFoundIndex = j;\n        iMatchedLength = aList[j].length;\n      }\n    }\n    return {\n      index: iFoundIndex,\n      length: iMatchedLength\n    };\n  },\n  parseTZ: function (sValue, bColonSeparated) {\n    var iLength = 0;\n    var iTZFactor = sValue.charAt(0) == '+' ? -1 : 1;\n    var sPart;\n    iLength++;\n    sPart = this.findNumbers(sValue.substr(iLength), 2);\n    var iTZDiffHour = parseInt(sPart);\n    iLength += 2;\n    if (bColonSeparated) {\n      iLength++;\n    }\n    sPart = this.findNumbers(sValue.substr(iLength), 2);\n    var iTZDiff = 0;\n    if (sPart) {\n      iLength += 2;\n      iTZDiff = parseInt(sPart);\n    }\n    return {\n      length: iLength,\n      tzDiff: (iTZDiff + 60 * iTZDiffHour) * 60 * iTZFactor\n    };\n  },\n  checkValid: function (sType, bPartInvalid, oFormat) {\n    if (sType in oFormat.oRequiredParts && bPartInvalid) {\n      return false;\n    }\n  }\n};\nDateFormat.prototype.oSymbols = {\n  '': {\n    name: 'text',\n    format: function (oField, oDate) {\n      return oField.value;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sChar;\n      var bValid = true;\n      var iValueIndex = 0;\n      var iPatternIndex = 0;\n      var sDelimiter = '-~\\u2010\\u2011\\u2012\\u2013\\u2014\\uFE58\\uFE63\\uFF0D\\uFF5E';\n      for (; iPatternIndex < oPart.value.length; iPatternIndex++) {\n        sChar = oPart.value.charAt(iPatternIndex);\n        if (sChar === ' ') {\n          while (sValue.charAt(iValueIndex) === ' ') {\n            iValueIndex++;\n          }\n        } else if (sDelimiter.includes(sChar)) {\n          if (!sDelimiter.includes(sValue.charAt(iValueIndex))) {\n            bValid = false;\n          }\n          iValueIndex++;\n        } else {\n          if (sValue.charAt(iValueIndex) !== sChar) {\n            bValid = false;\n          }\n          iValueIndex++;\n        }\n        if (!bValid) {\n          break;\n        }\n      }\n      if (bValid) {\n        return {\n          length: iValueIndex\n        };\n      } else {\n        var bPartInvalid = false;\n        if (oConfig.index < oConfig.formatArray.length - 1) {\n          bPartInvalid = oConfig.formatArray[oConfig.index + 1].type in oFormat.oRequiredParts;\n        }\n        return {\n          valid: oParseHelper.checkValid(oPart.type, bPartInvalid, oFormat)\n        };\n      }\n    }\n  },\n  'G': {\n    name: 'era',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iEra = oDate.getUTCEra();\n      if (oField.digits <= 3) {\n        return oFormat.aErasAbbrev[iEra];\n      } else if (oField.digits === 4) {\n        return oFormat.aErasWide[iEra];\n      } else {\n        return oFormat.aErasNarrow[iEra];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aErasVariants = [oFormat.aErasWide, oFormat.aErasAbbrev, oFormat.aErasNarrow];\n      for (var i = 0; i < aErasVariants.length; i++) {\n        var aVariants = aErasVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n        if (oFound.index !== -1) {\n          return {\n            era: oFound.index,\n            length: oFound.length\n          };\n        }\n      }\n      return {\n        era: oFormat.aErasWide.length - 1,\n        valid: oParseHelper.checkValid(oPart.type, true, oFormat)\n      };\n    }\n  },\n  'y': {\n    name: 'year',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iYear = oDate.getUTCFullYear();\n      var sYear = String(iYear);\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      if (oField.digits == 2 && sYear.length > 2) {\n        sYear = sYear.substr(sYear.length - 2);\n      }\n      if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iYear < 100) {\n        sYear = sYear.padStart(4, '0');\n      }\n      return sYear.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      var sPart;\n      if (oPart.digits == 1) {\n        sPart = oParseHelper.findNumbers(sValue, 4);\n      } else if (oPart.digits == 2) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n      } else {\n        sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      }\n      var iYear = parseInt(sPart);\n      if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n        var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType),\n          iCurrentYear = oCurrentDate.getUTCFullYear(),\n          iCurrentCentury = Math.floor(iCurrentYear / 100),\n          iYearDiff = iCurrentCentury * 100 + iYear - iCurrentYear;\n        if (iYearDiff < -70) {\n          iYear += (iCurrentCentury + 1) * 100;\n        } else if (iYearDiff < 30) {\n          iYear += iCurrentCentury * 100;\n        } else {\n          iYear += (iCurrentCentury - 1) * 100;\n        }\n      }\n      return {\n        length: sPart.length,\n        valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n        year: iYear\n      };\n    }\n  },\n  'Y': {\n    name: 'weekYear',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var oWeek = oDate.getUTCWeek();\n      var iWeekYear = oWeek.year;\n      var sWeekYear = String(iWeekYear);\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      if (oField.digits == 2 && sWeekYear.length > 2) {\n        sWeekYear = sWeekYear.substr(sWeekYear.length - 2);\n      }\n      if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iWeekYear < 100) {\n        sWeekYear = sWeekYear.padStart(4, '0');\n      }\n      return sWeekYear.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      var sPart;\n      if (oPart.digits == 1) {\n        sPart = oParseHelper.findNumbers(sValue, 4);\n      } else if (oPart.digits == 2) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n      } else {\n        sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      }\n      var iYear = parseInt(sPart);\n      var iWeekYear = iYear;\n      if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n        var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType),\n          iCurrentYear = oCurrentDate.getUTCFullYear(),\n          iCurrentCentury = Math.floor(iCurrentYear / 100),\n          iYearDiff = iCurrentCentury * 100 + iWeekYear - iCurrentYear;\n        if (iYearDiff < -70) {\n          iWeekYear += (iCurrentCentury + 1) * 100;\n        } else if (iYearDiff < 30) {\n          iWeekYear += iCurrentCentury * 100;\n        } else {\n          iWeekYear += (iCurrentCentury - 1) * 100;\n        }\n      }\n      return {\n        length: sPart.length,\n        valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n        year: iYear,\n        weekYear: iWeekYear\n      };\n    }\n  },\n  'M': {\n    name: 'month',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMonth = oDate.getUTCMonth();\n      if (oField.digits == 3) {\n        return oFormat.aMonthsAbbrev[iMonth];\n      } else if (oField.digits == 4) {\n        return oFormat.aMonthsWide[iMonth];\n      } else if (oField.digits > 4) {\n        return oFormat.aMonthsNarrow[iMonth];\n      } else {\n        return String(iMonth + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aMonthsVariants = [oFormat.aMonthsWide, oFormat.aMonthsWideSt, oFormat.aMonthsAbbrev, oFormat.aMonthsAbbrevSt, oFormat.aMonthsNarrow, oFormat.aMonthsNarrowSt];\n      var bValid;\n      var iMonth;\n      var sPart;\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iMonth = parseInt(sPart) - 1;\n        if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aMonthsVariants.length; i++) {\n          var aVariants = aMonthsVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n          if (oFound.index !== -1) {\n            return {\n              month: oFound.index,\n              length: oFound.length\n            };\n          }\n        }\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n      return {\n        month: iMonth,\n        length: sPart ? sPart.length : 0,\n        valid: bValid\n      };\n    }\n  },\n  'L': {\n    name: 'monthStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMonth = oDate.getUTCMonth();\n      if (oField.digits == 3) {\n        return oFormat.aMonthsAbbrevSt[iMonth];\n      } else if (oField.digits == 4) {\n        return oFormat.aMonthsWideSt[iMonth];\n      } else if (oField.digits > 4) {\n        return oFormat.aMonthsNarrowSt[iMonth];\n      } else {\n        return String(iMonth + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aMonthsVariants = [oFormat.aMonthsWide, oFormat.aMonthsWideSt, oFormat.aMonthsAbbrev, oFormat.aMonthsAbbrevSt, oFormat.aMonthsNarrow, oFormat.aMonthsNarrowSt];\n      var bValid;\n      var iMonth;\n      var sPart;\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iMonth = parseInt(sPart) - 1;\n        if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aMonthsVariants.length; i++) {\n          var aVariants = aMonthsVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n          if (oFound.index !== -1) {\n            return {\n              month: oFound.index,\n              length: oFound.length\n            };\n          }\n        }\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n      return {\n        month: iMonth,\n        length: sPart ? sPart.length : 0,\n        valid: bValid\n      };\n    }\n  },\n  'w': {\n    name: 'weekInYear',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var oWeek = oDate.getUTCWeek();\n      var iWeek = oWeek.week;\n      var sWeek = String(iWeek + 1);\n      if (oField.digits < 3) {\n        sWeek = sWeek.padStart(oField.digits, '0');\n      } else {\n        sWeek = oFormat.oLocaleData.getCalendarWeek(oField.digits === 3 ? 'narrow' : 'wide', sWeek.padStart(2, '0'));\n      }\n      return sWeek;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart;\n      var iWeek;\n      var iLength = 0;\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n        iLength = sPart.length;\n        iWeek = parseInt(sPart) - 1;\n        bValid = oParseHelper.checkValid(oPart.type, !sPart, oFormat);\n      } else {\n        sPart = oFormat.oLocaleData.getCalendarWeek(oPart.digits === 3 ? 'narrow' : 'wide');\n        sPart = sPart.replace('{0}', '([0-9]+)');\n        var rWeekNumber = new RegExp(sPart),\n          oResult = rWeekNumber.exec(sValue);\n        if (oResult) {\n          iLength = oResult[0].length;\n          iWeek = parseInt(oResult[oResult.length - 1]) - 1;\n        } else {\n          bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n        }\n      }\n      return {\n        length: iLength,\n        valid: bValid,\n        week: iWeek\n      };\n    }\n  },\n  'W': {\n    name: 'weekInMonth',\n    format: function (oField, oDate) {\n      return '';\n    },\n    parse: function () {\n      return {};\n    }\n  },\n  'D': {\n    name: 'dayInYear',\n    format: function (oField, oDate) {},\n    parse: function () {\n      return {};\n    }\n  },\n  'd': {\n    name: 'day',\n    format: function (oField, oDate) {\n      var iDate = oDate.getUTCDate();\n      return String(iDate).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      var iDay = parseInt(sPart);\n      if (oConfig.strict && (iDay > 31 || iDay < 1)) {\n        bValid = false;\n      }\n      return {\n        day: iDay,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'Q': {\n    name: 'quarter',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iQuarter = oDate.getUTCQuarter();\n      if (oField.digits == 3) {\n        return oFormat.aQuartersAbbrev[iQuarter];\n      } else if (oField.digits == 4) {\n        return oFormat.aQuartersWide[iQuarter];\n      } else if (oField.digits > 4) {\n        return oFormat.aQuartersNarrow[iQuarter];\n      } else {\n        return String(iQuarter + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var iQuarter;\n      var sPart;\n      var aQuartersVariants = [oFormat.aQuartersWide, oFormat.aQuartersWideSt, oFormat.aQuartersAbbrev, oFormat.aQuartersAbbrevSt, oFormat.aQuartersNarrow, oFormat.aQuartersNarrowSt];\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iQuarter = parseInt(sPart) - 1;\n        if (oConfig.strict && iQuarter > 3) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aQuartersVariants.length; i++) {\n          var aVariants = aQuartersVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n          if (oFound.index !== -1) {\n            return {\n              quarter: oFound.index,\n              length: oFound.length\n            };\n          }\n        }\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n      return {\n        length: sPart ? sPart.length : 0,\n        quarter: iQuarter,\n        valid: bValid\n      };\n    }\n  },\n  'q': {\n    name: 'quarterStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iQuarter = oDate.getUTCQuarter();\n      if (oField.digits == 3) {\n        return oFormat.aQuartersAbbrevSt[iQuarter];\n      } else if (oField.digits == 4) {\n        return oFormat.aQuartersWideSt[iQuarter];\n      } else if (oField.digits > 4) {\n        return oFormat.aQuartersNarrowSt[iQuarter];\n      } else {\n        return String(iQuarter + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var iQuarter;\n      var sPart;\n      var aQuartersVariants = [oFormat.aQuartersWide, oFormat.aQuartersWideSt, oFormat.aQuartersAbbrev, oFormat.aQuartersAbbrevSt, oFormat.aQuartersNarrow, oFormat.aQuartersNarrowSt];\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iQuarter = parseInt(sPart) - 1;\n        if (oConfig.strict && iQuarter > 3) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aQuartersVariants.length; i++) {\n          var aVariants = aQuartersVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n          if (oFound.index !== -1) {\n            return {\n              quarter: oFound.index,\n              length: oFound.length\n            };\n          }\n        }\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n      return {\n        length: sPart ? sPart.length : 0,\n        quarter: iQuarter,\n        valid: bValid\n      };\n    }\n  },\n  'F': {\n    name: 'dayOfWeekInMonth',\n    format: function (oField, oDate, oFormat) {\n      return '';\n    },\n    parse: function () {\n      return {};\n    }\n  },\n  'E': {\n    name: 'dayNameInWeek',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = oDate.getUTCDay();\n      if (oField.digits < 4) {\n        return oFormat.aDaysAbbrev[iDay];\n      } else if (oField.digits == 4) {\n        return oFormat.aDaysWide[iDay];\n      } else if (oField.digits == 5) {\n        return oFormat.aDaysNarrow[iDay];\n      } else {\n        return oFormat.aDaysShort[iDay];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aDaysVariants = [oFormat.aDaysWide, oFormat.aDaysWideSt, oFormat.aDaysAbbrev, oFormat.aDaysAbbrevSt, oFormat.aDaysShort, oFormat.aDaysShortSt, oFormat.aDaysNarrow, oFormat.aDaysNarrowSt];\n      for (var i = 0; i < aDaysVariants.length; i++) {\n        var aVariants = aDaysVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n        if (oFound.index !== -1) {\n          return {\n            dayOfWeek: oFound.index,\n            length: oFound.length\n          };\n        }\n      }\n    }\n  },\n  'c': {\n    name: 'dayNameInWeekStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = oDate.getUTCDay();\n      if (oField.digits < 4) {\n        return oFormat.aDaysAbbrevSt[iDay];\n      } else if (oField.digits == 4) {\n        return oFormat.aDaysWideSt[iDay];\n      } else if (oField.digits == 5) {\n        return oFormat.aDaysNarrowSt[iDay];\n      } else {\n        return oFormat.aDaysShortSt[iDay];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aDaysVariants = [oFormat.aDaysWide, oFormat.aDaysWideSt, oFormat.aDaysAbbrev, oFormat.aDaysAbbrevSt, oFormat.aDaysShort, oFormat.aDaysShortSt, oFormat.aDaysNarrow, oFormat.aDaysNarrowSt];\n      for (var i = 0; i < aDaysVariants.length; i++) {\n        var aVariants = aDaysVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n        if (oFound.index !== -1) {\n          return {\n            day: oFound.index,\n            length: oFound.length\n          };\n        }\n      }\n    }\n  },\n  'u': {\n    name: 'dayNumberOfWeek',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = oDate.getUTCDay();\n      return oFormat._adaptDayOfWeek(iDay);\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      return {\n        dayNumberOfWeek: parseInt(sPart),\n        length: sPart.length\n      };\n    }\n  },\n  'a': {\n    name: 'amPmMarker',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDayPeriod = oDate.getUTCDayPeriod();\n      return oFormat.aDayPeriods[iDayPeriod];\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bPM;\n      var iLength;\n      var sAM = oFormat.aDayPeriods[0],\n        sPM = oFormat.aDayPeriods[1];\n      var rAMPM = /[aApP](?:\\.)?[\\x20\\xA0]?[mM](?:\\.)?/;\n      var aMatch = sValue.match(rAMPM);\n      var bVariant = aMatch && aMatch.index === 0;\n      if (bVariant) {\n        sValue = aMatch[0];\n        sAM = sAM.replace(/[\\x20\\xA0]/g, '');\n        sPM = sPM.replace(/[\\x20\\xA0]/g, '');\n        sValue = sValue.replace(/[\\x20\\xA0]/g, '');\n        sAM = sAM.replace(/\\./g, '').toLowerCase();\n        sPM = sPM.replace(/\\./g, '').toLowerCase();\n        sValue = sValue.replace(/\\./g, '').toLowerCase();\n      }\n      if (sValue.indexOf(sAM) === 0) {\n        bPM = false;\n        iLength = bVariant ? aMatch[0].length : sAM.length;\n      } else if (sValue.indexOf(sPM) === 0) {\n        bPM = true;\n        iLength = bVariant ? aMatch[0].length : sPM.length;\n      }\n      return {\n        pm: bPM,\n        length: iLength\n      };\n    }\n  },\n  'H': {\n    name: 'hour0_23',\n    format: function (oField, oDate) {\n      var iHours = oDate.getUTCHours();\n      return String(iHours).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (oConfig.strict && iHours > 23) {\n        bValid = false;\n      }\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'k': {\n    name: 'hour1_24',\n    format: function (oField, oDate) {\n      var iHours = oDate.getUTCHours();\n      var sHours = iHours === 0 ? '24' : String(iHours);\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (iHours == 24) {\n        iHours = 0;\n      }\n      if (oConfig.strict && iHours > 23) {\n        bValid = false;\n      }\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'K': {\n    name: 'hour0_11',\n    format: function (oField, oDate) {\n      var iHours = oDate.getUTCHours();\n      var sHours = String(iHours > 11 ? iHours - 12 : iHours);\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (oConfig.strict && iHours > 11) {\n        bValid = false;\n      }\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'h': {\n    name: 'hour1_12',\n    format: function (oField, oDate) {\n      var iHours = oDate.getUTCHours();\n      var sHours;\n      if (iHours > 12) {\n        sHours = String(iHours - 12);\n      } else if (iHours == 0) {\n        sHours = '12';\n      } else {\n        sHours = String(iHours);\n      }\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bPM = oConfig.dateValue.pm;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (iHours == 12) {\n        iHours = 0;\n        bPM = bPM === undefined ? true : bPM;\n      }\n      if (oConfig.strict && iHours > 11) {\n        bValid = false;\n      }\n      return {\n        hour: iHours,\n        length: sPart.length,\n        pm: bPM,\n        valid: bValid\n      };\n    }\n  },\n  'm': {\n    name: 'minute',\n    format: function (oField, oDate) {\n      var iMinutes = oDate.getUTCMinutes();\n      return String(iMinutes).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iMinutes = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (oConfig.strict && iMinutes > 59) {\n        bValid = false;\n      }\n      return {\n        length: sPart.length,\n        minute: iMinutes,\n        valid: bValid\n      };\n    }\n  },\n  's': {\n    name: 'second',\n    format: function (oField, oDate) {\n      var iSeconds = oDate.getUTCSeconds();\n      return String(iSeconds).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iSeconds = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      if (oConfig.strict && iSeconds > 59) {\n        bValid = false;\n      }\n      return {\n        length: sPart.length,\n        second: iSeconds,\n        valid: bValid\n      };\n    }\n  },\n  'S': {\n    name: 'fractionalsecond',\n    format: function (oField, oDate) {\n      var iMilliseconds = oDate.getUTCMilliseconds();\n      var sMilliseconds = String(iMilliseconds);\n      var sFractionalseconds = sMilliseconds.padStart(3, '0');\n      sFractionalseconds = sFractionalseconds.substr(0, oField.digits);\n      sFractionalseconds = sFractionalseconds.padEnd(oField.digits, '0');\n      return sFractionalseconds;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      var iLength = sPart.length;\n      sPart = sPart.substr(0, 3);\n      sPart = sPart.padEnd(3, '0');\n      var iMilliseconds = parseInt(sPart);\n      return {\n        length: iLength,\n        millisecond: iMilliseconds\n      };\n    }\n  },\n  'z': {\n    name: 'timezoneGeneral',\n    format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n      if (oField.digits > 3 && oDate.getTimezoneLong && oDate.getTimezoneLong()) {\n        return oDate.getTimezoneLong();\n      } else if (oDate.getTimezoneShort && oDate.getTimezoneShort()) {\n        return oDate.getTimezoneShort();\n      }\n      var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n      var sTimeZone = 'GMT';\n      var iTZOffset = Math.abs(iTimezoneOffset / 60);\n      var bPositiveOffset = iTimezoneOffset > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = Math.floor(iTZOffset % 60);\n      if (!bUTC && iTZOffset != 0) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n        sTimeZone += ':';\n        sTimeZone += String(iMinuteOffset).padStart(2, '0');\n      } else {\n        sTimeZone += 'Z';\n      }\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var iLength = 0;\n      var iTZDiff;\n      var oTZ = sValue.substring(0, 3);\n      if (oTZ === 'GMT' || oTZ === 'UTC') {\n        iLength = 3;\n      } else if (sValue.substring(0, 2) === 'UT') {\n        iLength = 2;\n      } else if (sValue.charAt(0) === 'Z') {\n        iLength = 1;\n        iTZDiff = 0;\n      } else {\n        return {\n          error: 'cannot be parsed correctly by sap.ui.core.format.DateFormat: The given timezone is not supported!'\n        };\n      }\n      if (sValue.charAt(0) !== 'Z') {\n        var oParsedTZ = oParseHelper.parseTZ(sValue.substr(iLength), true);\n        iLength += oParsedTZ.length;\n        iTZDiff = oParsedTZ.tzDiff;\n      }\n      return {\n        length: iLength,\n        tzDiff: iTZDiff\n      };\n    }\n  },\n  'Z': {\n    name: 'timezoneRFC822',\n    format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n      var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n      var iTZOffset = Math.abs(iTimezoneOffset / 60);\n      var bPositiveOffset = iTimezoneOffset > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = Math.floor(iTZOffset % 60);\n      var sTimeZone = '';\n      if (!bUTC) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n        sTimeZone += String(iMinuteOffset).padStart(2, '0');\n      }\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      return oParseHelper.parseTZ(sValue, false);\n    }\n  },\n  'X': {\n    name: 'timezoneISO8601',\n    format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n      var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n      var iTZOffset = Math.abs(iTimezoneOffset / 60);\n      var bPositiveOffset = iTimezoneOffset > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = Math.floor(iTZOffset % 60);\n      var sTimeZone = '';\n      if (!bUTC && iTZOffset != 0) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n        if (oField.digits > 1 || iMinuteOffset > 0) {\n          if (oField.digits === 3 || oField.digits === 5) {\n            sTimeZone += ':';\n          }\n          sTimeZone += String(iMinuteOffset).padStart(2, '0');\n        }\n      } else {\n        sTimeZone += 'Z';\n      }\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      if (sValue.charAt(0) === 'Z') {\n        return {\n          length: 1,\n          tzDiff: 0\n        };\n      } else {\n        return oParseHelper.parseTZ(sValue, oPart.digits === 3 || oPart.digits === 5);\n      }\n    }\n  },\n  'V': {\n    name: 'timezoneID',\n    format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n      if (!bUTC && oField.digits === 2) {\n        return sTimezone;\n      }\n      return '';\n    },\n    parse: function (sValue, oPart, oFormat, oConfig, sTimezone) {\n      var oTimezoneParsed = {\n        timezone: '',\n        length: 0\n      };\n      if (oPart.digits === 2) {\n        if (sValue === sTimezone) {\n          oTimezoneParsed.timezone = sTimezone;\n          oTimezoneParsed.length = sTimezone.length;\n          return oTimezoneParsed;\n        }\n        if (sValue) {\n          var rIanaTimezone = new RegExp('([A-Za-z_])+([/][A-Za-z_]+)+');\n          var aResult = rIanaTimezone.exec(sValue);\n          if (aResult && aResult[0] && TimezoneUtil.isValidTimezone(aResult[0])) {\n            oTimezoneParsed.timezone = aResult[0];\n            oTimezoneParsed.length = aResult[0].length;\n            return oTimezoneParsed;\n          }\n        }\n      }\n      return oTimezoneParsed;\n    }\n  }\n};\nDateFormat.prototype._format = function (oJSDate, bUTC, sTimezone) {\n  if (this.oFormatOptions.relative) {\n    var sRes = this.formatRelative(oJSDate, bUTC, this.oFormatOptions.relativeRange, sTimezone);\n    if (sRes) {\n      return sRes;\n    }\n  }\n  var sCalendarType = this.oFormatOptions.calendarType;\n  var oDate = UniversalDate.getInstance(oJSDate, sCalendarType);\n  var aBuffer = [],\n    oPart,\n    sResult,\n    sSymbol;\n  for (var i = 0; i < this.aFormatArray.length; i++) {\n    oPart = this.aFormatArray[i];\n    sSymbol = oPart.symbol || '';\n    aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this, sTimezone));\n  }\n  sResult = aBuffer.join('');\n  if (Core.getConfiguration().getOriginInfo()) {\n    sResult = new String(sResult);\n    sResult.originInfo = {\n      source: 'Common Locale Data Repository',\n      locale: this.oLocale.toString(),\n      style: this.oFormatOptions.style,\n      pattern: this.oFormatOptions.pattern\n    };\n  }\n  return sResult;\n};\nDateFormat.prototype.format = function (vJSDate, bUTC) {\n  var sTimezone;\n  if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n    sTimezone = bUTC;\n    bUTC = false;\n    checkTimezoneParameterType(sTimezone);\n    if (sTimezone && !TimezoneUtil.isValidTimezone(sTimezone)) {\n      Log.error('The given timezone isn\\'t valid.');\n      return '';\n    }\n  }\n  var sCalendarType = this.oFormatOptions.calendarType,\n    sResult;\n  if (bUTC === undefined) {\n    bUTC = this.oFormatOptions.UTC;\n  }\n  sTimezone = sTimezone || Core.getConfiguration().getTimezone();\n  if (Array.isArray(vJSDate)) {\n    if (!this.oFormatOptions.interval) {\n      Log.error('Non-interval DateFormat can\\'t format more than one date instance.');\n      return '';\n    }\n    if (vJSDate.length !== 2) {\n      Log.error('Interval DateFormat can only format with 2 date instances but ' + vJSDate.length + ' is given.');\n      return '';\n    }\n    vJSDate = vJSDate.map(function (oJSDate) {\n      return convertToTimezone(oJSDate, sTimezone, bUTC);\n    });\n    if (this.oFormatOptions.singleIntervalValue) {\n      if (vJSDate[0] === null) {\n        Log.error('First date instance which is passed to the interval DateFormat shouldn\\'t be null.');\n        return '';\n      }\n      if (vJSDate[1] === null) {\n        sResult = this._format(vJSDate[0], bUTC, sTimezone);\n      }\n    }\n    if (sResult === undefined) {\n      if (!vJSDate.every(isValidDateObject)) {\n        Log.error('At least one date instance which is passed to the interval DateFormat isn\\'t valid.');\n        return '';\n      }\n      sResult = this._formatInterval(vJSDate, bUTC);\n    }\n  } else {\n    if (!isValidDateObject(vJSDate)) {\n      if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE && this.oFormatOptions.pattern.includes('VV')) {\n        return sTimezone;\n      }\n      Log.error('The given date instance isn\\'t valid.');\n      return '';\n    }\n    if (this.oFormatOptions.interval) {\n      Log.error('Interval DateFormat expects an array with two dates for the first argument but only one date is given.');\n      return '';\n    }\n    vJSDate = convertToTimezone(vJSDate, sTimezone, bUTC);\n    sResult = this._format(vJSDate, bUTC, sTimezone);\n  }\n  if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n    sResult = sResult.replace(/(^|[^\\d])1年/g, '$1元年');\n  }\n  return sResult;\n};\nDateFormat.prototype._formatInterval = function (aJSDates, bUTC) {\n  var sCalendarType = this.oFormatOptions.calendarType;\n  var oFromDate = UniversalDate.getInstance(aJSDates[0], sCalendarType);\n  var oToDate = UniversalDate.getInstance(aJSDates[1], sCalendarType);\n  var oDate;\n  var oPart;\n  var sSymbol;\n  var aBuffer = [];\n  var sPattern;\n  var aFormatArray = [];\n  var oDiffField = this._getGreatestDiffField([oFromDate, oToDate]);\n  if (!oDiffField) {\n    return this._format(aJSDates[0], bUTC);\n  }\n  if (this.oFormatOptions.format) {\n    sPattern = this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format, oDiffField, sCalendarType);\n  } else {\n    sPattern = this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern, sCalendarType);\n  }\n  aFormatArray = this.parseCldrDatePattern(sPattern);\n  oDate = oFromDate;\n  for (var i = 0; i < aFormatArray.length; i++) {\n    oPart = aFormatArray[i];\n    sSymbol = oPart.symbol || '';\n    if (oPart.repeat) {\n      oDate = oToDate;\n    }\n    aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n  }\n  return aBuffer.join('');\n};\nvar mFieldToGroup = {\n  Era: 'Era',\n  FullYear: 'Year',\n  Quarter: 'Quarter',\n  Month: 'Month',\n  Week: 'Week',\n  Date: 'Day',\n  DayPeriod: 'DayPeriod',\n  Hours: 'Hour',\n  Minutes: 'Minute',\n  Seconds: 'Second'\n};\nDateFormat.prototype._getGreatestDiffField = function (aDates) {\n  var bDiffFound = false,\n    mDiff = {};\n  this.aIntervalCompareFields.forEach(function (sField) {\n    var sGetterPrefix = 'getUTC',\n      sMethodName = sGetterPrefix + sField,\n      sFieldGroup = mFieldToGroup[sField],\n      vFromValue = aDates[0][sMethodName].apply(aDates[0]),\n      vToValue = aDates[1][sMethodName].apply(aDates[1]);\n    if (!deepEqual(vFromValue, vToValue)) {\n      bDiffFound = true;\n      mDiff[sFieldGroup] = true;\n    }\n  });\n  if (bDiffFound) {\n    return mDiff;\n  }\n  return null;\n};\nDateFormat.prototype._parse = function (sValue, aFormatArray, bUTC, bStrict, sTimezone) {\n  var iIndex = 0,\n    oPart,\n    sSubValue,\n    oResult;\n  var oDateValue = {\n    valid: true,\n    lastTimezonePatternSymbol: ''\n  };\n  var oParseConf = {\n    formatArray: aFormatArray,\n    dateValue: oDateValue,\n    strict: bStrict\n  };\n  for (var i = 0; i < aFormatArray.length; i++) {\n    sSubValue = sValue.substr(iIndex);\n    oPart = aFormatArray[i];\n    oParseConf.index = i;\n    oResult = this.oSymbols[oPart.symbol || ''].parse(sSubValue, oPart, this, oParseConf, sTimezone) || {};\n    if (oResult.tzDiff !== undefined || oResult.timezone) {\n      oResult.lastTimezonePatternSymbol = oPart.symbol;\n    }\n    oDateValue = extend(oDateValue, oResult);\n    if (oResult.valid === false) {\n      break;\n    }\n    iIndex += oResult.length || 0;\n  }\n  oDateValue.index = iIndex;\n  if (oDateValue.pm) {\n    oDateValue.hour += 12;\n  }\n  if (oDateValue.dayNumberOfWeek === undefined && oDateValue.dayOfWeek !== undefined) {\n    oDateValue.dayNumberOfWeek = this._adaptDayOfWeek(oDateValue.dayOfWeek);\n  }\n  if (oDateValue.quarter !== undefined && oDateValue.month === undefined && oDateValue.day === undefined) {\n    oDateValue.month = 3 * oDateValue.quarter;\n    oDateValue.day = 1;\n  }\n  return oDateValue;\n};\nDateFormat.prototype._parseInterval = function (sValue, sCalendarType, bUTC, bStrict, sTimezone) {\n  var aDateValues, iRepeat, oDateValue;\n  this.intervalPatterns.some(function (sPattern) {\n    var aFormatArray = this.parseCldrDatePattern(sPattern);\n    iRepeat = undefined;\n    for (var i = 0; i < aFormatArray.length; i++) {\n      if (aFormatArray[i].repeat) {\n        iRepeat = i;\n        break;\n      }\n    }\n    if (iRepeat === undefined) {\n      oDateValue = this._parse(sValue, aFormatArray, bUTC, bStrict, sTimezone);\n      if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n        oDateValue.valid = false;\n      }\n      if (oDateValue.valid === false) {\n        return;\n      }\n      aDateValues = [oDateValue, oDateValue];\n      return true;\n    } else {\n      aDateValues = [];\n      oDateValue = this._parse(sValue, aFormatArray.slice(0, iRepeat), bUTC, bStrict, sTimezone);\n      if (oDateValue.valid === false) {\n        return;\n      }\n      aDateValues.push(oDateValue);\n      var iLength = oDateValue.index;\n      oDateValue = this._parse(sValue.substring(iLength), aFormatArray.slice(iRepeat), bUTC, bStrict, sTimezone);\n      if (oDateValue.index === 0 || oDateValue.index + iLength < sValue.length) {\n        oDateValue.valid = false;\n      }\n      if (oDateValue.valid === false) {\n        return;\n      }\n      aDateValues.push(oDateValue);\n      return true;\n    }\n  }.bind(this));\n  return aDateValues;\n};\nvar convertToTimezone = function (oJSDate, sTimezone, bUTC) {\n  if (!bUTC && isValidDateObject(oJSDate)) {\n    return TimezoneUtil.convertToTimezone(oJSDate, sTimezone);\n  }\n  return oJSDate;\n};\nvar fnCreateDate = function (oDateValue, sCalendarType, bUTC, bStrict, sTimezone) {\n  if (!oDateValue.valid) {\n    return null;\n  }\n  var oDate,\n    iYear = typeof oDateValue.year === 'number' ? oDateValue.year : 1970;\n  oDate = UniversalDate.getInstance(new Date(0), sCalendarType);\n  oDate.setUTCEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n  oDate.setUTCFullYear(iYear);\n  oDate.setUTCMonth(oDateValue.month || 0);\n  oDate.setUTCDate(oDateValue.day || 1);\n  oDate.setUTCHours(oDateValue.hour || 0);\n  oDate.setUTCMinutes(oDateValue.minute || 0);\n  oDate.setUTCSeconds(oDateValue.second || 0);\n  oDate.setUTCMilliseconds(oDateValue.millisecond || 0);\n  if (bStrict && (oDateValue.day || 1) !== oDate.getUTCDate()) {\n    return null;\n  }\n  if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n    oDate.setUTCWeek({\n      year: oDateValue.weekYear || oDateValue.year,\n      week: oDateValue.week\n    });\n    if (oDateValue.dayNumberOfWeek !== undefined) {\n      oDate.setUTCDate(oDate.getUTCDate() + oDateValue.dayNumberOfWeek - 1);\n    }\n  }\n  oDate = oDate.getJSDate();\n  if (!bUTC && (oDateValue.lastTimezonePatternSymbol === 'V' && oDateValue.timezone || oDateValue.tzDiff === undefined)) {\n    if (oDateValue.timezone) {\n      sTimezone = oDateValue.timezone;\n    }\n    if (sTimezone) {\n      oDateValue.tzDiff = TimezoneUtil.calculateOffset(oDate, sTimezone);\n    }\n  }\n  if (oDateValue.tzDiff) {\n    oDate.setUTCSeconds((oDateValue.second || 0) + oDateValue.tzDiff);\n  }\n  return oDate;\n};\nfunction mergeWithoutOverwrite(object1, object2) {\n  if (object1 === object2) {\n    return object1;\n  }\n  var oMergedObject = {};\n  Object.keys(object1).forEach(function (sKey) {\n    oMergedObject[sKey] = object1[sKey];\n  });\n  Object.keys(object2).forEach(function (sKey) {\n    if (!oMergedObject.hasOwnProperty(sKey)) {\n      oMergedObject[sKey] = object2[sKey];\n    }\n  });\n  return oMergedObject;\n}\nfunction isValidDateRange(oStartDate, oEndDate) {\n  if (oStartDate.getTime() > oEndDate.getTime()) {\n    return false;\n  }\n  return true;\n}\nfunction isValidDateObject(oDate) {\n  return oDate && typeof oDate.getTime === 'function' && !isNaN(oDate.getTime());\n}\nDateFormat.prototype.parse = function (sValue, bUTC, bStrict) {\n  var bShowDate = this.oFormatOptions.showDate === undefined || this.oFormatOptions.showDate;\n  var bShowTime = this.oFormatOptions.showTime === undefined || this.oFormatOptions.showTime;\n  if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE && (bShowDate && !bShowTime || !bShowDate && bShowTime)) {\n    throw new TypeError('The input can only be parsed back to date if both date and time are supplied.');\n  }\n  var sTimezone;\n  if (bUTC === undefined && this.type !== mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n    bUTC = this.oFormatOptions.UTC;\n  }\n  var bUTCInputParameter = bUTC;\n  if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n    sTimezone = bUTC;\n    bUTC = false;\n    checkTimezoneParameterType(sTimezone);\n    if (sTimezone && !TimezoneUtil.isValidTimezone(sTimezone)) {\n      Log.error('The given timezone isn\\'t valid.');\n      return null;\n    }\n  }\n  sValue = sValue == null ? '' : String(sValue).trim();\n  var oDateValue;\n  var sCalendarType = this.oFormatOptions.calendarType;\n  sTimezone = sTimezone || Core.getConfiguration().getTimezone();\n  if (bStrict === undefined) {\n    bStrict = this.oFormatOptions.strictParsing;\n  }\n  if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n    sValue = sValue.replace(/元年/g, '1年');\n  }\n  if (!this.oFormatOptions.interval) {\n    var oJSDate = this.parseRelative(sValue, bUTC);\n    if (oJSDate) {\n      return oJSDate;\n    }\n    oDateValue = this._parse(sValue, this.aFormatArray, bUTC, bStrict, sTimezone);\n    if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n      oDateValue.valid = false;\n    }\n    oJSDate = fnCreateDate(oDateValue, sCalendarType, bUTC, bStrict, sTimezone);\n    if (oJSDate) {\n      if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n        var bShowTimezone = this.oFormatOptions.showTimezone === undefined || this.oFormatOptions.showTimezone;\n        if (!bShowTimezone && bShowDate && bShowTime) {\n          return [oJSDate, undefined];\n        } else if (bShowTimezone && !bShowDate && !bShowTime) {\n          return [undefined, oDateValue.timezone];\n        }\n        return [oJSDate, oDateValue.timezone || undefined];\n      }\n      return oJSDate;\n    }\n  } else {\n    var aDateValues = this._parseInterval(sValue, sCalendarType, bUTC, bStrict, sTimezone);\n    var oJSDate1, oJSDate2;\n    if (aDateValues && aDateValues.length == 2) {\n      var oDateValue1 = mergeWithoutOverwrite(aDateValues[0], aDateValues[1]);\n      var oDateValue2 = mergeWithoutOverwrite(aDateValues[1], aDateValues[0]);\n      oJSDate1 = fnCreateDate(oDateValue1, sCalendarType, bUTC, bStrict, sTimezone);\n      oJSDate2 = fnCreateDate(oDateValue2, sCalendarType, bUTC, bStrict, sTimezone);\n      if (oJSDate1 && oJSDate2) {\n        if (this.oFormatOptions.singleIntervalValue && oJSDate1.getTime() === oJSDate2.getTime()) {\n          return [oJSDate1, null];\n        }\n        var bValid = isValidDateRange(oJSDate1, oJSDate2);\n        if (bStrict && !bValid) {\n          Log.error('StrictParsing: Invalid date range. The given end date is before the start date.');\n          return [null, null];\n        }\n        return [oJSDate1, oJSDate2];\n      }\n    }\n  }\n  if (!this.bIsFallback) {\n    var vDate;\n    this.aFallbackFormats.every(function (oFallbackFormat) {\n      vDate = oFallbackFormat.parse(sValue, bUTCInputParameter, bStrict);\n      if (Array.isArray(vDate)) {\n        if (oFallbackFormat.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n          return false;\n        }\n        return !(vDate[0] && vDate[1]);\n      } else {\n        return !vDate;\n      }\n    });\n    return vDate;\n  }\n  if (!this.oFormatOptions.interval) {\n    return null;\n  } else {\n    return [null, null];\n  }\n};\nDateFormat.prototype.parseCldrDatePattern = function (sPattern) {\n  if (mCldrDatePattern[sPattern]) {\n    return mCldrDatePattern[sPattern];\n  }\n  var aFormatArray = [],\n    i,\n    bQuoted = false,\n    oCurrentObject = null,\n    sState = '',\n    sNewState = '',\n    mAppeared = {},\n    bIntervalStartFound = false;\n  for (i = 0; i < sPattern.length; i++) {\n    var sCurChar = sPattern.charAt(i),\n      sNextChar,\n      sPrevChar,\n      sPrevPrevChar;\n    if (bQuoted) {\n      if (sCurChar == '\\'') {\n        sPrevChar = sPattern.charAt(i - 1);\n        sPrevPrevChar = sPattern.charAt(i - 2);\n        sNextChar = sPattern.charAt(i + 1);\n        if (sPrevChar == '\\'' && sPrevPrevChar != '\\'') {\n          bQuoted = false;\n        } else if (sNextChar == '\\'') {\n          i += 1;\n        } else {\n          bQuoted = false;\n          continue;\n        }\n      }\n      if (sState == 'text') {\n        oCurrentObject.value += sCurChar;\n      } else {\n        oCurrentObject = {\n          type: 'text',\n          value: sCurChar\n        };\n        aFormatArray.push(oCurrentObject);\n        sState = 'text';\n      }\n    } else {\n      if (sCurChar == '\\'') {\n        bQuoted = true;\n      } else if (this.oSymbols[sCurChar]) {\n        sNewState = this.oSymbols[sCurChar].name;\n        if (sState == sNewState) {\n          oCurrentObject.digits++;\n        } else {\n          oCurrentObject = {\n            type: sNewState,\n            symbol: sCurChar,\n            digits: 1\n          };\n          aFormatArray.push(oCurrentObject);\n          sState = sNewState;\n          if (!bIntervalStartFound) {\n            if (mAppeared[sNewState]) {\n              oCurrentObject.repeat = true;\n              bIntervalStartFound = true;\n            } else {\n              mAppeared[sNewState] = true;\n            }\n          }\n        }\n      } else {\n        if (sState == 'text') {\n          oCurrentObject.value += sCurChar;\n        } else {\n          oCurrentObject = {\n            type: 'text',\n            value: sCurChar\n          };\n          aFormatArray.push(oCurrentObject);\n          sState = 'text';\n        }\n      }\n    }\n  }\n  mCldrDatePattern[sPattern] = aFormatArray;\n  return aFormatArray;\n};\nDateFormat.prototype.parseRelative = function (sValue, bUTC) {\n  var aPatterns, oEntry, rPattern, oResult, iValue;\n  if (!sValue) {\n    return null;\n  }\n  aPatterns = this.oLocaleData.getRelativePatterns(this.aRelativeParseScales, this.oFormatOptions.relativeStyle);\n  for (var i = 0; i < aPatterns.length; i++) {\n    oEntry = aPatterns[i];\n    rPattern = new RegExp('^\\\\s*' + oEntry.pattern.replace(/\\{0\\}/, '(\\\\d+)') + '\\\\s*$', 'i');\n    oResult = rPattern.exec(sValue);\n    if (oResult) {\n      if (oEntry.value !== undefined) {\n        return computeRelativeDate(oEntry.value, oEntry.scale);\n      } else {\n        iValue = parseInt(oResult[1]);\n        return computeRelativeDate(iValue * oEntry.sign, oEntry.scale);\n      }\n    }\n  }\n  function computeRelativeDate(iDiff, sScale) {\n    var iToday,\n      oToday = new Date(),\n      oJSDate;\n    if (bUTC) {\n      iToday = oToday.getTime();\n    } else {\n      iToday = Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate(), oToday.getHours(), oToday.getMinutes(), oToday.getSeconds(), oToday.getMilliseconds());\n    }\n    oJSDate = new Date(iToday);\n    switch (sScale) {\n      case 'second':\n        oJSDate.setUTCSeconds(oJSDate.getUTCSeconds() + iDiff);\n        break;\n      case 'minute':\n        oJSDate.setUTCMinutes(oJSDate.getUTCMinutes() + iDiff);\n        break;\n      case 'hour':\n        oJSDate.setUTCHours(oJSDate.getUTCHours() + iDiff);\n        break;\n      case 'day':\n        oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff);\n        break;\n      case 'week':\n        oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff * 7);\n        break;\n      case 'month':\n        oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff);\n        break;\n      case 'quarter':\n        oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff * 3);\n        break;\n      case 'year':\n        oJSDate.setUTCFullYear(oJSDate.getUTCFullYear() + iDiff);\n        break;\n    }\n    if (bUTC) {\n      return oJSDate;\n    } else {\n      return new Date(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate(), oJSDate.getUTCHours(), oJSDate.getUTCMinutes(), oJSDate.getUTCSeconds(), oJSDate.getUTCMilliseconds());\n    }\n  }\n};\nDateFormat.prototype.formatRelative = function (oJSDate, bUTC, aRange, sTimezone) {\n  var oToday = convertToTimezone(new Date(), sTimezone),\n    oDateUTC,\n    sScale = this.oFormatOptions.relativeScale || 'day',\n    iDiff,\n    sPattern,\n    iDiffSeconds;\n  iDiffSeconds = (oJSDate.getTime() - oToday.getTime()) / 1000;\n  if (this.oFormatOptions.relativeScale == 'auto') {\n    sScale = this._getScale(iDiffSeconds, this.aRelativeScales);\n    sScale = fixScaleForMonths(oJSDate, oToday, sScale, iDiffSeconds);\n  }\n  if (!aRange) {\n    aRange = this._mRanges[sScale];\n  }\n  if (sScale == 'year' || sScale == 'month' || sScale == 'day') {\n    oToday = new Date(Date.UTC(oToday.getUTCFullYear(), oToday.getUTCMonth(), oToday.getUTCDate()));\n    oDateUTC = new Date(0);\n    oDateUTC.setUTCFullYear(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate());\n    oJSDate = oDateUTC;\n  }\n  iDiff = this._getDifference(sScale, [oToday, oJSDate]);\n  if (this.oFormatOptions.relativeScale != 'auto' && (iDiff < aRange[0] || iDiff > aRange[1])) {\n    return null;\n  }\n  sPattern = this.oLocaleData.getRelativePattern(sScale, iDiff, iDiffSeconds > 0, this.oFormatOptions.relativeStyle);\n  return formatMessage(sPattern, [Math.abs(iDiff)]);\n};\nDateFormat.prototype._mRanges = {\n  second: [-60, 60],\n  minute: [-60, 60],\n  hour: [-24, 24],\n  day: [-6, 6],\n  week: [-4, 4],\n  month: [-12, 12],\n  year: [-10, 10]\n};\nDateFormat.prototype._mScales = {\n  second: 1,\n  minute: 60,\n  hour: 3600,\n  day: 86400,\n  week: 604800,\n  month: 2592000,\n  quarter: 7776000,\n  year: 31536000\n};\nDateFormat.prototype._getScale = function (iDiffSeconds, aScales) {\n  var sScale, sTestScale;\n  iDiffSeconds = Math.abs(iDiffSeconds);\n  for (var i = 0; i < aScales.length; i++) {\n    sTestScale = aScales[i];\n    if (iDiffSeconds >= this._mScales[sTestScale]) {\n      sScale = sTestScale;\n      break;\n    }\n  }\n  if (!sScale) {\n    sScale = aScales[aScales.length - 1];\n  }\n  return sScale;\n};\nfunction fixScaleForMonths(oJSDate, oToday, sScale, iDiffSeconds) {\n  var iMonthDiff = Math.abs(oJSDate.getUTCMonth() - oToday.getUTCMonth());\n  if (sScale === 'week' && iMonthDiff === 2) {\n    return 'month';\n  } else if (sScale === 'week' && iMonthDiff === 1) {\n    if (oJSDate.getUTCDate() === oToday.getUTCDate() || iDiffSeconds < 0 && oJSDate.getUTCDate() < oToday.getUTCDate() || iDiffSeconds > 0 && oJSDate.getUTCDate() > oToday.getUTCDate()) {\n      return 'month';\n    }\n  } else if (sScale === 'month' && iMonthDiff === 1) {\n    if (iDiffSeconds > 0 && oJSDate.getUTCDate() < oToday.getUTCDate() || iDiffSeconds < 0 && oJSDate.getUTCDate() > oToday.getUTCDate()) {\n      return 'week';\n    }\n  }\n  return sScale;\n}\nfunction cutDateFields(oDate, iStartIndex) {\n  var aFields = ['FullYear', 'Month', 'Date', 'Hours', 'Minutes', 'Seconds', 'Milliseconds'],\n    sMethodName;\n  var oDateCopy = new Date(oDate.getTime());\n  for (var i = iStartIndex; i < aFields.length; i++) {\n    sMethodName = 'setUTC' + aFields[iStartIndex];\n    oDateCopy[sMethodName].apply(oDateCopy, [0]);\n  }\n  return oDateCopy;\n}\nvar mRelativeDiffs = {\n  year: function (oFromDate, oToDate) {\n    return oToDate.getUTCFullYear() - oFromDate.getUTCFullYear();\n  },\n  month: function (oFromDate, oToDate) {\n    return oToDate.getUTCMonth() - oFromDate.getUTCMonth() + this.year(oFromDate, oToDate) * 12;\n  },\n  week: function (oFromDate, oToDate, oFormat) {\n    var iFromDay = oFormat._adaptDayOfWeek(oFromDate.getUTCDay());\n    var iToDay = oFormat._adaptDayOfWeek(oToDate.getUTCDay());\n    oFromDate = cutDateFields(oFromDate, 3);\n    oToDate = cutDateFields(oToDate, 3);\n    return (oToDate.getTime() - oFromDate.getTime() - (iToDay - iFromDay) * oFormat._mScales.day * 1000) / (oFormat._mScales.week * 1000);\n  },\n  day: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 3);\n    oToDate = cutDateFields(oToDate, 3);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.day * 1000);\n  },\n  hour: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 4);\n    oToDate = cutDateFields(oToDate, 4);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.hour * 1000);\n  },\n  minute: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 5);\n    oToDate = cutDateFields(oToDate, 5);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.minute * 1000);\n  },\n  second: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 6);\n    oToDate = cutDateFields(oToDate, 6);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.second * 1000);\n  }\n};\nDateFormat.prototype._adaptDayOfWeek = function (iDayOfWeek) {\n  var iFirstDayOfWeek = LocaleData.getInstance(Core.getConfiguration().getFormatSettings().getFormatLocale()).getFirstDayOfWeek();\n  var iDayNumberOfWeek = iDayOfWeek - (iFirstDayOfWeek - 1);\n  if (iDayNumberOfWeek <= 0) {\n    iDayNumberOfWeek += 7;\n  }\n  return iDayNumberOfWeek;\n};\nDateFormat.prototype._getDifference = function (sScale, aDates) {\n  var oFromDate = aDates[0];\n  var oToDate = aDates[1];\n  return Math.round(mRelativeDiffs[sScale](oFromDate, oToDate, this));\n};\nDateFormat.prototype.getAllowedCharacters = function (aFormatArray) {\n  if (this.oFormatOptions.relative) {\n    return '';\n  }\n  var sAllowedCharacters = '';\n  var bNumbers = false;\n  var bAll = false;\n  var oPart;\n  for (var i = 0; i < aFormatArray.length; i++) {\n    oPart = aFormatArray[i];\n    switch (oPart.type) {\n      case 'text':\n        if (sAllowedCharacters.indexOf(oPart.value) < 0) {\n          sAllowedCharacters += oPart.value;\n        }\n        break;\n      case 'day':\n      case 'year':\n      case 'weekYear':\n      case 'dayNumberOfWeek':\n      case 'weekInYear':\n      case 'hour0_23':\n      case 'hour1_24':\n      case 'hour0_11':\n      case 'hour1_12':\n      case 'minute':\n      case 'second':\n      case 'fractionalsecond':\n        if (!bNumbers) {\n          sAllowedCharacters += '0123456789';\n          bNumbers = true;\n        }\n        break;\n      case 'month':\n      case 'monthStandalone':\n        if (oPart.digits < 3) {\n          if (!bNumbers) {\n            sAllowedCharacters += '0123456789';\n            bNumbers = true;\n          }\n        } else {\n          bAll = true;\n        }\n        break;\n      default:\n        bAll = true;\n        break;\n    }\n  }\n  if (bAll) {\n    sAllowedCharacters = '';\n  }\n  return sAllowedCharacters;\n};\nexport default DateFormat;","map":{"version":3,"names":["Core","CalendarType","Locale","LocaleData","UniversalDate","TimezoneUtil","deepEqual","formatMessage","Log","extend","DateFormat","Error","mDateFormatTypes","DATE","TIME","DATETIME","DATETIME_WITH_TIMEZONE","mCldrDatePattern","checkTimezoneParameterType","sTimezone","String","TypeError","oDateInfo","type","oDefaultFormatOptions","style","relativeScale","relativeStyle","aFallbackFormatOptions","pattern","strictParsing","bShortFallbackFormatOptions","bPatternFallbackWithoutDelimiter","getPattern","oLocaleData","sStyle","sCalendarType","getDatePattern","oRequiredParts","aRelativeScales","aRelativeParseScales","aIntervalCompareFields","oDateTimeInfo","iSlashIndex","indexOf","getCombinedDateTimePattern","substr","_getDateTimeWithTimezoneInfo","oFormatOptions","bShowDate","showDate","undefined","bShowTime","showTime","bShowTimezone","showTimezone","oBaselineType","oTimeInfo","Object","assign","getTimezonePattern","sPattern","applyTimezonePattern","getTimePattern","getInstance","oLocale","getDateInstance","createInstance","getDateTimeInstance","getDateTimeWithTimezoneInstance","sShowTimezone","getTimeInstance","createIntervalPatternWithNormalConnector","oFormat","getIntervalPattern","calendarType","replace","oInfo","create","prototype","getConfiguration","getFormatSettings","getFormatLocale","interval","singleIntervalValue","UTC","getCalendarType","format","getCustomDateTimePattern","intervalPatterns","getCustomIntervalPattern","push","getCombinedIntervalPattern","sCommonConnectorPattern","fallback","oFallbackFormats","sLocale","toString","sKey","concat","_createFallbackOptionsWithoutDelimiter","_createFallbackFormat","aFallbackFormats","init","aMonthsAbbrev","getMonths","aMonthsWide","aMonthsNarrow","aMonthsAbbrevSt","getMonthsStandAlone","aMonthsWideSt","aMonthsNarrowSt","aDaysAbbrev","getDays","aDaysWide","aDaysNarrow","aDaysShort","aDaysAbbrevSt","getDaysStandAlone","aDaysWideSt","aDaysNarrowSt","aDaysShortSt","aQuartersAbbrev","getQuarters","aQuartersWide","aQuartersNarrow","aQuartersAbbrevSt","getQuartersStandAlone","aQuartersWideSt","aQuartersNarrowSt","aErasNarrow","getEras","aErasAbbrev","aErasWide","aDayPeriods","getDayPeriods","aFormatArray","parseCldrDatePattern","sAllowedCharacters","getAllowedCharacters","oParentFormatOptions","map","oOptions","oFallbackFormat","bIsFallback","sBasePattern","rNonDateFields","oDayReplace","regex","oMonthReplace","oYearReplace","sReplace","oParseHelper","isNumber","iCharCode","findNumbers","sValue","iMaxLength","iLength","charCodeAt","startsWithIgnoreCase","sSubstring","startsWith","sSubToLocaleUpperCase","toLocaleUpperCase","sValueUpperCase","length","e","findEntry","aList","iFoundIndex","iMatchedLength","j","index","parseTZ","bColonSeparated","iTZFactor","charAt","sPart","iTZDiffHour","parseInt","iTZDiff","tzDiff","checkValid","sType","bPartInvalid","oSymbols","name","oField","oDate","value","parse","oPart","oConfig","sChar","bValid","iValueIndex","iPatternIndex","sDelimiter","includes","formatArray","valid","bUTC","iEra","getUTCEra","digits","aErasVariants","i","aVariants","oFound","sCLDRLocaleId","era","iYear","getUTCFullYear","sYear","Japanese","padStart","oCurrentDate","Date","iCurrentYear","iCurrentCentury","Math","floor","iYearDiff","year","oWeek","getUTCWeek","iWeekYear","sWeekYear","weekYear","iMonth","getUTCMonth","aMonthsVariants","max","strict","month","iWeek","week","sWeek","getCalendarWeek","rWeekNumber","RegExp","oResult","exec","iDate","getUTCDate","iDay","day","iQuarter","getUTCQuarter","aQuartersVariants","quarter","getUTCDay","aDaysVariants","dayOfWeek","_adaptDayOfWeek","dayNumberOfWeek","iDayPeriod","getUTCDayPeriod","bPM","sAM","sPM","rAMPM","aMatch","match","bVariant","toLowerCase","pm","iHours","getUTCHours","hour","sHours","dateValue","iMinutes","getUTCMinutes","minute","iSeconds","getUTCSeconds","second","iMilliseconds","getUTCMilliseconds","sMilliseconds","sFractionalseconds","padEnd","millisecond","getTimezoneLong","getTimezoneShort","iTimezoneOffset","calculateOffset","sTimeZone","iTZOffset","abs","bPositiveOffset","iHourOffset","iMinuteOffset","oTZ","substring","error","oParsedTZ","oTimezoneParsed","timezone","rIanaTimezone","aResult","isValidTimezone","_format","oJSDate","relative","sRes","formatRelative","relativeRange","aBuffer","sResult","sSymbol","symbol","join","getOriginInfo","originInfo","source","locale","vJSDate","getTimezone","Array","isArray","convertToTimezone","every","isValidDateObject","_formatInterval","getLanguage","aJSDates","oFromDate","oToDate","oDiffField","_getGreatestDiffField","repeat","mFieldToGroup","Era","FullYear","Quarter","Month","Week","DayPeriod","Hours","Minutes","Seconds","aDates","bDiffFound","mDiff","forEach","sField","sGetterPrefix","sMethodName","sFieldGroup","vFromValue","apply","vToValue","_parse","bStrict","iIndex","sSubValue","oDateValue","lastTimezonePatternSymbol","oParseConf","_parseInterval","aDateValues","iRepeat","some","slice","bind","fnCreateDate","setUTCEra","getCurrentEra","setUTCFullYear","setUTCMonth","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","setUTCWeek","getJSDate","mergeWithoutOverwrite","object1","object2","oMergedObject","keys","hasOwnProperty","isValidDateRange","oStartDate","oEndDate","getTime","isNaN","bUTCInputParameter","trim","parseRelative","oJSDate1","oJSDate2","oDateValue1","oDateValue2","vDate","bQuoted","oCurrentObject","sState","sNewState","mAppeared","bIntervalStartFound","sCurChar","sNextChar","sPrevChar","sPrevPrevChar","aPatterns","oEntry","rPattern","iValue","getRelativePatterns","computeRelativeDate","scale","sign","iDiff","sScale","iToday","oToday","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","aRange","oDateUTC","iDiffSeconds","_getScale","fixScaleForMonths","_mRanges","_getDifference","getRelativePattern","_mScales","aScales","sTestScale","iMonthDiff","cutDateFields","iStartIndex","aFields","oDateCopy","mRelativeDiffs","iFromDay","iToDay","iDayOfWeek","iFirstDayOfWeek","getFirstDayOfWeek","iDayNumberOfWeek","round","bNumbers","bAll"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-localization/dist/sap/ui/core/format/DateFormat.js"],"sourcesContent":["import Core from '../Core.js';\nimport CalendarType from '../CalendarType.js';\nimport Locale from '../Locale.js';\nimport LocaleData from '../LocaleData.js';\nimport UniversalDate from '../date/UniversalDate.js';\nimport TimezoneUtil from './TimezoneUtil.js';\nimport deepEqual from '../../../base/util/deepEqual.js';\nimport formatMessage from '../../../base/strings/formatMessage.js';\nimport Log from '../../../base/Log.js';\nimport extend from '../../../base/util/extend.js';\nvar DateFormat = function () {\n    throw new Error();\n};\nvar mDateFormatTypes = {\n    DATE: 'date',\n    TIME: 'time',\n    DATETIME: 'datetime',\n    DATETIME_WITH_TIMEZONE: 'datetimeWithTimezone'\n};\nvar mCldrDatePattern = {};\nvar checkTimezoneParameterType = function (sTimezone) {\n    if (typeof sTimezone !== 'string' && !(sTimezone instanceof String) && sTimezone != null) {\n        throw new TypeError('The given timezone must be a string.');\n    }\n};\nDateFormat.oDateInfo = {\n    type: mDateFormatTypes.DATE,\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'day',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'yyyy-MM-dd' },\n        {\n            pattern: 'yyyyMMdd',\n            strictParsing: true\n        }\n    ],\n    bShortFallbackFormatOptions: true,\n    bPatternFallbackWithoutDelimiter: true,\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        return oLocaleData.getDatePattern(sStyle, sCalendarType);\n    },\n    oRequiredParts: {\n        'text': true,\n        'year': true,\n        'weekYear': true,\n        'month': true,\n        'day': true\n    },\n    aRelativeScales: [\n        'year',\n        'month',\n        'week',\n        'day'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'Era',\n        'FullYear',\n        'Quarter',\n        'Month',\n        'Week',\n        'Date'\n    ]\n};\nDateFormat.oDateTimeInfo = {\n    type: mDateFormatTypes.DATETIME,\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'auto',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'yyyy-MM-dd\\'T\\'HH:mm:ss' },\n        { pattern: 'yyyyMMdd HHmmss' }\n    ],\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        var iSlashIndex = sStyle.indexOf('/');\n        if (iSlashIndex > 0) {\n            return oLocaleData.getCombinedDateTimePattern(sStyle.substr(0, iSlashIndex), sStyle.substr(iSlashIndex + 1), sCalendarType);\n        } else {\n            return oLocaleData.getCombinedDateTimePattern(sStyle, sStyle, sCalendarType);\n        }\n    },\n    oRequiredParts: {\n        'text': true,\n        'year': true,\n        'weekYear': true,\n        'month': true,\n        'day': true,\n        'hour0_23': true,\n        'hour1_24': true,\n        'hour0_11': true,\n        'hour1_12': true\n    },\n    aRelativeScales: [\n        'year',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'Era',\n        'FullYear',\n        'Quarter',\n        'Month',\n        'Week',\n        'Date',\n        'DayPeriod',\n        'Hours',\n        'Minutes',\n        'Seconds'\n    ]\n};\nDateFormat._getDateTimeWithTimezoneInfo = function (oFormatOptions) {\n    var bShowDate = oFormatOptions.showDate === undefined || oFormatOptions.showDate;\n    var bShowTime = oFormatOptions.showTime === undefined || oFormatOptions.showTime;\n    var bShowTimezone = oFormatOptions.showTimezone === undefined || oFormatOptions.showTimezone;\n    var oBaselineType = DateFormat.oDateTimeInfo;\n    if (bShowDate && !bShowTime) {\n        oBaselineType = DateFormat.oDateInfo;\n    } else if (!bShowDate && bShowTime) {\n        oBaselineType = DateFormat.oTimeInfo;\n    }\n    return Object.assign({}, oBaselineType, {\n        type: mDateFormatTypes.DATETIME_WITH_TIMEZONE,\n        getTimezonePattern: function (sPattern) {\n            if (!bShowDate && !bShowTime && bShowTimezone) {\n                return 'VV';\n            } else if (!bShowTimezone) {\n                return sPattern;\n            } else {\n                return sPattern + ' VV';\n            }\n        },\n        getPattern: function (oLocaleData, sStyle, sCalendarType) {\n            if (!bShowDate && !bShowTime && bShowTimezone) {\n                return 'VV';\n            }\n            if (!bShowTimezone) {\n                return oBaselineType.getPattern(oLocaleData, sStyle, sCalendarType);\n            }\n            var sPattern = oBaselineType.getPattern(oLocaleData, sStyle, sCalendarType);\n            return oLocaleData.applyTimezonePattern(sPattern);\n        }\n    });\n};\nDateFormat.oTimeInfo = {\n    type: mDateFormatTypes.TIME,\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'auto',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'HH:mm:ss' },\n        { pattern: 'HHmmss' }\n    ],\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        return oLocaleData.getTimePattern(sStyle, sCalendarType);\n    },\n    oRequiredParts: {\n        'text': true,\n        'hour0_23': true,\n        'hour1_24': true,\n        'hour0_11': true,\n        'hour1_12': true\n    },\n    aRelativeScales: [\n        'hour',\n        'minute',\n        'second'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'DayPeriod',\n        'Hours',\n        'Minutes',\n        'Seconds'\n    ]\n};\nDateFormat.getInstance = function (oFormatOptions, oLocale) {\n    return this.getDateInstance(oFormatOptions, oLocale);\n};\nDateFormat.getDateInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oDateInfo);\n};\nDateFormat.getDateTimeInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oDateTimeInfo);\n};\nDateFormat.getDateTimeWithTimezoneInstance = function (oFormatOptions, oLocale) {\n    if (oFormatOptions && !(oFormatOptions instanceof Locale)) {\n        oFormatOptions = Object.assign({}, oFormatOptions);\n        if (typeof oFormatOptions.showTimezone === 'string') {\n            var sShowTimezone = oFormatOptions.showTimezone;\n            if (oFormatOptions.showDate === undefined && oFormatOptions.showTime === undefined) {\n                if (sShowTimezone === 'Hide') {\n                    oFormatOptions.showTimezone = false;\n                } else if (sShowTimezone === 'Only') {\n                    oFormatOptions.showDate = false;\n                    oFormatOptions.showTime = false;\n                }\n            }\n            oFormatOptions.showTimezone = sShowTimezone !== 'Hide';\n        }\n        if (oFormatOptions.showDate === false && oFormatOptions.showTime === false && oFormatOptions.showTimezone === false) {\n            throw new TypeError('Invalid Configuration. One of the following format options must be true: showDate, showTime or showTimezone.');\n        }\n    }\n    return this.createInstance(oFormatOptions, oLocale, DateFormat._getDateTimeWithTimezoneInfo(oFormatOptions || {}));\n};\nDateFormat.getTimeInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oTimeInfo);\n};\nfunction createIntervalPatternWithNormalConnector(oFormat) {\n    var sPattern = oFormat.oLocaleData.getIntervalPattern('', oFormat.oFormatOptions.calendarType);\n    sPattern = sPattern.replace(/[^\\{\\}01 ]/, '-');\n    return sPattern.replace(/\\{(0|1)\\}/g, oFormat.oFormatOptions.pattern);\n}\nDateFormat.createInstance = function (oFormatOptions, oLocale, oInfo) {\n    var oFormat = Object.create(this.prototype);\n    if (oFormatOptions instanceof Locale) {\n        oLocale = oFormatOptions;\n        oFormatOptions = undefined;\n    }\n    if (!oLocale) {\n        oLocale = Core.getConfiguration().getFormatSettings().getFormatLocale();\n    }\n    oFormat.oLocale = oLocale;\n    oFormat.oLocaleData = LocaleData.getInstance(oLocale);\n    oFormat.oFormatOptions = extend({}, oInfo.oDefaultFormatOptions, oFormatOptions);\n    if (oInfo.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n        oFormat.oFormatOptions.interval = false;\n        oFormat.oFormatOptions.singleIntervalValue = false;\n        oFormat.oFormatOptions.UTC = false;\n    } else {\n        oFormat.oFormatOptions.showTimezone = undefined;\n        oFormat.oFormatOptions.showDate = undefined;\n        oFormat.oFormatOptions.showTime = undefined;\n    }\n    oFormat.type = oInfo.type;\n    if (!oFormat.oFormatOptions.calendarType) {\n        oFormat.oFormatOptions.calendarType = Core.getConfiguration().getCalendarType();\n    }\n    if (!oFormat.oFormatOptions.pattern) {\n        if (oFormat.oFormatOptions.format) {\n            oFormat.oFormatOptions.pattern = oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType);\n        } else {\n            oFormat.oFormatOptions.pattern = oInfo.getPattern(oFormat.oLocaleData, oFormat.oFormatOptions.style, oFormat.oFormatOptions.calendarType);\n        }\n    }\n    if (oFormat.oFormatOptions.interval) {\n        if (oFormat.oFormatOptions.format) {\n            oFormat.intervalPatterns = oFormat.oLocaleData.getCustomIntervalPattern(oFormat.oFormatOptions.format, null, oFormat.oFormatOptions.calendarType);\n            if (typeof oFormat.intervalPatterns === 'string') {\n                oFormat.intervalPatterns = [oFormat.intervalPatterns];\n            }\n            oFormat.intervalPatterns.push(oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType));\n        } else {\n            oFormat.intervalPatterns = [\n                oFormat.oLocaleData.getCombinedIntervalPattern(oFormat.oFormatOptions.pattern, oFormat.oFormatOptions.calendarType),\n                oFormat.oFormatOptions.pattern\n            ];\n        }\n        var sCommonConnectorPattern = createIntervalPatternWithNormalConnector(oFormat);\n        oFormat.intervalPatterns.push(sCommonConnectorPattern);\n    }\n    if (!oFormat.oFormatOptions.fallback) {\n        if (!oInfo.oFallbackFormats) {\n            oInfo.oFallbackFormats = {};\n        }\n        var sLocale = oLocale.toString(), sCalendarType = oFormat.oFormatOptions.calendarType, sKey = sLocale + '-' + sCalendarType, sPattern, aFallbackFormatOptions;\n        if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n            sKey = sKey + '-' + oFormat.oFormatOptions.pattern;\n        }\n        if (oFormat.oFormatOptions.interval) {\n            sKey = sKey + '-' + 'interval';\n        }\n        var oFallbackFormats = oInfo.oFallbackFormats[sKey] ? Object.assign({}, oInfo.oFallbackFormats[sKey]) : undefined;\n        if (!oFallbackFormats) {\n            aFallbackFormatOptions = oInfo.aFallbackFormatOptions;\n            if (oInfo.bShortFallbackFormatOptions) {\n                sPattern = oInfo.getPattern(oFormat.oLocaleData, 'short');\n                aFallbackFormatOptions = aFallbackFormatOptions.concat(DateFormat._createFallbackOptionsWithoutDelimiter(sPattern));\n            }\n            if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n                aFallbackFormatOptions = DateFormat._createFallbackOptionsWithoutDelimiter(oFormat.oFormatOptions.pattern).concat(aFallbackFormatOptions);\n            }\n            oFallbackFormats = DateFormat._createFallbackFormat(aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oFormat.oFormatOptions);\n        }\n        oFormat.aFallbackFormats = oFallbackFormats;\n    }\n    oFormat.oRequiredParts = oInfo.oRequiredParts;\n    oFormat.aRelativeScales = oInfo.aRelativeScales;\n    oFormat.aRelativeParseScales = oInfo.aRelativeParseScales;\n    oFormat.aIntervalCompareFields = oInfo.aIntervalCompareFields;\n    oFormat.init();\n    return oFormat;\n};\nDateFormat.prototype.init = function () {\n    var sCalendarType = this.oFormatOptions.calendarType;\n    this.aMonthsAbbrev = this.oLocaleData.getMonths('abbreviated', sCalendarType);\n    this.aMonthsWide = this.oLocaleData.getMonths('wide', sCalendarType);\n    this.aMonthsNarrow = this.oLocaleData.getMonths('narrow', sCalendarType);\n    this.aMonthsAbbrevSt = this.oLocaleData.getMonthsStandAlone('abbreviated', sCalendarType);\n    this.aMonthsWideSt = this.oLocaleData.getMonthsStandAlone('wide', sCalendarType);\n    this.aMonthsNarrowSt = this.oLocaleData.getMonthsStandAlone('narrow', sCalendarType);\n    this.aDaysAbbrev = this.oLocaleData.getDays('abbreviated', sCalendarType);\n    this.aDaysWide = this.oLocaleData.getDays('wide', sCalendarType);\n    this.aDaysNarrow = this.oLocaleData.getDays('narrow', sCalendarType);\n    this.aDaysShort = this.oLocaleData.getDays('short', sCalendarType);\n    this.aDaysAbbrevSt = this.oLocaleData.getDaysStandAlone('abbreviated', sCalendarType);\n    this.aDaysWideSt = this.oLocaleData.getDaysStandAlone('wide', sCalendarType);\n    this.aDaysNarrowSt = this.oLocaleData.getDaysStandAlone('narrow', sCalendarType);\n    this.aDaysShortSt = this.oLocaleData.getDaysStandAlone('short', sCalendarType);\n    this.aQuartersAbbrev = this.oLocaleData.getQuarters('abbreviated', sCalendarType);\n    this.aQuartersWide = this.oLocaleData.getQuarters('wide', sCalendarType);\n    this.aQuartersNarrow = this.oLocaleData.getQuarters('narrow', sCalendarType);\n    this.aQuartersAbbrevSt = this.oLocaleData.getQuartersStandAlone('abbreviated', sCalendarType);\n    this.aQuartersWideSt = this.oLocaleData.getQuartersStandAlone('wide', sCalendarType);\n    this.aQuartersNarrowSt = this.oLocaleData.getQuartersStandAlone('narrow', sCalendarType);\n    this.aErasNarrow = this.oLocaleData.getEras('narrow', sCalendarType);\n    this.aErasAbbrev = this.oLocaleData.getEras('abbreviated', sCalendarType);\n    this.aErasWide = this.oLocaleData.getEras('wide', sCalendarType);\n    this.aDayPeriods = this.oLocaleData.getDayPeriods('abbreviated', sCalendarType);\n    this.aFormatArray = this.parseCldrDatePattern(this.oFormatOptions.pattern);\n    this.sAllowedCharacters = this.getAllowedCharacters(this.aFormatArray);\n};\nDateFormat._createFallbackFormat = function (aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oParentFormatOptions) {\n    return aFallbackFormatOptions.map(function (oOptions) {\n        var oFormatOptions = Object.assign({}, oOptions);\n        oFormatOptions.showDate = oParentFormatOptions.showDate;\n        oFormatOptions.showTime = oParentFormatOptions.showTime;\n        oFormatOptions.showTimezone = oParentFormatOptions.showTimezone;\n        if (typeof oInfo.getTimezonePattern === 'function' && oFormatOptions.pattern) {\n            oFormatOptions.pattern = oInfo.getTimezonePattern(oFormatOptions.pattern);\n        }\n        if (oParentFormatOptions.interval) {\n            oFormatOptions.interval = true;\n        }\n        oFormatOptions.calendarType = sCalendarType;\n        oFormatOptions.fallback = true;\n        var oFallbackFormat = DateFormat.createInstance(oFormatOptions, oLocale, oInfo);\n        oFallbackFormat.bIsFallback = true;\n        return oFallbackFormat;\n    });\n};\nDateFormat._createFallbackOptionsWithoutDelimiter = function (sBasePattern) {\n    var rNonDateFields = /[^dMyGU]/g, oDayReplace = {\n            regex: /d+/g,\n            replace: 'dd'\n        }, oMonthReplace = {\n            regex: /M+/g,\n            replace: 'MM'\n        }, oYearReplace = {\n            regex: /[yU]+/g,\n            replace: [\n                'yyyy',\n                'yy'\n            ]\n        };\n    sBasePattern = sBasePattern.replace(rNonDateFields, '');\n    sBasePattern = sBasePattern.replace(oDayReplace.regex, oDayReplace.replace);\n    sBasePattern = sBasePattern.replace(oMonthReplace.regex, oMonthReplace.replace);\n    return oYearReplace.replace.map(function (sReplace) {\n        return {\n            pattern: sBasePattern.replace(oYearReplace.regex, sReplace),\n            strictParsing: true\n        };\n    });\n};\nvar oParseHelper = {\n    isNumber: function (iCharCode) {\n        return iCharCode >= 48 && iCharCode <= 57;\n    },\n    findNumbers: function (sValue, iMaxLength) {\n        var iLength = 0;\n        while (iLength < iMaxLength && this.isNumber(sValue.charCodeAt(iLength))) {\n            iLength++;\n        }\n        if (typeof sValue !== 'string') {\n            sValue = sValue.toString();\n        }\n        return sValue.substr(0, iLength);\n    },\n    startsWithIgnoreCase: function (sValue, sSubstring, sLocale) {\n        if (sValue.startsWith(sSubstring)) {\n            return true;\n        }\n        try {\n            var sSubToLocaleUpperCase = sSubstring.toLocaleUpperCase(sLocale);\n            var sValueUpperCase = sValue.toLocaleUpperCase(sLocale);\n            if (sSubToLocaleUpperCase.length !== sSubstring.length || sValueUpperCase.length !== sValue.length) {\n                return false;\n            }\n            return sValueUpperCase.startsWith(sSubToLocaleUpperCase);\n        } catch (e) {\n            return false;\n        }\n    },\n    findEntry: function (sValue, aList, sLocale) {\n        var iFoundIndex = -1, iMatchedLength = 0;\n        for (var j = 0; j < aList.length; j++) {\n            if (aList[j] && aList[j].length > iMatchedLength && this.startsWithIgnoreCase(sValue, aList[j], sLocale)) {\n                iFoundIndex = j;\n                iMatchedLength = aList[j].length;\n            }\n        }\n        return {\n            index: iFoundIndex,\n            length: iMatchedLength\n        };\n    },\n    parseTZ: function (sValue, bColonSeparated) {\n        var iLength = 0;\n        var iTZFactor = sValue.charAt(0) == '+' ? -1 : 1;\n        var sPart;\n        iLength++;\n        sPart = this.findNumbers(sValue.substr(iLength), 2);\n        var iTZDiffHour = parseInt(sPart);\n        iLength += 2;\n        if (bColonSeparated) {\n            iLength++;\n        }\n        sPart = this.findNumbers(sValue.substr(iLength), 2);\n        var iTZDiff = 0;\n        if (sPart) {\n            iLength += 2;\n            iTZDiff = parseInt(sPart);\n        }\n        return {\n            length: iLength,\n            tzDiff: (iTZDiff + 60 * iTZDiffHour) * 60 * iTZFactor\n        };\n    },\n    checkValid: function (sType, bPartInvalid, oFormat) {\n        if (sType in oFormat.oRequiredParts && bPartInvalid) {\n            return false;\n        }\n    }\n};\nDateFormat.prototype.oSymbols = {\n    '': {\n        name: 'text',\n        format: function (oField, oDate) {\n            return oField.value;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sChar;\n            var bValid = true;\n            var iValueIndex = 0;\n            var iPatternIndex = 0;\n            var sDelimiter = '-~\\u2010\\u2011\\u2012\\u2013\\u2014\\uFE58\\uFE63\\uFF0D\\uFF5E';\n            for (; iPatternIndex < oPart.value.length; iPatternIndex++) {\n                sChar = oPart.value.charAt(iPatternIndex);\n                if (sChar === ' ') {\n                    while (sValue.charAt(iValueIndex) === ' ') {\n                        iValueIndex++;\n                    }\n                } else if (sDelimiter.includes(sChar)) {\n                    if (!sDelimiter.includes(sValue.charAt(iValueIndex))) {\n                        bValid = false;\n                    }\n                    iValueIndex++;\n                } else {\n                    if (sValue.charAt(iValueIndex) !== sChar) {\n                        bValid = false;\n                    }\n                    iValueIndex++;\n                }\n                if (!bValid) {\n                    break;\n                }\n            }\n            if (bValid) {\n                return { length: iValueIndex };\n            } else {\n                var bPartInvalid = false;\n                if (oConfig.index < oConfig.formatArray.length - 1) {\n                    bPartInvalid = oConfig.formatArray[oConfig.index + 1].type in oFormat.oRequiredParts;\n                }\n                return { valid: oParseHelper.checkValid(oPart.type, bPartInvalid, oFormat) };\n            }\n        }\n    },\n    'G': {\n        name: 'era',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iEra = oDate.getUTCEra();\n            if (oField.digits <= 3) {\n                return oFormat.aErasAbbrev[iEra];\n            } else if (oField.digits === 4) {\n                return oFormat.aErasWide[iEra];\n            } else {\n                return oFormat.aErasNarrow[iEra];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aErasVariants = [\n                oFormat.aErasWide,\n                oFormat.aErasAbbrev,\n                oFormat.aErasNarrow\n            ];\n            for (var i = 0; i < aErasVariants.length; i++) {\n                var aVariants = aErasVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                if (oFound.index !== -1) {\n                    return {\n                        era: oFound.index,\n                        length: oFound.length\n                    };\n                }\n            }\n            return {\n                era: oFormat.aErasWide.length - 1,\n                valid: oParseHelper.checkValid(oPart.type, true, oFormat)\n            };\n        }\n    },\n    'y': {\n        name: 'year',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iYear = oDate.getUTCFullYear();\n            var sYear = String(iYear);\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            if (oField.digits == 2 && sYear.length > 2) {\n                sYear = sYear.substr(sYear.length - 2);\n            }\n            if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iYear < 100) {\n                sYear = sYear.padStart(4, '0');\n            }\n            return sYear.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            var sPart;\n            if (oPart.digits == 1) {\n                sPart = oParseHelper.findNumbers(sValue, 4);\n            } else if (oPart.digits == 2) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n            } else {\n                sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            }\n            var iYear = parseInt(sPart);\n            if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n                var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType), iCurrentYear = oCurrentDate.getUTCFullYear(), iCurrentCentury = Math.floor(iCurrentYear / 100), iYearDiff = iCurrentCentury * 100 + iYear - iCurrentYear;\n                if (iYearDiff < -70) {\n                    iYear += (iCurrentCentury + 1) * 100;\n                } else if (iYearDiff < 30) {\n                    iYear += iCurrentCentury * 100;\n                } else {\n                    iYear += (iCurrentCentury - 1) * 100;\n                }\n            }\n            return {\n                length: sPart.length,\n                valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n                year: iYear\n            };\n        }\n    },\n    'Y': {\n        name: 'weekYear',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var oWeek = oDate.getUTCWeek();\n            var iWeekYear = oWeek.year;\n            var sWeekYear = String(iWeekYear);\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            if (oField.digits == 2 && sWeekYear.length > 2) {\n                sWeekYear = sWeekYear.substr(sWeekYear.length - 2);\n            }\n            if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iWeekYear < 100) {\n                sWeekYear = sWeekYear.padStart(4, '0');\n            }\n            return sWeekYear.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            var sPart;\n            if (oPart.digits == 1) {\n                sPart = oParseHelper.findNumbers(sValue, 4);\n            } else if (oPart.digits == 2) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n            } else {\n                sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            }\n            var iYear = parseInt(sPart);\n            var iWeekYear = iYear;\n            if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n                var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType), iCurrentYear = oCurrentDate.getUTCFullYear(), iCurrentCentury = Math.floor(iCurrentYear / 100), iYearDiff = iCurrentCentury * 100 + iWeekYear - iCurrentYear;\n                if (iYearDiff < -70) {\n                    iWeekYear += (iCurrentCentury + 1) * 100;\n                } else if (iYearDiff < 30) {\n                    iWeekYear += iCurrentCentury * 100;\n                } else {\n                    iWeekYear += (iCurrentCentury - 1) * 100;\n                }\n            }\n            return {\n                length: sPart.length,\n                valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n                year: iYear,\n                weekYear: iWeekYear\n            };\n        }\n    },\n    'M': {\n        name: 'month',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMonth = oDate.getUTCMonth();\n            if (oField.digits == 3) {\n                return oFormat.aMonthsAbbrev[iMonth];\n            } else if (oField.digits == 4) {\n                return oFormat.aMonthsWide[iMonth];\n            } else if (oField.digits > 4) {\n                return oFormat.aMonthsNarrow[iMonth];\n            } else {\n                return String(iMonth + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aMonthsVariants = [\n                oFormat.aMonthsWide,\n                oFormat.aMonthsWideSt,\n                oFormat.aMonthsAbbrev,\n                oFormat.aMonthsAbbrevSt,\n                oFormat.aMonthsNarrow,\n                oFormat.aMonthsNarrowSt\n            ];\n            var bValid;\n            var iMonth;\n            var sPart;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iMonth = parseInt(sPart) - 1;\n                if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aMonthsVariants.length; i++) {\n                    var aVariants = aMonthsVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                    if (oFound.index !== -1) {\n                        return {\n                            month: oFound.index,\n                            length: oFound.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                month: iMonth,\n                length: sPart ? sPart.length : 0,\n                valid: bValid\n            };\n        }\n    },\n    'L': {\n        name: 'monthStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMonth = oDate.getUTCMonth();\n            if (oField.digits == 3) {\n                return oFormat.aMonthsAbbrevSt[iMonth];\n            } else if (oField.digits == 4) {\n                return oFormat.aMonthsWideSt[iMonth];\n            } else if (oField.digits > 4) {\n                return oFormat.aMonthsNarrowSt[iMonth];\n            } else {\n                return String(iMonth + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aMonthsVariants = [\n                oFormat.aMonthsWide,\n                oFormat.aMonthsWideSt,\n                oFormat.aMonthsAbbrev,\n                oFormat.aMonthsAbbrevSt,\n                oFormat.aMonthsNarrow,\n                oFormat.aMonthsNarrowSt\n            ];\n            var bValid;\n            var iMonth;\n            var sPart;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iMonth = parseInt(sPart) - 1;\n                if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aMonthsVariants.length; i++) {\n                    var aVariants = aMonthsVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                    if (oFound.index !== -1) {\n                        return {\n                            month: oFound.index,\n                            length: oFound.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                month: iMonth,\n                length: sPart ? sPart.length : 0,\n                valid: bValid\n            };\n        }\n    },\n    'w': {\n        name: 'weekInYear',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var oWeek = oDate.getUTCWeek();\n            var iWeek = oWeek.week;\n            var sWeek = String(iWeek + 1);\n            if (oField.digits < 3) {\n                sWeek = sWeek.padStart(oField.digits, '0');\n            } else {\n                sWeek = oFormat.oLocaleData.getCalendarWeek(oField.digits === 3 ? 'narrow' : 'wide', sWeek.padStart(2, '0'));\n            }\n            return sWeek;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart;\n            var iWeek;\n            var iLength = 0;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n                iLength = sPart.length;\n                iWeek = parseInt(sPart) - 1;\n                bValid = oParseHelper.checkValid(oPart.type, !sPart, oFormat);\n            } else {\n                sPart = oFormat.oLocaleData.getCalendarWeek(oPart.digits === 3 ? 'narrow' : 'wide');\n                sPart = sPart.replace('{0}', '([0-9]+)');\n                var rWeekNumber = new RegExp(sPart), oResult = rWeekNumber.exec(sValue);\n                if (oResult) {\n                    iLength = oResult[0].length;\n                    iWeek = parseInt(oResult[oResult.length - 1]) - 1;\n                } else {\n                    bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n                }\n            }\n            return {\n                length: iLength,\n                valid: bValid,\n                week: iWeek\n            };\n        }\n    },\n    'W': {\n        name: 'weekInMonth',\n        format: function (oField, oDate) {\n            return '';\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'D': {\n        name: 'dayInYear',\n        format: function (oField, oDate) {\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'd': {\n        name: 'day',\n        format: function (oField, oDate) {\n            var iDate = oDate.getUTCDate();\n            return String(iDate).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            var iDay = parseInt(sPart);\n            if (oConfig.strict && (iDay > 31 || iDay < 1)) {\n                bValid = false;\n            }\n            return {\n                day: iDay,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'Q': {\n        name: 'quarter',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iQuarter = oDate.getUTCQuarter();\n            if (oField.digits == 3) {\n                return oFormat.aQuartersAbbrev[iQuarter];\n            } else if (oField.digits == 4) {\n                return oFormat.aQuartersWide[iQuarter];\n            } else if (oField.digits > 4) {\n                return oFormat.aQuartersNarrow[iQuarter];\n            } else {\n                return String(iQuarter + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var iQuarter;\n            var sPart;\n            var aQuartersVariants = [\n                oFormat.aQuartersWide,\n                oFormat.aQuartersWideSt,\n                oFormat.aQuartersAbbrev,\n                oFormat.aQuartersAbbrevSt,\n                oFormat.aQuartersNarrow,\n                oFormat.aQuartersNarrowSt\n            ];\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iQuarter = parseInt(sPart) - 1;\n                if (oConfig.strict && iQuarter > 3) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aQuartersVariants.length; i++) {\n                    var aVariants = aQuartersVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                    if (oFound.index !== -1) {\n                        return {\n                            quarter: oFound.index,\n                            length: oFound.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                length: sPart ? sPart.length : 0,\n                quarter: iQuarter,\n                valid: bValid\n            };\n        }\n    },\n    'q': {\n        name: 'quarterStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iQuarter = oDate.getUTCQuarter();\n            if (oField.digits == 3) {\n                return oFormat.aQuartersAbbrevSt[iQuarter];\n            } else if (oField.digits == 4) {\n                return oFormat.aQuartersWideSt[iQuarter];\n            } else if (oField.digits > 4) {\n                return oFormat.aQuartersNarrowSt[iQuarter];\n            } else {\n                return String(iQuarter + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var iQuarter;\n            var sPart;\n            var aQuartersVariants = [\n                oFormat.aQuartersWide,\n                oFormat.aQuartersWideSt,\n                oFormat.aQuartersAbbrev,\n                oFormat.aQuartersAbbrevSt,\n                oFormat.aQuartersNarrow,\n                oFormat.aQuartersNarrowSt\n            ];\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iQuarter = parseInt(sPart) - 1;\n                if (oConfig.strict && iQuarter > 3) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aQuartersVariants.length; i++) {\n                    var aVariants = aQuartersVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                    if (oFound.index !== -1) {\n                        return {\n                            quarter: oFound.index,\n                            length: oFound.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                length: sPart ? sPart.length : 0,\n                quarter: iQuarter,\n                valid: bValid\n            };\n        }\n    },\n    'F': {\n        name: 'dayOfWeekInMonth',\n        format: function (oField, oDate, oFormat) {\n            return '';\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'E': {\n        name: 'dayNameInWeek',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = oDate.getUTCDay();\n            if (oField.digits < 4) {\n                return oFormat.aDaysAbbrev[iDay];\n            } else if (oField.digits == 4) {\n                return oFormat.aDaysWide[iDay];\n            } else if (oField.digits == 5) {\n                return oFormat.aDaysNarrow[iDay];\n            } else {\n                return oFormat.aDaysShort[iDay];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aDaysVariants = [\n                oFormat.aDaysWide,\n                oFormat.aDaysWideSt,\n                oFormat.aDaysAbbrev,\n                oFormat.aDaysAbbrevSt,\n                oFormat.aDaysShort,\n                oFormat.aDaysShortSt,\n                oFormat.aDaysNarrow,\n                oFormat.aDaysNarrowSt\n            ];\n            for (var i = 0; i < aDaysVariants.length; i++) {\n                var aVariants = aDaysVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                if (oFound.index !== -1) {\n                    return {\n                        dayOfWeek: oFound.index,\n                        length: oFound.length\n                    };\n                }\n            }\n        }\n    },\n    'c': {\n        name: 'dayNameInWeekStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = oDate.getUTCDay();\n            if (oField.digits < 4) {\n                return oFormat.aDaysAbbrevSt[iDay];\n            } else if (oField.digits == 4) {\n                return oFormat.aDaysWideSt[iDay];\n            } else if (oField.digits == 5) {\n                return oFormat.aDaysNarrowSt[iDay];\n            } else {\n                return oFormat.aDaysShortSt[iDay];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aDaysVariants = [\n                oFormat.aDaysWide,\n                oFormat.aDaysWideSt,\n                oFormat.aDaysAbbrev,\n                oFormat.aDaysAbbrevSt,\n                oFormat.aDaysShort,\n                oFormat.aDaysShortSt,\n                oFormat.aDaysNarrow,\n                oFormat.aDaysNarrowSt\n            ];\n            for (var i = 0; i < aDaysVariants.length; i++) {\n                var aVariants = aDaysVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants, oFormat.oLocaleData.sCLDRLocaleId);\n                if (oFound.index !== -1) {\n                    return {\n                        day: oFound.index,\n                        length: oFound.length\n                    };\n                }\n            }\n        }\n    },\n    'u': {\n        name: 'dayNumberOfWeek',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = oDate.getUTCDay();\n            return oFormat._adaptDayOfWeek(iDay);\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            return {\n                dayNumberOfWeek: parseInt(sPart),\n                length: sPart.length\n            };\n        }\n    },\n    'a': {\n        name: 'amPmMarker',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDayPeriod = oDate.getUTCDayPeriod();\n            return oFormat.aDayPeriods[iDayPeriod];\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bPM;\n            var iLength;\n            var sAM = oFormat.aDayPeriods[0], sPM = oFormat.aDayPeriods[1];\n            var rAMPM = /[aApP](?:\\.)?[\\x20\\xA0]?[mM](?:\\.)?/;\n            var aMatch = sValue.match(rAMPM);\n            var bVariant = aMatch && aMatch.index === 0;\n            if (bVariant) {\n                sValue = aMatch[0];\n                sAM = sAM.replace(/[\\x20\\xA0]/g, '');\n                sPM = sPM.replace(/[\\x20\\xA0]/g, '');\n                sValue = sValue.replace(/[\\x20\\xA0]/g, '');\n                sAM = sAM.replace(/\\./g, '').toLowerCase();\n                sPM = sPM.replace(/\\./g, '').toLowerCase();\n                sValue = sValue.replace(/\\./g, '').toLowerCase();\n            }\n            if (sValue.indexOf(sAM) === 0) {\n                bPM = false;\n                iLength = bVariant ? aMatch[0].length : sAM.length;\n            } else if (sValue.indexOf(sPM) === 0) {\n                bPM = true;\n                iLength = bVariant ? aMatch[0].length : sPM.length;\n            }\n            return {\n                pm: bPM,\n                length: iLength\n            };\n        }\n    },\n    'H': {\n        name: 'hour0_23',\n        format: function (oField, oDate) {\n            var iHours = oDate.getUTCHours();\n            return String(iHours).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iHours > 23) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'k': {\n        name: 'hour1_24',\n        format: function (oField, oDate) {\n            var iHours = oDate.getUTCHours();\n            var sHours = iHours === 0 ? '24' : String(iHours);\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (iHours == 24) {\n                iHours = 0;\n            }\n            if (oConfig.strict && iHours > 23) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'K': {\n        name: 'hour0_11',\n        format: function (oField, oDate) {\n            var iHours = oDate.getUTCHours();\n            var sHours = String(iHours > 11 ? iHours - 12 : iHours);\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iHours > 11) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'h': {\n        name: 'hour1_12',\n        format: function (oField, oDate) {\n            var iHours = oDate.getUTCHours();\n            var sHours;\n            if (iHours > 12) {\n                sHours = String(iHours - 12);\n            } else if (iHours == 0) {\n                sHours = '12';\n            } else {\n                sHours = String(iHours);\n            }\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bPM = oConfig.dateValue.pm;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (iHours == 12) {\n                iHours = 0;\n                bPM = bPM === undefined ? true : bPM;\n            }\n            if (oConfig.strict && iHours > 11) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                pm: bPM,\n                valid: bValid\n            };\n        }\n    },\n    'm': {\n        name: 'minute',\n        format: function (oField, oDate) {\n            var iMinutes = oDate.getUTCMinutes();\n            return String(iMinutes).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iMinutes = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iMinutes > 59) {\n                bValid = false;\n            }\n            return {\n                length: sPart.length,\n                minute: iMinutes,\n                valid: bValid\n            };\n        }\n    },\n    's': {\n        name: 'second',\n        format: function (oField, oDate) {\n            var iSeconds = oDate.getUTCSeconds();\n            return String(iSeconds).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iSeconds = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iSeconds > 59) {\n                bValid = false;\n            }\n            return {\n                length: sPart.length,\n                second: iSeconds,\n                valid: bValid\n            };\n        }\n    },\n    'S': {\n        name: 'fractionalsecond',\n        format: function (oField, oDate) {\n            var iMilliseconds = oDate.getUTCMilliseconds();\n            var sMilliseconds = String(iMilliseconds);\n            var sFractionalseconds = sMilliseconds.padStart(3, '0');\n            sFractionalseconds = sFractionalseconds.substr(0, oField.digits);\n            sFractionalseconds = sFractionalseconds.padEnd(oField.digits, '0');\n            return sFractionalseconds;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            var iLength = sPart.length;\n            sPart = sPart.substr(0, 3);\n            sPart = sPart.padEnd(3, '0');\n            var iMilliseconds = parseInt(sPart);\n            return {\n                length: iLength,\n                millisecond: iMilliseconds\n            };\n        }\n    },\n    'z': {\n        name: 'timezoneGeneral',\n        format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n            if (oField.digits > 3 && oDate.getTimezoneLong && oDate.getTimezoneLong()) {\n                return oDate.getTimezoneLong();\n            } else if (oDate.getTimezoneShort && oDate.getTimezoneShort()) {\n                return oDate.getTimezoneShort();\n            }\n            var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n            var sTimeZone = 'GMT';\n            var iTZOffset = Math.abs(iTimezoneOffset / 60);\n            var bPositiveOffset = iTimezoneOffset > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = Math.floor(iTZOffset % 60);\n            if (!bUTC && iTZOffset != 0) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                sTimeZone += ':';\n                sTimeZone += String(iMinuteOffset).padStart(2, '0');\n            } else {\n                sTimeZone += 'Z';\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var iLength = 0;\n            var iTZDiff;\n            var oTZ = sValue.substring(0, 3);\n            if (oTZ === 'GMT' || oTZ === 'UTC') {\n                iLength = 3;\n            } else if (sValue.substring(0, 2) === 'UT') {\n                iLength = 2;\n            } else if (sValue.charAt(0) === 'Z') {\n                iLength = 1;\n                iTZDiff = 0;\n            } else {\n                return { error: 'cannot be parsed correctly by sap.ui.core.format.DateFormat: The given timezone is not supported!' };\n            }\n            if (sValue.charAt(0) !== 'Z') {\n                var oParsedTZ = oParseHelper.parseTZ(sValue.substr(iLength), true);\n                iLength += oParsedTZ.length;\n                iTZDiff = oParsedTZ.tzDiff;\n            }\n            return {\n                length: iLength,\n                tzDiff: iTZDiff\n            };\n        }\n    },\n    'Z': {\n        name: 'timezoneRFC822',\n        format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n            var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n            var iTZOffset = Math.abs(iTimezoneOffset / 60);\n            var bPositiveOffset = iTimezoneOffset > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = Math.floor(iTZOffset % 60);\n            var sTimeZone = '';\n            if (!bUTC) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                sTimeZone += String(iMinuteOffset).padStart(2, '0');\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            return oParseHelper.parseTZ(sValue, false);\n        }\n    },\n    'X': {\n        name: 'timezoneISO8601',\n        format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n            var iTimezoneOffset = TimezoneUtil.calculateOffset(oDate, sTimezone);\n            var iTZOffset = Math.abs(iTimezoneOffset / 60);\n            var bPositiveOffset = iTimezoneOffset > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = Math.floor(iTZOffset % 60);\n            var sTimeZone = '';\n            if (!bUTC && iTZOffset != 0) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                if (oField.digits > 1 || iMinuteOffset > 0) {\n                    if (oField.digits === 3 || oField.digits === 5) {\n                        sTimeZone += ':';\n                    }\n                    sTimeZone += String(iMinuteOffset).padStart(2, '0');\n                }\n            } else {\n                sTimeZone += 'Z';\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            if (sValue.charAt(0) === 'Z') {\n                return {\n                    length: 1,\n                    tzDiff: 0\n                };\n            } else {\n                return oParseHelper.parseTZ(sValue, oPart.digits === 3 || oPart.digits === 5);\n            }\n        }\n    },\n    'V': {\n        name: 'timezoneID',\n        format: function (oField, oDate, bUTC, oFormat, sTimezone) {\n            if (!bUTC && oField.digits === 2) {\n                return sTimezone;\n            }\n            return '';\n        },\n        parse: function (sValue, oPart, oFormat, oConfig, sTimezone) {\n            var oTimezoneParsed = {\n                timezone: '',\n                length: 0\n            };\n            if (oPart.digits === 2) {\n                if (sValue === sTimezone) {\n                    oTimezoneParsed.timezone = sTimezone;\n                    oTimezoneParsed.length = sTimezone.length;\n                    return oTimezoneParsed;\n                }\n                if (sValue) {\n                    var rIanaTimezone = new RegExp('([A-Za-z_])+([/][A-Za-z_]+)+');\n                    var aResult = rIanaTimezone.exec(sValue);\n                    if (aResult && aResult[0] && TimezoneUtil.isValidTimezone(aResult[0])) {\n                        oTimezoneParsed.timezone = aResult[0];\n                        oTimezoneParsed.length = aResult[0].length;\n                        return oTimezoneParsed;\n                    }\n                }\n            }\n            return oTimezoneParsed;\n        }\n    }\n};\nDateFormat.prototype._format = function (oJSDate, bUTC, sTimezone) {\n    if (this.oFormatOptions.relative) {\n        var sRes = this.formatRelative(oJSDate, bUTC, this.oFormatOptions.relativeRange, sTimezone);\n        if (sRes) {\n            return sRes;\n        }\n    }\n    var sCalendarType = this.oFormatOptions.calendarType;\n    var oDate = UniversalDate.getInstance(oJSDate, sCalendarType);\n    var aBuffer = [], oPart, sResult, sSymbol;\n    for (var i = 0; i < this.aFormatArray.length; i++) {\n        oPart = this.aFormatArray[i];\n        sSymbol = oPart.symbol || '';\n        aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this, sTimezone));\n    }\n    sResult = aBuffer.join('');\n    if (Core.getConfiguration().getOriginInfo()) {\n        sResult = new String(sResult);\n        sResult.originInfo = {\n            source: 'Common Locale Data Repository',\n            locale: this.oLocale.toString(),\n            style: this.oFormatOptions.style,\n            pattern: this.oFormatOptions.pattern\n        };\n    }\n    return sResult;\n};\nDateFormat.prototype.format = function (vJSDate, bUTC) {\n    var sTimezone;\n    if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n        sTimezone = bUTC;\n        bUTC = false;\n        checkTimezoneParameterType(sTimezone);\n        if (sTimezone && !TimezoneUtil.isValidTimezone(sTimezone)) {\n            Log.error('The given timezone isn\\'t valid.');\n            return '';\n        }\n    }\n    var sCalendarType = this.oFormatOptions.calendarType, sResult;\n    if (bUTC === undefined) {\n        bUTC = this.oFormatOptions.UTC;\n    }\n    sTimezone = sTimezone || Core.getConfiguration().getTimezone();\n    if (Array.isArray(vJSDate)) {\n        if (!this.oFormatOptions.interval) {\n            Log.error('Non-interval DateFormat can\\'t format more than one date instance.');\n            return '';\n        }\n        if (vJSDate.length !== 2) {\n            Log.error('Interval DateFormat can only format with 2 date instances but ' + vJSDate.length + ' is given.');\n            return '';\n        }\n        vJSDate = vJSDate.map(function (oJSDate) {\n            return convertToTimezone(oJSDate, sTimezone, bUTC);\n        });\n        if (this.oFormatOptions.singleIntervalValue) {\n            if (vJSDate[0] === null) {\n                Log.error('First date instance which is passed to the interval DateFormat shouldn\\'t be null.');\n                return '';\n            }\n            if (vJSDate[1] === null) {\n                sResult = this._format(vJSDate[0], bUTC, sTimezone);\n            }\n        }\n        if (sResult === undefined) {\n            if (!vJSDate.every(isValidDateObject)) {\n                Log.error('At least one date instance which is passed to the interval DateFormat isn\\'t valid.');\n                return '';\n            }\n            sResult = this._formatInterval(vJSDate, bUTC);\n        }\n    } else {\n        if (!isValidDateObject(vJSDate)) {\n            if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE && this.oFormatOptions.pattern.includes('VV')) {\n                return sTimezone;\n            }\n            Log.error('The given date instance isn\\'t valid.');\n            return '';\n        }\n        if (this.oFormatOptions.interval) {\n            Log.error('Interval DateFormat expects an array with two dates for the first argument but only one date is given.');\n            return '';\n        }\n        vJSDate = convertToTimezone(vJSDate, sTimezone, bUTC);\n        sResult = this._format(vJSDate, bUTC, sTimezone);\n    }\n    if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n        sResult = sResult.replace(/(^|[^\\d])1年/g, '$1元年');\n    }\n    return sResult;\n};\nDateFormat.prototype._formatInterval = function (aJSDates, bUTC) {\n    var sCalendarType = this.oFormatOptions.calendarType;\n    var oFromDate = UniversalDate.getInstance(aJSDates[0], sCalendarType);\n    var oToDate = UniversalDate.getInstance(aJSDates[1], sCalendarType);\n    var oDate;\n    var oPart;\n    var sSymbol;\n    var aBuffer = [];\n    var sPattern;\n    var aFormatArray = [];\n    var oDiffField = this._getGreatestDiffField([\n        oFromDate,\n        oToDate\n    ]);\n    if (!oDiffField) {\n        return this._format(aJSDates[0], bUTC);\n    }\n    if (this.oFormatOptions.format) {\n        sPattern = this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format, oDiffField, sCalendarType);\n    } else {\n        sPattern = this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern, sCalendarType);\n    }\n    aFormatArray = this.parseCldrDatePattern(sPattern);\n    oDate = oFromDate;\n    for (var i = 0; i < aFormatArray.length; i++) {\n        oPart = aFormatArray[i];\n        sSymbol = oPart.symbol || '';\n        if (oPart.repeat) {\n            oDate = oToDate;\n        }\n        aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n    }\n    return aBuffer.join('');\n};\nvar mFieldToGroup = {\n    Era: 'Era',\n    FullYear: 'Year',\n    Quarter: 'Quarter',\n    Month: 'Month',\n    Week: 'Week',\n    Date: 'Day',\n    DayPeriod: 'DayPeriod',\n    Hours: 'Hour',\n    Minutes: 'Minute',\n    Seconds: 'Second'\n};\nDateFormat.prototype._getGreatestDiffField = function (aDates) {\n    var bDiffFound = false, mDiff = {};\n    this.aIntervalCompareFields.forEach(function (sField) {\n        var sGetterPrefix = 'getUTC', sMethodName = sGetterPrefix + sField, sFieldGroup = mFieldToGroup[sField], vFromValue = aDates[0][sMethodName].apply(aDates[0]), vToValue = aDates[1][sMethodName].apply(aDates[1]);\n        if (!deepEqual(vFromValue, vToValue)) {\n            bDiffFound = true;\n            mDiff[sFieldGroup] = true;\n        }\n    });\n    if (bDiffFound) {\n        return mDiff;\n    }\n    return null;\n};\nDateFormat.prototype._parse = function (sValue, aFormatArray, bUTC, bStrict, sTimezone) {\n    var iIndex = 0, oPart, sSubValue, oResult;\n    var oDateValue = {\n        valid: true,\n        lastTimezonePatternSymbol: ''\n    };\n    var oParseConf = {\n        formatArray: aFormatArray,\n        dateValue: oDateValue,\n        strict: bStrict\n    };\n    for (var i = 0; i < aFormatArray.length; i++) {\n        sSubValue = sValue.substr(iIndex);\n        oPart = aFormatArray[i];\n        oParseConf.index = i;\n        oResult = this.oSymbols[oPart.symbol || ''].parse(sSubValue, oPart, this, oParseConf, sTimezone) || {};\n        if (oResult.tzDiff !== undefined || oResult.timezone) {\n            oResult.lastTimezonePatternSymbol = oPart.symbol;\n        }\n        oDateValue = extend(oDateValue, oResult);\n        if (oResult.valid === false) {\n            break;\n        }\n        iIndex += oResult.length || 0;\n    }\n    oDateValue.index = iIndex;\n    if (oDateValue.pm) {\n        oDateValue.hour += 12;\n    }\n    if (oDateValue.dayNumberOfWeek === undefined && oDateValue.dayOfWeek !== undefined) {\n        oDateValue.dayNumberOfWeek = this._adaptDayOfWeek(oDateValue.dayOfWeek);\n    }\n    if (oDateValue.quarter !== undefined && oDateValue.month === undefined && oDateValue.day === undefined) {\n        oDateValue.month = 3 * oDateValue.quarter;\n        oDateValue.day = 1;\n    }\n    return oDateValue;\n};\nDateFormat.prototype._parseInterval = function (sValue, sCalendarType, bUTC, bStrict, sTimezone) {\n    var aDateValues, iRepeat, oDateValue;\n    this.intervalPatterns.some(function (sPattern) {\n        var aFormatArray = this.parseCldrDatePattern(sPattern);\n        iRepeat = undefined;\n        for (var i = 0; i < aFormatArray.length; i++) {\n            if (aFormatArray[i].repeat) {\n                iRepeat = i;\n                break;\n            }\n        }\n        if (iRepeat === undefined) {\n            oDateValue = this._parse(sValue, aFormatArray, bUTC, bStrict, sTimezone);\n            if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n                oDateValue.valid = false;\n            }\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues = [\n                oDateValue,\n                oDateValue\n            ];\n            return true;\n        } else {\n            aDateValues = [];\n            oDateValue = this._parse(sValue, aFormatArray.slice(0, iRepeat), bUTC, bStrict, sTimezone);\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues.push(oDateValue);\n            var iLength = oDateValue.index;\n            oDateValue = this._parse(sValue.substring(iLength), aFormatArray.slice(iRepeat), bUTC, bStrict, sTimezone);\n            if (oDateValue.index === 0 || oDateValue.index + iLength < sValue.length) {\n                oDateValue.valid = false;\n            }\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues.push(oDateValue);\n            return true;\n        }\n    }.bind(this));\n    return aDateValues;\n};\nvar convertToTimezone = function (oJSDate, sTimezone, bUTC) {\n    if (!bUTC && isValidDateObject(oJSDate)) {\n        return TimezoneUtil.convertToTimezone(oJSDate, sTimezone);\n    }\n    return oJSDate;\n};\nvar fnCreateDate = function (oDateValue, sCalendarType, bUTC, bStrict, sTimezone) {\n    if (!oDateValue.valid) {\n        return null;\n    }\n    var oDate, iYear = typeof oDateValue.year === 'number' ? oDateValue.year : 1970;\n    oDate = UniversalDate.getInstance(new Date(0), sCalendarType);\n    oDate.setUTCEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n    oDate.setUTCFullYear(iYear);\n    oDate.setUTCMonth(oDateValue.month || 0);\n    oDate.setUTCDate(oDateValue.day || 1);\n    oDate.setUTCHours(oDateValue.hour || 0);\n    oDate.setUTCMinutes(oDateValue.minute || 0);\n    oDate.setUTCSeconds(oDateValue.second || 0);\n    oDate.setUTCMilliseconds(oDateValue.millisecond || 0);\n    if (bStrict && (oDateValue.day || 1) !== oDate.getUTCDate()) {\n        return null;\n    }\n    if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n        oDate.setUTCWeek({\n            year: oDateValue.weekYear || oDateValue.year,\n            week: oDateValue.week\n        });\n        if (oDateValue.dayNumberOfWeek !== undefined) {\n            oDate.setUTCDate(oDate.getUTCDate() + oDateValue.dayNumberOfWeek - 1);\n        }\n    }\n    oDate = oDate.getJSDate();\n    if (!bUTC && (oDateValue.lastTimezonePatternSymbol === 'V' && oDateValue.timezone || oDateValue.tzDiff === undefined)) {\n        if (oDateValue.timezone) {\n            sTimezone = oDateValue.timezone;\n        }\n        if (sTimezone) {\n            oDateValue.tzDiff = TimezoneUtil.calculateOffset(oDate, sTimezone);\n        }\n    }\n    if (oDateValue.tzDiff) {\n        oDate.setUTCSeconds((oDateValue.second || 0) + oDateValue.tzDiff);\n    }\n    return oDate;\n};\nfunction mergeWithoutOverwrite(object1, object2) {\n    if (object1 === object2) {\n        return object1;\n    }\n    var oMergedObject = {};\n    Object.keys(object1).forEach(function (sKey) {\n        oMergedObject[sKey] = object1[sKey];\n    });\n    Object.keys(object2).forEach(function (sKey) {\n        if (!oMergedObject.hasOwnProperty(sKey)) {\n            oMergedObject[sKey] = object2[sKey];\n        }\n    });\n    return oMergedObject;\n}\nfunction isValidDateRange(oStartDate, oEndDate) {\n    if (oStartDate.getTime() > oEndDate.getTime()) {\n        return false;\n    }\n    return true;\n}\nfunction isValidDateObject(oDate) {\n    return oDate && typeof oDate.getTime === 'function' && !isNaN(oDate.getTime());\n}\nDateFormat.prototype.parse = function (sValue, bUTC, bStrict) {\n    var bShowDate = this.oFormatOptions.showDate === undefined || this.oFormatOptions.showDate;\n    var bShowTime = this.oFormatOptions.showTime === undefined || this.oFormatOptions.showTime;\n    if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE && (bShowDate && !bShowTime || !bShowDate && bShowTime)) {\n        throw new TypeError('The input can only be parsed back to date if both date and time are supplied.');\n    }\n    var sTimezone;\n    if (bUTC === undefined && this.type !== mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n        bUTC = this.oFormatOptions.UTC;\n    }\n    var bUTCInputParameter = bUTC;\n    if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n        sTimezone = bUTC;\n        bUTC = false;\n        checkTimezoneParameterType(sTimezone);\n        if (sTimezone && !TimezoneUtil.isValidTimezone(sTimezone)) {\n            Log.error('The given timezone isn\\'t valid.');\n            return null;\n        }\n    }\n    sValue = sValue == null ? '' : String(sValue).trim();\n    var oDateValue;\n    var sCalendarType = this.oFormatOptions.calendarType;\n    sTimezone = sTimezone || Core.getConfiguration().getTimezone();\n    if (bStrict === undefined) {\n        bStrict = this.oFormatOptions.strictParsing;\n    }\n    if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n        sValue = sValue.replace(/元年/g, '1年');\n    }\n    if (!this.oFormatOptions.interval) {\n        var oJSDate = this.parseRelative(sValue, bUTC);\n        if (oJSDate) {\n            return oJSDate;\n        }\n        oDateValue = this._parse(sValue, this.aFormatArray, bUTC, bStrict, sTimezone);\n        if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n            oDateValue.valid = false;\n        }\n        oJSDate = fnCreateDate(oDateValue, sCalendarType, bUTC, bStrict, sTimezone);\n        if (oJSDate) {\n            if (this.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n                var bShowTimezone = this.oFormatOptions.showTimezone === undefined || this.oFormatOptions.showTimezone;\n                if (!bShowTimezone && bShowDate && bShowTime) {\n                    return [\n                        oJSDate,\n                        undefined\n                    ];\n                } else if (bShowTimezone && !bShowDate && !bShowTime) {\n                    return [\n                        undefined,\n                        oDateValue.timezone\n                    ];\n                }\n                return [\n                    oJSDate,\n                    oDateValue.timezone || undefined\n                ];\n            }\n            return oJSDate;\n        }\n    } else {\n        var aDateValues = this._parseInterval(sValue, sCalendarType, bUTC, bStrict, sTimezone);\n        var oJSDate1, oJSDate2;\n        if (aDateValues && aDateValues.length == 2) {\n            var oDateValue1 = mergeWithoutOverwrite(aDateValues[0], aDateValues[1]);\n            var oDateValue2 = mergeWithoutOverwrite(aDateValues[1], aDateValues[0]);\n            oJSDate1 = fnCreateDate(oDateValue1, sCalendarType, bUTC, bStrict, sTimezone);\n            oJSDate2 = fnCreateDate(oDateValue2, sCalendarType, bUTC, bStrict, sTimezone);\n            if (oJSDate1 && oJSDate2) {\n                if (this.oFormatOptions.singleIntervalValue && oJSDate1.getTime() === oJSDate2.getTime()) {\n                    return [\n                        oJSDate1,\n                        null\n                    ];\n                }\n                var bValid = isValidDateRange(oJSDate1, oJSDate2);\n                if (bStrict && !bValid) {\n                    Log.error('StrictParsing: Invalid date range. The given end date is before the start date.');\n                    return [\n                        null,\n                        null\n                    ];\n                }\n                return [\n                    oJSDate1,\n                    oJSDate2\n                ];\n            }\n        }\n    }\n    if (!this.bIsFallback) {\n        var vDate;\n        this.aFallbackFormats.every(function (oFallbackFormat) {\n            vDate = oFallbackFormat.parse(sValue, bUTCInputParameter, bStrict);\n            if (Array.isArray(vDate)) {\n                if (oFallbackFormat.type === mDateFormatTypes.DATETIME_WITH_TIMEZONE) {\n                    return false;\n                }\n                return !(vDate[0] && vDate[1]);\n            } else {\n                return !vDate;\n            }\n        });\n        return vDate;\n    }\n    if (!this.oFormatOptions.interval) {\n        return null;\n    } else {\n        return [\n            null,\n            null\n        ];\n    }\n};\nDateFormat.prototype.parseCldrDatePattern = function (sPattern) {\n    if (mCldrDatePattern[sPattern]) {\n        return mCldrDatePattern[sPattern];\n    }\n    var aFormatArray = [], i, bQuoted = false, oCurrentObject = null, sState = '', sNewState = '', mAppeared = {}, bIntervalStartFound = false;\n    for (i = 0; i < sPattern.length; i++) {\n        var sCurChar = sPattern.charAt(i), sNextChar, sPrevChar, sPrevPrevChar;\n        if (bQuoted) {\n            if (sCurChar == '\\'') {\n                sPrevChar = sPattern.charAt(i - 1);\n                sPrevPrevChar = sPattern.charAt(i - 2);\n                sNextChar = sPattern.charAt(i + 1);\n                if (sPrevChar == '\\'' && sPrevPrevChar != '\\'') {\n                    bQuoted = false;\n                } else if (sNextChar == '\\'') {\n                    i += 1;\n                } else {\n                    bQuoted = false;\n                    continue;\n                }\n            }\n            if (sState == 'text') {\n                oCurrentObject.value += sCurChar;\n            } else {\n                oCurrentObject = {\n                    type: 'text',\n                    value: sCurChar\n                };\n                aFormatArray.push(oCurrentObject);\n                sState = 'text';\n            }\n        } else {\n            if (sCurChar == '\\'') {\n                bQuoted = true;\n            } else if (this.oSymbols[sCurChar]) {\n                sNewState = this.oSymbols[sCurChar].name;\n                if (sState == sNewState) {\n                    oCurrentObject.digits++;\n                } else {\n                    oCurrentObject = {\n                        type: sNewState,\n                        symbol: sCurChar,\n                        digits: 1\n                    };\n                    aFormatArray.push(oCurrentObject);\n                    sState = sNewState;\n                    if (!bIntervalStartFound) {\n                        if (mAppeared[sNewState]) {\n                            oCurrentObject.repeat = true;\n                            bIntervalStartFound = true;\n                        } else {\n                            mAppeared[sNewState] = true;\n                        }\n                    }\n                }\n            } else {\n                if (sState == 'text') {\n                    oCurrentObject.value += sCurChar;\n                } else {\n                    oCurrentObject = {\n                        type: 'text',\n                        value: sCurChar\n                    };\n                    aFormatArray.push(oCurrentObject);\n                    sState = 'text';\n                }\n            }\n        }\n    }\n    mCldrDatePattern[sPattern] = aFormatArray;\n    return aFormatArray;\n};\nDateFormat.prototype.parseRelative = function (sValue, bUTC) {\n    var aPatterns, oEntry, rPattern, oResult, iValue;\n    if (!sValue) {\n        return null;\n    }\n    aPatterns = this.oLocaleData.getRelativePatterns(this.aRelativeParseScales, this.oFormatOptions.relativeStyle);\n    for (var i = 0; i < aPatterns.length; i++) {\n        oEntry = aPatterns[i];\n        rPattern = new RegExp('^\\\\s*' + oEntry.pattern.replace(/\\{0\\}/, '(\\\\d+)') + '\\\\s*$', 'i');\n        oResult = rPattern.exec(sValue);\n        if (oResult) {\n            if (oEntry.value !== undefined) {\n                return computeRelativeDate(oEntry.value, oEntry.scale);\n            } else {\n                iValue = parseInt(oResult[1]);\n                return computeRelativeDate(iValue * oEntry.sign, oEntry.scale);\n            }\n        }\n    }\n    function computeRelativeDate(iDiff, sScale) {\n        var iToday, oToday = new Date(), oJSDate;\n        if (bUTC) {\n            iToday = oToday.getTime();\n        } else {\n            iToday = Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate(), oToday.getHours(), oToday.getMinutes(), oToday.getSeconds(), oToday.getMilliseconds());\n        }\n        oJSDate = new Date(iToday);\n        switch (sScale) {\n        case 'second':\n            oJSDate.setUTCSeconds(oJSDate.getUTCSeconds() + iDiff);\n            break;\n        case 'minute':\n            oJSDate.setUTCMinutes(oJSDate.getUTCMinutes() + iDiff);\n            break;\n        case 'hour':\n            oJSDate.setUTCHours(oJSDate.getUTCHours() + iDiff);\n            break;\n        case 'day':\n            oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff);\n            break;\n        case 'week':\n            oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff * 7);\n            break;\n        case 'month':\n            oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff);\n            break;\n        case 'quarter':\n            oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff * 3);\n            break;\n        case 'year':\n            oJSDate.setUTCFullYear(oJSDate.getUTCFullYear() + iDiff);\n            break;\n        }\n        if (bUTC) {\n            return oJSDate;\n        } else {\n            return new Date(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate(), oJSDate.getUTCHours(), oJSDate.getUTCMinutes(), oJSDate.getUTCSeconds(), oJSDate.getUTCMilliseconds());\n        }\n    }\n};\nDateFormat.prototype.formatRelative = function (oJSDate, bUTC, aRange, sTimezone) {\n    var oToday = convertToTimezone(new Date(), sTimezone), oDateUTC, sScale = this.oFormatOptions.relativeScale || 'day', iDiff, sPattern, iDiffSeconds;\n    iDiffSeconds = (oJSDate.getTime() - oToday.getTime()) / 1000;\n    if (this.oFormatOptions.relativeScale == 'auto') {\n        sScale = this._getScale(iDiffSeconds, this.aRelativeScales);\n        sScale = fixScaleForMonths(oJSDate, oToday, sScale, iDiffSeconds);\n    }\n    if (!aRange) {\n        aRange = this._mRanges[sScale];\n    }\n    if (sScale == 'year' || sScale == 'month' || sScale == 'day') {\n        oToday = new Date(Date.UTC(oToday.getUTCFullYear(), oToday.getUTCMonth(), oToday.getUTCDate()));\n        oDateUTC = new Date(0);\n        oDateUTC.setUTCFullYear(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate());\n        oJSDate = oDateUTC;\n    }\n    iDiff = this._getDifference(sScale, [\n        oToday,\n        oJSDate\n    ]);\n    if (this.oFormatOptions.relativeScale != 'auto' && (iDiff < aRange[0] || iDiff > aRange[1])) {\n        return null;\n    }\n    sPattern = this.oLocaleData.getRelativePattern(sScale, iDiff, iDiffSeconds > 0, this.oFormatOptions.relativeStyle);\n    return formatMessage(sPattern, [Math.abs(iDiff)]);\n};\nDateFormat.prototype._mRanges = {\n    second: [\n        -60,\n        60\n    ],\n    minute: [\n        -60,\n        60\n    ],\n    hour: [\n        -24,\n        24\n    ],\n    day: [\n        -6,\n        6\n    ],\n    week: [\n        -4,\n        4\n    ],\n    month: [\n        -12,\n        12\n    ],\n    year: [\n        -10,\n        10\n    ]\n};\nDateFormat.prototype._mScales = {\n    second: 1,\n    minute: 60,\n    hour: 3600,\n    day: 86400,\n    week: 604800,\n    month: 2592000,\n    quarter: 7776000,\n    year: 31536000\n};\nDateFormat.prototype._getScale = function (iDiffSeconds, aScales) {\n    var sScale, sTestScale;\n    iDiffSeconds = Math.abs(iDiffSeconds);\n    for (var i = 0; i < aScales.length; i++) {\n        sTestScale = aScales[i];\n        if (iDiffSeconds >= this._mScales[sTestScale]) {\n            sScale = sTestScale;\n            break;\n        }\n    }\n    if (!sScale) {\n        sScale = aScales[aScales.length - 1];\n    }\n    return sScale;\n};\nfunction fixScaleForMonths(oJSDate, oToday, sScale, iDiffSeconds) {\n    var iMonthDiff = Math.abs(oJSDate.getUTCMonth() - oToday.getUTCMonth());\n    if (sScale === 'week' && iMonthDiff === 2) {\n        return 'month';\n    } else if (sScale === 'week' && iMonthDiff === 1) {\n        if (oJSDate.getUTCDate() === oToday.getUTCDate() || iDiffSeconds < 0 && oJSDate.getUTCDate() < oToday.getUTCDate() || iDiffSeconds > 0 && oJSDate.getUTCDate() > oToday.getUTCDate()) {\n            return 'month';\n        }\n    } else if (sScale === 'month' && iMonthDiff === 1) {\n        if (iDiffSeconds > 0 && oJSDate.getUTCDate() < oToday.getUTCDate() || iDiffSeconds < 0 && oJSDate.getUTCDate() > oToday.getUTCDate()) {\n            return 'week';\n        }\n    }\n    return sScale;\n}\nfunction cutDateFields(oDate, iStartIndex) {\n    var aFields = [\n            'FullYear',\n            'Month',\n            'Date',\n            'Hours',\n            'Minutes',\n            'Seconds',\n            'Milliseconds'\n        ], sMethodName;\n    var oDateCopy = new Date(oDate.getTime());\n    for (var i = iStartIndex; i < aFields.length; i++) {\n        sMethodName = 'setUTC' + aFields[iStartIndex];\n        oDateCopy[sMethodName].apply(oDateCopy, [0]);\n    }\n    return oDateCopy;\n}\nvar mRelativeDiffs = {\n    year: function (oFromDate, oToDate) {\n        return oToDate.getUTCFullYear() - oFromDate.getUTCFullYear();\n    },\n    month: function (oFromDate, oToDate) {\n        return oToDate.getUTCMonth() - oFromDate.getUTCMonth() + this.year(oFromDate, oToDate) * 12;\n    },\n    week: function (oFromDate, oToDate, oFormat) {\n        var iFromDay = oFormat._adaptDayOfWeek(oFromDate.getUTCDay());\n        var iToDay = oFormat._adaptDayOfWeek(oToDate.getUTCDay());\n        oFromDate = cutDateFields(oFromDate, 3);\n        oToDate = cutDateFields(oToDate, 3);\n        return (oToDate.getTime() - oFromDate.getTime() - (iToDay - iFromDay) * oFormat._mScales.day * 1000) / (oFormat._mScales.week * 1000);\n    },\n    day: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 3);\n        oToDate = cutDateFields(oToDate, 3);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.day * 1000);\n    },\n    hour: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 4);\n        oToDate = cutDateFields(oToDate, 4);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.hour * 1000);\n    },\n    minute: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 5);\n        oToDate = cutDateFields(oToDate, 5);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.minute * 1000);\n    },\n    second: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 6);\n        oToDate = cutDateFields(oToDate, 6);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.second * 1000);\n    }\n};\nDateFormat.prototype._adaptDayOfWeek = function (iDayOfWeek) {\n    var iFirstDayOfWeek = LocaleData.getInstance(Core.getConfiguration().getFormatSettings().getFormatLocale()).getFirstDayOfWeek();\n    var iDayNumberOfWeek = iDayOfWeek - (iFirstDayOfWeek - 1);\n    if (iDayNumberOfWeek <= 0) {\n        iDayNumberOfWeek += 7;\n    }\n    return iDayNumberOfWeek;\n};\nDateFormat.prototype._getDifference = function (sScale, aDates) {\n    var oFromDate = aDates[0];\n    var oToDate = aDates[1];\n    return Math.round(mRelativeDiffs[sScale](oFromDate, oToDate, this));\n};\nDateFormat.prototype.getAllowedCharacters = function (aFormatArray) {\n    if (this.oFormatOptions.relative) {\n        return '';\n    }\n    var sAllowedCharacters = '';\n    var bNumbers = false;\n    var bAll = false;\n    var oPart;\n    for (var i = 0; i < aFormatArray.length; i++) {\n        oPart = aFormatArray[i];\n        switch (oPart.type) {\n        case 'text':\n            if (sAllowedCharacters.indexOf(oPart.value) < 0) {\n                sAllowedCharacters += oPart.value;\n            }\n            break;\n        case 'day':\n        case 'year':\n        case 'weekYear':\n        case 'dayNumberOfWeek':\n        case 'weekInYear':\n        case 'hour0_23':\n        case 'hour1_24':\n        case 'hour0_11':\n        case 'hour1_12':\n        case 'minute':\n        case 'second':\n        case 'fractionalsecond':\n            if (!bNumbers) {\n                sAllowedCharacters += '0123456789';\n                bNumbers = true;\n            }\n            break;\n        case 'month':\n        case 'monthStandalone':\n            if (oPart.digits < 3) {\n                if (!bNumbers) {\n                    sAllowedCharacters += '0123456789';\n                    bNumbers = true;\n                }\n            } else {\n                bAll = true;\n            }\n            break;\n        default:\n            bAll = true;\n            break;\n        }\n    }\n    if (bAll) {\n        sAllowedCharacters = '';\n    }\n    return sAllowedCharacters;\n};\nexport default DateFormat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}