{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { debounce, enrichEventWithDetails, ThemingParameters, useIsRTL, useResponsiveContentPadding, useSyncRef } from '@ui5/webcomponents-react-base';\nimport clsx from 'clsx';\nimport React, { forwardRef, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { AvatarSize, GlobalStyleClasses, ObjectPageMode } from '../../enums';\nimport { addCustomCSSWithScoping } from '../../internal/addCustomCSSWithScoping';\nimport { safeGetChildrenArray } from '../../internal/safeGetChildrenArray';\nimport { useObserveHeights } from '../../internal/useObserveHeights';\nimport { Tab, TabContainer } from '../../webComponents';\nimport { DynamicPageCssVariables } from '../DynamicPage/DynamicPage.jss';\nimport { DynamicPageAnchorBar } from '../DynamicPageAnchorBar';\nimport { CollapsedAvatar } from './CollapsedAvatar';\nimport { ObjectPageCssVariables, styles } from './ObjectPage.jss';\nimport { extractSectionIdFromHtmlId, getLastObjectPageSection, getSectionById } from './ObjectPageUtils';\naddCustomCSSWithScoping('ui5-tabcontainer', `\n  :host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tc__header {\n    box-shadow: inset 0 -0.0625rem ${ThemingParameters.sapPageHeader_BorderColor}, 0 0.125rem 0.25rem 0 rgb(0 0 0 / 8%);\n  }\n  `);\nconst useStyles = createUseStyles(styles, {\n  name: 'ObjectPage'\n});\n/**\n * A component that allows apps to easily display information related to a business object.\n *\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\nconst ObjectPage = forwardRef((props, ref) => {\n  var _a, _b, _c, _d, _e, _f;\n  const {\n      headerTitle,\n      image,\n      footer,\n      mode,\n      imageShapeCircle,\n      className,\n      style,\n      slot,\n      showHideHeaderButton,\n      children,\n      selectedSectionId,\n      alwaysShowContentHeader,\n      showTitleInHeaderContent,\n      headerContent,\n      headerContentPinnable,\n      a11yConfig,\n      placeholder,\n      onSelectedSectionChange,\n      onToggleHeaderContent\n    } = props,\n    rest = __rest(props, [\"headerTitle\", \"image\", \"footer\", \"mode\", \"imageShapeCircle\", \"className\", \"style\", \"slot\", \"showHideHeaderButton\", \"children\", \"selectedSectionId\", \"alwaysShowContentHeader\", \"showTitleInHeaderContent\", \"headerContent\", \"headerContentPinnable\", \"a11yConfig\", \"placeholder\", \"onSelectedSectionChange\", \"onToggleHeaderContent\"]);\n  const classes = useStyles();\n  const firstSectionId = (_b = (_a = safeGetChildrenArray(children)[0]) === null || _a === void 0 ? void 0 : _a.props) === null || _b === void 0 ? void 0 : _b.id;\n  const [internalSelectedSectionId, setInternalSelectedSectionId] = useState(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId);\n  const [selectedSubSectionId, setSelectedSubSectionId] = useState(props.selectedSubSectionId);\n  const [headerPinned, setHeaderPinned] = useState(alwaysShowContentHeader);\n  const isProgrammaticallyScrolled = useRef(false);\n  const [componentRef, objectPageRef] = useSyncRef(ref);\n  const topHeaderRef = useRef(null);\n  const scrollEvent = useRef();\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  //@ts-ignore\n  const [componentRefHeaderContent, headerContentRef] = useSyncRef(headerContent === null || headerContent === void 0 ? void 0 : headerContent.ref);\n  const anchorBarRef = useRef(null);\n  const scrollTimeout = useRef(null);\n  const [isAfterScroll, setIsAfterScroll] = useState(false);\n  const isToggledRef = useRef(false);\n  const prevInternalSelectedSectionId = useRef(internalSelectedSectionId);\n  const fireOnSelectedChangedEvent = (targetEvent, index, id, section) => {\n    if (typeof onSelectedSectionChange === 'function' && prevInternalSelectedSectionId.current !== id) {\n      onSelectedSectionChange(enrichEventWithDetails(targetEvent, {\n        selectedSectionIndex: parseInt(index, 10),\n        selectedSectionId: id,\n        section\n      }));\n      prevInternalSelectedSectionId.current = id;\n    }\n  };\n  const debouncedOnSectionChange = useRef(debounce(fireOnSelectedChangedEvent, 500)).current;\n  useEffect(() => {\n    return () => {\n      debouncedOnSectionChange.cancel();\n      clearTimeout(scrollTimeout.current);\n    };\n  }, []);\n  const isRTL = useIsRTL(objectPageRef);\n  const responsivePaddingClass = useResponsiveContentPadding(objectPageRef.current);\n  const [headerCollapsedInternal, setHeaderCollapsedInternal] = useState(undefined);\n  // observe heights of header parts\n  const {\n    topHeaderHeight,\n    headerContentHeight,\n    anchorBarHeight,\n    totalHeaderHeight,\n    headerCollapsed\n  } = useObserveHeights(objectPageRef, topHeaderRef, headerContentRef, anchorBarRef, [headerCollapsedInternal, setHeaderCollapsedInternal], {\n    noHeader: !headerTitle && !headerContent,\n    fixedHeader: headerPinned\n  });\n  useEffect(() => {\n    if (typeof onToggleHeaderContent === 'function' && isToggledRef.current) {\n      onToggleHeaderContent(headerCollapsed !== true);\n    }\n  }, [headerCollapsed]);\n  const avatar = useMemo(() => {\n    var _a;\n    if (!image) {\n      return null;\n    }\n    const headerImageClasses = clsx(classes.headerImage, isRTL && classes.headerImageRtl);\n    if (typeof image === 'string') {\n      return React.createElement(\"span\", {\n        className: headerImageClasses,\n        style: {\n          borderRadius: imageShapeCircle ? '50%' : 0,\n          overflow: 'hidden'\n        }\n      }, React.createElement(\"img\", {\n        src: image,\n        className: classes.image,\n        alt: \"Company Logo\"\n      }));\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: clsx(headerImageClasses, (_a = image.props) === null || _a === void 0 ? void 0 : _a.className)\n      });\n    }\n  }, [image, classes.headerImage, classes.headerImageRtl, classes.image, imageShapeCircle, isRTL]);\n  const prevTopHeaderHeight = useRef(0);\n  const scrollToSection = useCallback(sectionId => {\n    var _a, _b, _c, _d;\n    if (!sectionId) {\n      return;\n    }\n    if (firstSectionId === sectionId) {\n      (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      const childOffset = (_c = (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.querySelector(`#ObjectPageSection-${sectionId}`)) === null || _c === void 0 ? void 0 : _c.offsetTop;\n      if (!isNaN(childOffset)) {\n        const safeTopHeaderHeight = topHeaderHeight || prevTopHeaderHeight.current;\n        if (topHeaderHeight) {\n          prevTopHeaderHeight.current = topHeaderHeight;\n        }\n        (_d = objectPageRef.current) === null || _d === void 0 ? void 0 : _d.scrollTo({\n          top: childOffset - safeTopHeaderHeight - anchorBarHeight - (headerPinned ? headerCollapsed === true ? 0 : headerContentHeight : 0),\n          behavior: 'smooth'\n        });\n      }\n    }\n    isProgrammaticallyScrolled.current = false;\n  }, [firstSectionId, objectPageRef, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight, headerCollapsed, prevTopHeaderHeight.current]);\n  const programmaticallySetSection = () => {\n    var _a;\n    const currentId = selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId;\n    if (currentId !== prevSelectedSectionId.current) {\n      debouncedOnSectionChange.cancel();\n      isProgrammaticallyScrolled.current = true;\n      setInternalSelectedSectionId(currentId);\n      prevSelectedSectionId.current = currentId;\n      const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n      const currentIndex = safeGetChildrenArray(children).findIndex(objectPageSection => {\n        var _a;\n        return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === currentId;\n      });\n      fireOnSelectedChangedEvent({}, currentIndex, currentId, sections[0]);\n    }\n  };\n  // change selected section when prop is changed (external change)\n  const prevSelectedSectionId = useRef();\n  const [timeStamp, setTimeStamp] = useState(0);\n  const requestAnimationFrameRef = useRef();\n  useEffect(() => {\n    if (selectedSectionId) {\n      if (mode === ObjectPageMode.Default) {\n        // wait for DOM draw, otherwise initial scroll won't work as intended\n        if (timeStamp < 750 && timeStamp !== undefined) {\n          requestAnimationFrameRef.current = requestAnimationFrame(internalTimestamp => {\n            setTimeStamp(internalTimestamp);\n          });\n        } else {\n          setTimeStamp(undefined);\n          programmaticallySetSection();\n        }\n      } else {\n        programmaticallySetSection();\n      }\n    }\n    return () => {\n      cancelAnimationFrame(requestAnimationFrameRef.current);\n    };\n  }, [timeStamp, selectedSectionId, firstSectionId, debouncedOnSectionChange]);\n  // section was selected by clicking on the anchor bar buttons\n  const handleOnSectionSelected = useCallback((targetEvent, newSelectionSectionId, index, section) => {\n    isProgrammaticallyScrolled.current = true;\n    debouncedOnSectionChange.cancel();\n    setInternalSelectedSectionId(oldSelectedSection => {\n      if (oldSelectedSection === newSelectionSectionId) {\n        scrollToSection(newSelectionSectionId);\n      }\n      return newSelectionSectionId;\n    });\n    scrollEvent.current = targetEvent;\n    fireOnSelectedChangedEvent(targetEvent, index, newSelectionSectionId, section);\n  }, [onSelectedSectionChange, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]);\n  // do internal scrolling\n  useEffect(() => {\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true && !selectedSubSectionId) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, mode, isProgrammaticallyScrolled, scrollToSection, selectedSubSectionId]);\n  // Scrolling for Sub Section Selection\n  useEffect(() => {\n    var _a, _b;\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      const currentSubSection = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`div[id=\"ObjectPageSubSection-${selectedSubSectionId}\"]`);\n      const childOffset = currentSubSection === null || currentSubSection === void 0 ? void 0 : currentSubSection.offsetTop;\n      if (!isNaN(childOffset)) {\n        currentSubSection.focus();\n        (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.scrollTo({\n          top: childOffset - topHeaderHeight - anchorBarHeight - 48 /*tabBar*/ - (headerPinned ? headerContentHeight : 0) - 16,\n          behavior: 'smooth'\n        });\n      }\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [selectedSubSectionId, isProgrammaticallyScrolled.current, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight]);\n  useEffect(() => {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n  useEffect(() => {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        let sectionId;\n        safeGetChildrenArray(children).forEach(section => {\n          if (React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(subSection => {\n              var _a;\n              if (React.isValidElement(subSection) && subSection.props && subSection.props.id === props.selectedSubSectionId) {\n                sectionId = (_a = section.props) === null || _a === void 0 ? void 0 : _a.id;\n              }\n            });\n          }\n        });\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [props.selectedSubSectionId, setInternalSelectedSectionId, setSelectedSubSectionId, children, mode]);\n  useEffect(() => {\n    const fillerDivObserver = new ResizeObserver(() => {\n      var _a, _b;\n      let heightDiff = 0;\n      const maxHeight = Math.min((_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight, window.innerHeight);\n      const availableScrollHeight = maxHeight - totalHeaderHeight;\n      const lastSectionDomRef = getLastObjectPageSection(objectPageRef, !!footer && mode === ObjectPageMode.IconTabBar);\n      if (lastSectionDomRef) {\n        const subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n        let lastSubSectionHeight;\n        if (subSections.length > 0) {\n          lastSubSectionHeight = subSections[subSections.length - 1].offsetHeight;\n        } else {\n          lastSubSectionHeight = lastSectionDomRef.offsetHeight - lastSectionDomRef.querySelector(\"[role='heading']\").offsetHeight;\n        }\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n      const lastSectionMargin = footer ? `calc(${heightDiff}px + 1rem)` : `${heightDiff}px`;\n      (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(ObjectPageCssVariables.lastSectionMargin, lastSectionMargin);\n    });\n    fillerDivObserver.observe(objectPageRef.current);\n    return () => {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children, mode, footer]);\n  const handleOnSubSectionSelected = useCallback(e => {\n    var _a;\n    isProgrammaticallyScrolled.current = true;\n    if (mode === ObjectPageMode.IconTabBar) {\n      const sectionId = e.detail.sectionId;\n      setInternalSelectedSectionId(sectionId);\n      const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n      const currentIndex = safeGetChildrenArray(children).findIndex(objectPageSection => {\n        var _a;\n        return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === sectionId;\n      });\n      debouncedOnSectionChange(e, currentIndex, sectionId, sections[currentIndex]);\n    }\n    const subSectionId = e.detail.subSectionId;\n    setSelectedSubSectionId(subSectionId);\n  }, [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled, children]);\n  const [scrolledHeaderExpanded, setScrolledHeaderExpanded] = useState(false);\n  const scrollTimout = useRef(0);\n  const onToggleHeaderContentVisibility = useCallback(e => {\n    var _a, _b;\n    isToggledRef.current = true;\n    scrollTimout.current = performance.now() + 500;\n    if (!e.detail.visible) {\n      setHeaderCollapsedInternal(true);\n      (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.classList.add(classes.headerCollapsed);\n    } else {\n      setHeaderCollapsedInternal(false);\n      setScrolledHeaderExpanded(true);\n      (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.classList.remove(classes.headerCollapsed);\n    }\n  }, []);\n  const objectPageClasses = clsx(classes.objectPage, GlobalStyleClasses.sapScrollBar, className, mode === ObjectPageMode.IconTabBar && classes.iconTabBarMode);\n  const {\n      onScroll: _0,\n      selectedSubSectionId: _1\n    } = rest,\n    propsWithoutOmitted = __rest(rest, [\"onScroll\", \"selectedSubSectionId\"]);\n  useEffect(() => {\n    var _a, _b, _c;\n    const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n    const objectPageHeight = (_c = (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight) !== null && _c !== void 0 ? _c : 1000;\n    const marginBottom = objectPageHeight - totalHeaderHeight - /*TabContainer*/48;\n    const rootMargin = `-${totalHeaderHeight}px 0px -${marginBottom < 0 ? 0 : marginBottom}px 0px`;\n    const observer = new IntersectionObserver(_ref => {\n      let [section] = _ref;\n      if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n        if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <= section.target.getBoundingClientRect().bottom) {\n          const currentId = extractSectionIdFromHtmlId(section.target.id);\n          setInternalSelectedSectionId(currentId);\n          const currentIndex = safeGetChildrenArray(children).findIndex(objectPageSection => {\n            var _a;\n            return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === currentId;\n          });\n          debouncedOnSectionChange(scrollEvent.current, currentIndex, currentId, section.target);\n        }\n      }\n    }, {\n      root: objectPageRef.current,\n      rootMargin,\n      threshold: [0]\n    });\n    // Fallback when scrolling faster than the IntersectionObserver can observe (in most cases faster than 60fps)\n    if (isAfterScroll) {\n      let currentSection = sections[sections.length - 1];\n      let currentIndex;\n      for (let i = 0; i <= sections.length - 1; i++) {\n        const section = sections[i];\n        if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <= section.getBoundingClientRect().bottom) {\n          currentSection = section;\n          currentIndex = i;\n          break;\n        }\n      }\n      const currentSectionId = extractSectionIdFromHtmlId(currentSection === null || currentSection === void 0 ? void 0 : currentSection.id);\n      if (currentSectionId !== internalSelectedSectionId) {\n        setInternalSelectedSectionId(currentSectionId);\n        debouncedOnSectionChange(scrollEvent.current, currentIndex !== null && currentIndex !== void 0 ? currentIndex : sections.length - 1, currentSectionId, currentSection);\n      }\n      setIsAfterScroll(false);\n    }\n    sections.forEach(el => {\n      observer.observe(el);\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [objectPageRef.current, children, totalHeaderHeight, setInternalSelectedSectionId, isProgrammaticallyScrolled, isAfterScroll]);\n  const titleHeaderNotClickable = alwaysShowContentHeader && !headerContentPinnable || !headerContent || !showHideHeaderButton && !headerContentPinnable;\n  const onTitleClick = useCallback(e => {\n    e.stopPropagation();\n    if (!titleHeaderNotClickable) {\n      onToggleHeaderContentVisibility(enrichEventWithDetails(e, {\n        visible: headerCollapsed\n      }));\n    }\n  }, [onToggleHeaderContentVisibility, headerCollapsed, titleHeaderNotClickable]);\n  const renderTitleSection = useCallback(function () {\n    let inHeader = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var _a, _b, _c;\n    const titleStyles = Object.assign(Object.assign({}, inHeader ? {\n      padding: 0\n    } : {}), (_b = (_a = headerTitle === null || headerTitle === void 0 ? void 0 : headerTitle.props) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0 ? _b : {});\n    if ((headerTitle === null || headerTitle === void 0 ? void 0 : headerTitle.props) && ((_c = headerTitle.props) === null || _c === void 0 ? void 0 : _c.showSubHeaderRight) === undefined) {\n      return React.cloneElement(headerTitle, {\n        showSubHeaderRight: true,\n        style: titleStyles,\n        'data-not-clickable': titleHeaderNotClickable,\n        onToggleHeaderContentVisibility: onTitleClick\n      });\n    }\n    return React.cloneElement(headerTitle, {\n      style: titleStyles,\n      'data-not-clickable': titleHeaderNotClickable,\n      onToggleHeaderContentVisibility: onTitleClick\n    });\n  }, [headerTitle, titleHeaderNotClickable, onTitleClick]);\n  const renderHeaderContentSection = useCallback(() => {\n    if (headerContent === null || headerContent === void 0 ? void 0 : headerContent.props) {\n      return React.cloneElement(headerContent, Object.assign(Object.assign({}, headerContent.props), {\n        topHeaderHeight,\n        style: headerCollapsed === true ? {\n          position: 'absolute',\n          visibility: 'hidden'\n        } : headerContent.props.style,\n        headerPinned: headerPinned || scrolledHeaderExpanded,\n        ref: componentRefHeaderContent,\n        children: React.createElement(\"div\", {\n          className: `${classes.headerContainer} ${responsivePaddingClass}`,\n          \"data-component-name\": \"ObjectPageHeaderContainer\"\n        }, avatar, headerContent.props.children && React.createElement(\"div\", {\n          \"data-component-name\": \"ObjectPageHeaderContent\"\n        }, headerTitle && showTitleInHeaderContent && renderTitleSection(true), headerContent.props.children))\n      }));\n    }\n  }, [headerContent, topHeaderHeight, headerPinned, scrolledHeaderExpanded, showTitleInHeaderContent, avatar, headerContentRef, renderTitleSection, responsivePaddingClass]);\n  const paddingLeftRtl = isRTL ? 'paddingLeft' : 'paddingRight';\n  const onTabItemSelect = event => {\n    var _a;\n    event.preventDefault();\n    const {\n      sectionId,\n      index,\n      isSubTab,\n      parentId\n    } = event.detail.tab.dataset;\n    if (isSubTab) {\n      handleOnSubSectionSelected(enrichEventWithDetails(event, {\n        sectionId: parentId,\n        subSectionId: sectionId\n      }));\n    } else {\n      const section = safeGetChildrenArray(children).find(el => {\n        return el.props.id == sectionId;\n      });\n      handleOnSectionSelected(event, (_a = section === null || section === void 0 ? void 0 : section.props) === null || _a === void 0 ? void 0 : _a.id, index, section);\n    }\n  };\n  const prevScrollTop = useRef();\n  const onObjectPageScroll = useCallback(e => {\n    var _a;\n    if (!isToggledRef.current) {\n      isToggledRef.current = true;\n    }\n    if (scrollTimout.current >= performance.now()) {\n      return;\n    }\n    scrollEvent.current = e;\n    if (typeof props.onScroll === 'function') {\n      props.onScroll(e);\n    }\n    if (selectedSubSectionId) {\n      setSelectedSubSectionId(undefined);\n    }\n    if (scrollTimeout.current) {\n      clearTimeout(scrollTimeout.current);\n    }\n    scrollTimeout.current = setTimeout(() => {\n      setIsAfterScroll(true);\n    }, 100);\n    if (!headerPinned || e.target.scrollTop === 0) {\n      (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.classList.remove(classes.headerCollapsed);\n    }\n    if (scrolledHeaderExpanded && e.target.scrollTop !== prevScrollTop.current) {\n      if (e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight) {\n        return;\n      }\n      prevScrollTop.current = e.target.scrollTop;\n      if (!headerPinned) {\n        setHeaderCollapsedInternal(true);\n      }\n      setScrolledHeaderExpanded(false);\n    }\n  }, [topHeaderHeight, headerPinned, props.onScroll, scrolledHeaderExpanded, selectedSubSectionId]);\n  const onHoverToggleButton = useCallback(e => {\n    var _a, _b;\n    if ((e === null || e === void 0 ? void 0 : e.type) === 'mouseover') {\n      (_a = topHeaderRef.current) === null || _a === void 0 ? void 0 : _a.classList.add(classes.headerHoverStyles);\n    } else {\n      (_b = topHeaderRef.current) === null || _b === void 0 ? void 0 : _b.classList.remove(classes.headerHoverStyles);\n    }\n  }, [classes.headerHoverStyles]);\n  const objectPageStyles = Object.assign({}, style);\n  if (headerCollapsed === true && headerContent) {\n    objectPageStyles[DynamicPageCssVariables.titleFontSize] = ThemingParameters.sapObjectHeader_Title_SnappedFontSize;\n  }\n  return React.createElement(\"div\", Object.assign({\n    \"data-component-name\": \"ObjectPage\",\n    slot: slot,\n    className: objectPageClasses,\n    style: objectPageStyles,\n    ref: componentRef,\n    onScroll: onObjectPageScroll\n  }, propsWithoutOmitted), React.createElement(\"header\", {\n    onMouseOver: onHoverToggleButton,\n    onMouseLeave: onHoverToggleButton,\n    \"data-component-name\": \"ObjectPageTopHeader\",\n    ref: topHeaderRef,\n    role: (_d = (_c = a11yConfig === null || a11yConfig === void 0 ? void 0 : a11yConfig.objectPageTopHeader) === null || _c === void 0 ? void 0 : _c.role) !== null && _d !== void 0 ? _d : 'banner',\n    \"data-not-clickable\": titleHeaderNotClickable,\n    \"aria-roledescription\": (_f = (_e = a11yConfig === null || a11yConfig === void 0 ? void 0 : a11yConfig.objectPageTopHeader) === null || _e === void 0 ? void 0 : _e.ariaRoledescription) !== null && _f !== void 0 ? _f : 'Object Page header',\n    className: `${classes.header} ${responsivePaddingClass}`,\n    onClick: onTitleClick,\n    style: {\n      gridAutoColumns: `min-content ${headerTitle && image && headerCollapsed === true ? `calc(100% - 3rem - 1rem)` : '100%'}`,\n      display: !showTitleInHeaderContent || headerCollapsed === true ? 'grid' : 'none'\n    }\n  }, headerTitle && image && headerCollapsed === true && React.createElement(CollapsedAvatar, {\n    image: image,\n    imageShapeCircle: imageShapeCircle,\n    style: {\n      [paddingLeftRtl]: '1rem'\n    }\n  }), headerTitle && renderTitleSection()), renderHeaderContentSection(), headerContent && headerTitle && React.createElement(\"div\", {\n    \"data-component-name\": \"ObjectPageAnchorBar\",\n    ref: anchorBarRef,\n    className: classes.anchorBar,\n    style: {\n      top: scrolledHeaderExpanded || headerPinned ? `${topHeaderHeight + (headerCollapsed === true ? 0 : headerContentHeight)}px` : `${topHeaderHeight + 5}px`\n    }\n  }, React.createElement(DynamicPageAnchorBar, {\n    headerContentVisible: headerContent && headerCollapsed !== true,\n    headerContentPinnable: headerContentPinnable,\n    showHideHeaderButton: showHideHeaderButton,\n    onToggleHeaderContentVisibility: onToggleHeaderContentVisibility,\n    setHeaderPinned: setHeaderPinned,\n    headerPinned: headerPinned,\n    onHoverToggleButton: onHoverToggleButton,\n    a11yConfig: a11yConfig\n  })), !placeholder && React.createElement(\"div\", {\n    className: classes.tabContainer,\n    \"data-component-name\": \"ObjectPageTabContainer\",\n    style: {\n      top: headerPinned || scrolledHeaderExpanded ? `${topHeaderHeight + (headerCollapsed === true ? 0 : headerContentHeight)}px` : `${topHeaderHeight}px`\n    }\n  }, React.createElement(TabContainer, {\n    collapsed: true,\n    fixed: true,\n    onTabSelect: onTabItemSelect,\n    \"data-component-name\": \"ObjectPageTabContainer\",\n    className: classes.tabContainerComponent\n  }, safeGetChildrenArray(children).map((section, index) => {\n    var _a, _b;\n    if (!section.props) return null;\n    const subTabs = safeGetChildrenArray(section.props.children).filter(subSection => {\n      var _a;\n      return ((_a = subSection === null || subSection === void 0 ? void 0 : subSection.type) === null || _a === void 0 ? void 0 : _a.displayName) === 'ObjectPageSubSection';\n    });\n    return React.createElement(Tab, {\n      key: `Anchor-${(_a = section.props) === null || _a === void 0 ? void 0 : _a.id}`,\n      \"data-index\": index,\n      \"data-section-id\": section.props.id,\n      text: section.props.titleText,\n      selected: internalSelectedSectionId === ((_b = section.props) === null || _b === void 0 ? void 0 : _b.id) || undefined,\n      subTabs: subTabs.map(item => {\n        return React.createElement(Tab, {\n          \"data-parent-id\": section.props.id,\n          key: item.props.id,\n          \"data-is-sub-tab\": true,\n          \"data-section-id\": item.props.id,\n          text: item.props.titleText,\n          selected: item.props.id === selectedSubSectionId || undefined\n        }, React.createElement(\"span\", {\n          style: {\n            display: 'none'\n          }\n        }));\n      })\n    }, React.createElement(\"span\", {\n      style: {\n        display: 'none'\n      }\n    }));\n  }))), React.createElement(\"div\", {\n    \"data-component-name\": \"ObjectPageContent\",\n    className: responsivePaddingClass\n  }, placeholder ? placeholder : mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children), footer && React.createElement(\"div\", {\n    style: {\n      height: '1rem'\n    },\n    \"data-component-name\": \"ObjectPageFooterSpacer\"\n  }), footer && React.createElement(\"footer\", {\n    className: classes.footer,\n    \"data-component-name\": \"ObjectPageFooter\"\n  }, footer));\n});\nObjectPage.displayName = 'ObjectPage';\nObjectPage.defaultProps = {\n  image: null,\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false\n};\nexport { ObjectPage };","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","debounce","enrichEventWithDetails","ThemingParameters","useIsRTL","useResponsiveContentPadding","useSyncRef","clsx","React","forwardRef","useCallback","useEffect","useMemo","useRef","useState","createUseStyles","AvatarSize","GlobalStyleClasses","ObjectPageMode","addCustomCSSWithScoping","safeGetChildrenArray","useObserveHeights","Tab","TabContainer","DynamicPageCssVariables","DynamicPageAnchorBar","CollapsedAvatar","ObjectPageCssVariables","styles","extractSectionIdFromHtmlId","getLastObjectPageSection","getSectionById","sapPageHeader_BorderColor","useStyles","name","ObjectPage","props","ref","_a","_b","_c","_d","_e","_f","headerTitle","image","footer","mode","imageShapeCircle","className","style","slot","showHideHeaderButton","children","selectedSectionId","alwaysShowContentHeader","showTitleInHeaderContent","headerContent","headerContentPinnable","a11yConfig","placeholder","onSelectedSectionChange","onToggleHeaderContent","rest","classes","firstSectionId","id","internalSelectedSectionId","setInternalSelectedSectionId","selectedSubSectionId","setSelectedSubSectionId","headerPinned","setHeaderPinned","isProgrammaticallyScrolled","componentRef","objectPageRef","topHeaderRef","scrollEvent","componentRefHeaderContent","headerContentRef","anchorBarRef","scrollTimeout","isAfterScroll","setIsAfterScroll","isToggledRef","prevInternalSelectedSectionId","fireOnSelectedChangedEvent","targetEvent","index","section","current","selectedSectionIndex","parseInt","debouncedOnSectionChange","cancel","clearTimeout","isRTL","responsivePaddingClass","headerCollapsedInternal","setHeaderCollapsedInternal","undefined","topHeaderHeight","headerContentHeight","anchorBarHeight","totalHeaderHeight","headerCollapsed","noHeader","fixedHeader","avatar","headerImageClasses","headerImage","headerImageRtl","createElement","borderRadius","overflow","src","alt","cloneElement","size","L","prevTopHeaderHeight","scrollToSection","sectionId","scrollTo","top","behavior","childOffset","querySelector","offsetTop","isNaN","safeTopHeaderHeight","programmaticallySetSection","currentId","prevSelectedSectionId","sections","querySelectorAll","currentIndex","findIndex","objectPageSection","timeStamp","setTimeStamp","requestAnimationFrameRef","Default","requestAnimationFrame","internalTimestamp","cancelAnimationFrame","handleOnSectionSelected","newSelectionSectionId","oldSelectedSection","currentSubSection","focus","IconTabBar","forEach","isValidElement","subSection","fillerDivObserver","ResizeObserver","heightDiff","maxHeight","Math","min","clientHeight","window","innerHeight","availableScrollHeight","lastSectionDomRef","subSections","lastSubSectionHeight","offsetHeight","max","lastSectionMargin","setProperty","observe","disconnect","handleOnSubSectionSelected","detail","subSectionId","scrolledHeaderExpanded","setScrolledHeaderExpanded","scrollTimout","onToggleHeaderContentVisibility","performance","now","visible","classList","add","remove","objectPageClasses","objectPage","sapScrollBar","iconTabBarMode","onScroll","_0","_1","propsWithoutOmitted","objectPageHeight","marginBottom","rootMargin","observer","IntersectionObserver","isIntersecting","getBoundingClientRect","target","bottom","root","threshold","currentSection","currentSectionId","el","titleHeaderNotClickable","onTitleClick","stopPropagation","renderTitleSection","inHeader","titleStyles","assign","padding","showSubHeaderRight","renderHeaderContentSection","position","visibility","headerContainer","paddingLeftRtl","onTabItemSelect","event","preventDefault","isSubTab","parentId","tab","dataset","find","prevScrollTop","onObjectPageScroll","setTimeout","scrollTop","scrollHeight","onHoverToggleButton","type","headerHoverStyles","objectPageStyles","titleFontSize","sapObjectHeader_Title_SnappedFontSize","onMouseOver","onMouseLeave","role","objectPageTopHeader","ariaRoledescription","header","onClick","gridAutoColumns","display","anchorBar","headerContentVisible","tabContainer","collapsed","fixed","onTabSelect","tabContainerComponent","map","subTabs","filter","displayName","key","text","titleText","selected","item","height","defaultProps"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/components/ObjectPage/index.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { debounce, enrichEventWithDetails, ThemingParameters, useIsRTL, useResponsiveContentPadding, useSyncRef } from '@ui5/webcomponents-react-base';\nimport clsx from 'clsx';\nimport React, { forwardRef, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { AvatarSize, GlobalStyleClasses, ObjectPageMode } from '../../enums';\nimport { addCustomCSSWithScoping } from '../../internal/addCustomCSSWithScoping';\nimport { safeGetChildrenArray } from '../../internal/safeGetChildrenArray';\nimport { useObserveHeights } from '../../internal/useObserveHeights';\nimport { Tab, TabContainer } from '../../webComponents';\nimport { DynamicPageCssVariables } from '../DynamicPage/DynamicPage.jss';\nimport { DynamicPageAnchorBar } from '../DynamicPageAnchorBar';\nimport { CollapsedAvatar } from './CollapsedAvatar';\nimport { ObjectPageCssVariables, styles } from './ObjectPage.jss';\nimport { extractSectionIdFromHtmlId, getLastObjectPageSection, getSectionById } from './ObjectPageUtils';\naddCustomCSSWithScoping('ui5-tabcontainer', `\n  :host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tc__header {\n    box-shadow: inset 0 -0.0625rem ${ThemingParameters.sapPageHeader_BorderColor}, 0 0.125rem 0.25rem 0 rgb(0 0 0 / 8%);\n  }\n  `);\nconst useStyles = createUseStyles(styles, { name: 'ObjectPage' });\n/**\n * A component that allows apps to easily display information related to a business object.\n *\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\nconst ObjectPage = forwardRef((props, ref) => {\n    var _a, _b, _c, _d, _e, _f;\n    const { headerTitle, image, footer, mode, imageShapeCircle, className, style, slot, showHideHeaderButton, children, selectedSectionId, alwaysShowContentHeader, showTitleInHeaderContent, headerContent, headerContentPinnable, a11yConfig, placeholder, onSelectedSectionChange, onToggleHeaderContent } = props, rest = __rest(props, [\"headerTitle\", \"image\", \"footer\", \"mode\", \"imageShapeCircle\", \"className\", \"style\", \"slot\", \"showHideHeaderButton\", \"children\", \"selectedSectionId\", \"alwaysShowContentHeader\", \"showTitleInHeaderContent\", \"headerContent\", \"headerContentPinnable\", \"a11yConfig\", \"placeholder\", \"onSelectedSectionChange\", \"onToggleHeaderContent\"]);\n    const classes = useStyles();\n    const firstSectionId = (_b = (_a = safeGetChildrenArray(children)[0]) === null || _a === void 0 ? void 0 : _a.props) === null || _b === void 0 ? void 0 : _b.id;\n    const [internalSelectedSectionId, setInternalSelectedSectionId] = useState(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId);\n    const [selectedSubSectionId, setSelectedSubSectionId] = useState(props.selectedSubSectionId);\n    const [headerPinned, setHeaderPinned] = useState(alwaysShowContentHeader);\n    const isProgrammaticallyScrolled = useRef(false);\n    const [componentRef, objectPageRef] = useSyncRef(ref);\n    const topHeaderRef = useRef(null);\n    const scrollEvent = useRef();\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    //@ts-ignore\n    const [componentRefHeaderContent, headerContentRef] = useSyncRef(headerContent === null || headerContent === void 0 ? void 0 : headerContent.ref);\n    const anchorBarRef = useRef(null);\n    const scrollTimeout = useRef(null);\n    const [isAfterScroll, setIsAfterScroll] = useState(false);\n    const isToggledRef = useRef(false);\n    const prevInternalSelectedSectionId = useRef(internalSelectedSectionId);\n    const fireOnSelectedChangedEvent = (targetEvent, index, id, section) => {\n        if (typeof onSelectedSectionChange === 'function' && prevInternalSelectedSectionId.current !== id) {\n            onSelectedSectionChange(enrichEventWithDetails(targetEvent, {\n                selectedSectionIndex: parseInt(index, 10),\n                selectedSectionId: id,\n                section\n            }));\n            prevInternalSelectedSectionId.current = id;\n        }\n    };\n    const debouncedOnSectionChange = useRef(debounce(fireOnSelectedChangedEvent, 500)).current;\n    useEffect(() => {\n        return () => {\n            debouncedOnSectionChange.cancel();\n            clearTimeout(scrollTimeout.current);\n        };\n    }, []);\n    const isRTL = useIsRTL(objectPageRef);\n    const responsivePaddingClass = useResponsiveContentPadding(objectPageRef.current);\n    const [headerCollapsedInternal, setHeaderCollapsedInternal] = useState(undefined);\n    // observe heights of header parts\n    const { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight, headerCollapsed } = useObserveHeights(objectPageRef, topHeaderRef, headerContentRef, anchorBarRef, [headerCollapsedInternal, setHeaderCollapsedInternal], {\n        noHeader: !headerTitle && !headerContent,\n        fixedHeader: headerPinned\n    });\n    useEffect(() => {\n        if (typeof onToggleHeaderContent === 'function' && isToggledRef.current) {\n            onToggleHeaderContent(headerCollapsed !== true);\n        }\n    }, [headerCollapsed]);\n    const avatar = useMemo(() => {\n        var _a;\n        if (!image) {\n            return null;\n        }\n        const headerImageClasses = clsx(classes.headerImage, isRTL && classes.headerImageRtl);\n        if (typeof image === 'string') {\n            return (React.createElement(\"span\", { className: headerImageClasses, style: { borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' } },\n                React.createElement(\"img\", { src: image, className: classes.image, alt: \"Company Logo\" })));\n        }\n        else {\n            return React.cloneElement(image, {\n                size: AvatarSize.L,\n                className: clsx(headerImageClasses, (_a = image.props) === null || _a === void 0 ? void 0 : _a.className)\n            });\n        }\n    }, [image, classes.headerImage, classes.headerImageRtl, classes.image, imageShapeCircle, isRTL]);\n    const prevTopHeaderHeight = useRef(0);\n    const scrollToSection = useCallback((sectionId) => {\n        var _a, _b, _c, _d;\n        if (!sectionId) {\n            return;\n        }\n        if (firstSectionId === sectionId) {\n            (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n        else {\n            const childOffset = (_c = (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.querySelector(`#ObjectPageSection-${sectionId}`)) === null || _c === void 0 ? void 0 : _c.offsetTop;\n            if (!isNaN(childOffset)) {\n                const safeTopHeaderHeight = topHeaderHeight || prevTopHeaderHeight.current;\n                if (topHeaderHeight) {\n                    prevTopHeaderHeight.current = topHeaderHeight;\n                }\n                (_d = objectPageRef.current) === null || _d === void 0 ? void 0 : _d.scrollTo({\n                    top: childOffset -\n                        safeTopHeaderHeight -\n                        anchorBarHeight -\n                        (headerPinned ? (headerCollapsed === true ? 0 : headerContentHeight) : 0),\n                    behavior: 'smooth'\n                });\n            }\n        }\n        isProgrammaticallyScrolled.current = false;\n    }, [\n        firstSectionId,\n        objectPageRef,\n        topHeaderHeight,\n        anchorBarHeight,\n        headerPinned,\n        headerContentHeight,\n        headerCollapsed,\n        prevTopHeaderHeight.current\n    ]);\n    const programmaticallySetSection = () => {\n        var _a;\n        const currentId = selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId;\n        if (currentId !== prevSelectedSectionId.current) {\n            debouncedOnSectionChange.cancel();\n            isProgrammaticallyScrolled.current = true;\n            setInternalSelectedSectionId(currentId);\n            prevSelectedSectionId.current = currentId;\n            const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n            const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection) => {\n                var _a;\n                return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === currentId;\n            });\n            fireOnSelectedChangedEvent({}, currentIndex, currentId, sections[0]);\n        }\n    };\n    // change selected section when prop is changed (external change)\n    const prevSelectedSectionId = useRef();\n    const [timeStamp, setTimeStamp] = useState(0);\n    const requestAnimationFrameRef = useRef();\n    useEffect(() => {\n        if (selectedSectionId) {\n            if (mode === ObjectPageMode.Default) {\n                // wait for DOM draw, otherwise initial scroll won't work as intended\n                if (timeStamp < 750 && timeStamp !== undefined) {\n                    requestAnimationFrameRef.current = requestAnimationFrame((internalTimestamp) => {\n                        setTimeStamp(internalTimestamp);\n                    });\n                }\n                else {\n                    setTimeStamp(undefined);\n                    programmaticallySetSection();\n                }\n            }\n            else {\n                programmaticallySetSection();\n            }\n        }\n        return () => {\n            cancelAnimationFrame(requestAnimationFrameRef.current);\n        };\n    }, [timeStamp, selectedSectionId, firstSectionId, debouncedOnSectionChange]);\n    // section was selected by clicking on the anchor bar buttons\n    const handleOnSectionSelected = useCallback((targetEvent, newSelectionSectionId, index, section) => {\n        isProgrammaticallyScrolled.current = true;\n        debouncedOnSectionChange.cancel();\n        setInternalSelectedSectionId((oldSelectedSection) => {\n            if (oldSelectedSection === newSelectionSectionId) {\n                scrollToSection(newSelectionSectionId);\n            }\n            return newSelectionSectionId;\n        });\n        scrollEvent.current = targetEvent;\n        fireOnSelectedChangedEvent(targetEvent, index, newSelectionSectionId, section);\n    }, [onSelectedSectionChange, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]);\n    // do internal scrolling\n    useEffect(() => {\n        if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true && !selectedSubSectionId) {\n            scrollToSection(internalSelectedSectionId);\n        }\n    }, [internalSelectedSectionId, mode, isProgrammaticallyScrolled, scrollToSection, selectedSubSectionId]);\n    // Scrolling for Sub Section Selection\n    useEffect(() => {\n        var _a, _b;\n        if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n            const currentSubSection = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`div[id=\"ObjectPageSubSection-${selectedSubSectionId}\"]`);\n            const childOffset = currentSubSection === null || currentSubSection === void 0 ? void 0 : currentSubSection.offsetTop;\n            if (!isNaN(childOffset)) {\n                currentSubSection.focus();\n                (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                    top: childOffset -\n                        topHeaderHeight -\n                        anchorBarHeight -\n                        48 /*tabBar*/ -\n                        (headerPinned ? headerContentHeight : 0) -\n                        16,\n                    behavior: 'smooth'\n                });\n            }\n            isProgrammaticallyScrolled.current = false;\n        }\n    }, [\n        selectedSubSectionId,\n        isProgrammaticallyScrolled.current,\n        topHeaderHeight,\n        anchorBarHeight,\n        headerPinned,\n        headerContentHeight\n    ]);\n    useEffect(() => {\n        setHeaderPinned(alwaysShowContentHeader);\n    }, [setHeaderPinned, alwaysShowContentHeader]);\n    useEffect(() => {\n        setSelectedSubSectionId(props.selectedSubSectionId);\n        if (props.selectedSubSectionId) {\n            isProgrammaticallyScrolled.current = true;\n            if (mode === ObjectPageMode.IconTabBar) {\n                let sectionId;\n                safeGetChildrenArray(children).forEach((section) => {\n                    if (React.isValidElement(section) && section.props && section.props.children) {\n                        safeGetChildrenArray(section.props.children).forEach((subSection) => {\n                            var _a;\n                            if (React.isValidElement(subSection) &&\n                                subSection.props &&\n                                subSection.props.id === props.selectedSubSectionId) {\n                                sectionId = (_a = section.props) === null || _a === void 0 ? void 0 : _a.id;\n                            }\n                        });\n                    }\n                });\n                if (sectionId) {\n                    setInternalSelectedSectionId(sectionId);\n                }\n            }\n        }\n    }, [props.selectedSubSectionId, setInternalSelectedSectionId, setSelectedSubSectionId, children, mode]);\n    useEffect(() => {\n        const fillerDivObserver = new ResizeObserver(() => {\n            var _a, _b;\n            let heightDiff = 0;\n            const maxHeight = Math.min((_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight, window.innerHeight);\n            const availableScrollHeight = maxHeight - totalHeaderHeight;\n            const lastSectionDomRef = getLastObjectPageSection(objectPageRef, !!footer && mode === ObjectPageMode.IconTabBar);\n            if (lastSectionDomRef) {\n                const subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n                let lastSubSectionHeight;\n                if (subSections.length > 0) {\n                    lastSubSectionHeight = subSections[subSections.length - 1].offsetHeight;\n                }\n                else {\n                    lastSubSectionHeight =\n                        lastSectionDomRef.offsetHeight -\n                            lastSectionDomRef.querySelector(\"[role='heading']\").offsetHeight;\n                }\n                heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n                if (isNaN(heightDiff)) {\n                    heightDiff = 0;\n                }\n            }\n            const lastSectionMargin = footer ? `calc(${heightDiff}px + 1rem)` : `${heightDiff}px`;\n            (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(ObjectPageCssVariables.lastSectionMargin, lastSectionMargin);\n        });\n        fillerDivObserver.observe(objectPageRef.current);\n        return () => {\n            fillerDivObserver.disconnect();\n        };\n    }, [totalHeaderHeight, objectPageRef, children, mode, footer]);\n    const handleOnSubSectionSelected = useCallback((e) => {\n        var _a;\n        isProgrammaticallyScrolled.current = true;\n        if (mode === ObjectPageMode.IconTabBar) {\n            const sectionId = e.detail.sectionId;\n            setInternalSelectedSectionId(sectionId);\n            const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n            const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection) => {\n                var _a;\n                return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === sectionId;\n            });\n            debouncedOnSectionChange(e, currentIndex, sectionId, sections[currentIndex]);\n        }\n        const subSectionId = e.detail.subSectionId;\n        setSelectedSubSectionId(subSectionId);\n    }, [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled, children]);\n    const [scrolledHeaderExpanded, setScrolledHeaderExpanded] = useState(false);\n    const scrollTimout = useRef(0);\n    const onToggleHeaderContentVisibility = useCallback((e) => {\n        var _a, _b;\n        isToggledRef.current = true;\n        scrollTimout.current = performance.now() + 500;\n        if (!e.detail.visible) {\n            setHeaderCollapsedInternal(true);\n            (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.classList.add(classes.headerCollapsed);\n        }\n        else {\n            setHeaderCollapsedInternal(false);\n            setScrolledHeaderExpanded(true);\n            (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.classList.remove(classes.headerCollapsed);\n        }\n    }, []);\n    const objectPageClasses = clsx(classes.objectPage, GlobalStyleClasses.sapScrollBar, className, mode === ObjectPageMode.IconTabBar && classes.iconTabBarMode);\n    const { onScroll: _0, selectedSubSectionId: _1 } = rest, propsWithoutOmitted = __rest(rest, [\"onScroll\", \"selectedSubSectionId\"]);\n    useEffect(() => {\n        var _a, _b, _c;\n        const sections = (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n        const objectPageHeight = (_c = (_b = objectPageRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight) !== null && _c !== void 0 ? _c : 1000;\n        const marginBottom = objectPageHeight - totalHeaderHeight - /*TabContainer*/ 48;\n        const rootMargin = `-${totalHeaderHeight}px 0px -${marginBottom < 0 ? 0 : marginBottom}px 0px`;\n        const observer = new IntersectionObserver(([section]) => {\n            if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n                if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n                    section.target.getBoundingClientRect().bottom) {\n                    const currentId = extractSectionIdFromHtmlId(section.target.id);\n                    setInternalSelectedSectionId(currentId);\n                    const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection) => {\n                        var _a;\n                        return ((_a = objectPageSection.props) === null || _a === void 0 ? void 0 : _a.id) === currentId;\n                    });\n                    debouncedOnSectionChange(scrollEvent.current, currentIndex, currentId, section.target);\n                }\n            }\n        }, {\n            root: objectPageRef.current,\n            rootMargin,\n            threshold: [0]\n        });\n        // Fallback when scrolling faster than the IntersectionObserver can observe (in most cases faster than 60fps)\n        if (isAfterScroll) {\n            let currentSection = sections[sections.length - 1];\n            let currentIndex;\n            for (let i = 0; i <= sections.length - 1; i++) {\n                const section = sections[i];\n                if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n                    section.getBoundingClientRect().bottom) {\n                    currentSection = section;\n                    currentIndex = i;\n                    break;\n                }\n            }\n            const currentSectionId = extractSectionIdFromHtmlId(currentSection === null || currentSection === void 0 ? void 0 : currentSection.id);\n            if (currentSectionId !== internalSelectedSectionId) {\n                setInternalSelectedSectionId(currentSectionId);\n                debouncedOnSectionChange(scrollEvent.current, currentIndex !== null && currentIndex !== void 0 ? currentIndex : sections.length - 1, currentSectionId, currentSection);\n            }\n            setIsAfterScroll(false);\n        }\n        sections.forEach((el) => {\n            observer.observe(el);\n        });\n        return () => {\n            observer.disconnect();\n        };\n    }, [\n        objectPageRef.current,\n        children,\n        totalHeaderHeight,\n        setInternalSelectedSectionId,\n        isProgrammaticallyScrolled,\n        isAfterScroll\n    ]);\n    const titleHeaderNotClickable = (alwaysShowContentHeader && !headerContentPinnable) ||\n        !headerContent ||\n        (!showHideHeaderButton && !headerContentPinnable);\n    const onTitleClick = useCallback((e) => {\n        e.stopPropagation();\n        if (!titleHeaderNotClickable) {\n            onToggleHeaderContentVisibility(enrichEventWithDetails(e, { visible: headerCollapsed }));\n        }\n    }, [onToggleHeaderContentVisibility, headerCollapsed, titleHeaderNotClickable]);\n    const renderTitleSection = useCallback((inHeader = false) => {\n        var _a, _b, _c;\n        const titleStyles = Object.assign(Object.assign({}, (inHeader ? { padding: 0 } : {})), ((_b = (_a = headerTitle === null || headerTitle === void 0 ? void 0 : headerTitle.props) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0 ? _b : {}));\n        if ((headerTitle === null || headerTitle === void 0 ? void 0 : headerTitle.props) && ((_c = headerTitle.props) === null || _c === void 0 ? void 0 : _c.showSubHeaderRight) === undefined) {\n            return React.cloneElement(headerTitle, {\n                showSubHeaderRight: true,\n                style: titleStyles,\n                'data-not-clickable': titleHeaderNotClickable,\n                onToggleHeaderContentVisibility: onTitleClick\n            });\n        }\n        return React.cloneElement(headerTitle, {\n            style: titleStyles,\n            'data-not-clickable': titleHeaderNotClickable,\n            onToggleHeaderContentVisibility: onTitleClick\n        });\n    }, [headerTitle, titleHeaderNotClickable, onTitleClick]);\n    const renderHeaderContentSection = useCallback(() => {\n        if (headerContent === null || headerContent === void 0 ? void 0 : headerContent.props) {\n            return React.cloneElement(headerContent, Object.assign(Object.assign({}, headerContent.props), { topHeaderHeight, style: headerCollapsed === true ? { position: 'absolute', visibility: 'hidden' } : headerContent.props.style, headerPinned: headerPinned || scrolledHeaderExpanded, ref: componentRefHeaderContent, children: (React.createElement(\"div\", { className: `${classes.headerContainer} ${responsivePaddingClass}`, \"data-component-name\": \"ObjectPageHeaderContainer\" },\n                    avatar,\n                    headerContent.props.children && (React.createElement(\"div\", { \"data-component-name\": \"ObjectPageHeaderContent\" },\n                        headerTitle && showTitleInHeaderContent && renderTitleSection(true),\n                        headerContent.props.children)))) }));\n        }\n    }, [\n        headerContent,\n        topHeaderHeight,\n        headerPinned,\n        scrolledHeaderExpanded,\n        showTitleInHeaderContent,\n        avatar,\n        headerContentRef,\n        renderTitleSection,\n        responsivePaddingClass\n    ]);\n    const paddingLeftRtl = isRTL ? 'paddingLeft' : 'paddingRight';\n    const onTabItemSelect = (event) => {\n        var _a;\n        event.preventDefault();\n        const { sectionId, index, isSubTab, parentId } = event.detail.tab.dataset;\n        if (isSubTab) {\n            handleOnSubSectionSelected(enrichEventWithDetails(event, { sectionId: parentId, subSectionId: sectionId }));\n        }\n        else {\n            const section = safeGetChildrenArray(children).find((el) => {\n                return el.props.id == sectionId;\n            });\n            handleOnSectionSelected(event, (_a = section === null || section === void 0 ? void 0 : section.props) === null || _a === void 0 ? void 0 : _a.id, index, section);\n        }\n    };\n    const prevScrollTop = useRef();\n    const onObjectPageScroll = useCallback((e) => {\n        var _a;\n        if (!isToggledRef.current) {\n            isToggledRef.current = true;\n        }\n        if (scrollTimout.current >= performance.now()) {\n            return;\n        }\n        scrollEvent.current = e;\n        if (typeof props.onScroll === 'function') {\n            props.onScroll(e);\n        }\n        if (selectedSubSectionId) {\n            setSelectedSubSectionId(undefined);\n        }\n        if (scrollTimeout.current) {\n            clearTimeout(scrollTimeout.current);\n        }\n        scrollTimeout.current = setTimeout(() => {\n            setIsAfterScroll(true);\n        }, 100);\n        if (!headerPinned || e.target.scrollTop === 0) {\n            (_a = objectPageRef.current) === null || _a === void 0 ? void 0 : _a.classList.remove(classes.headerCollapsed);\n        }\n        if (scrolledHeaderExpanded && e.target.scrollTop !== prevScrollTop.current) {\n            if (e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight) {\n                return;\n            }\n            prevScrollTop.current = e.target.scrollTop;\n            if (!headerPinned) {\n                setHeaderCollapsedInternal(true);\n            }\n            setScrolledHeaderExpanded(false);\n        }\n    }, [topHeaderHeight, headerPinned, props.onScroll, scrolledHeaderExpanded, selectedSubSectionId]);\n    const onHoverToggleButton = useCallback((e) => {\n        var _a, _b;\n        if ((e === null || e === void 0 ? void 0 : e.type) === 'mouseover') {\n            (_a = topHeaderRef.current) === null || _a === void 0 ? void 0 : _a.classList.add(classes.headerHoverStyles);\n        }\n        else {\n            (_b = topHeaderRef.current) === null || _b === void 0 ? void 0 : _b.classList.remove(classes.headerHoverStyles);\n        }\n    }, [classes.headerHoverStyles]);\n    const objectPageStyles = Object.assign({}, style);\n    if (headerCollapsed === true && headerContent) {\n        objectPageStyles[DynamicPageCssVariables.titleFontSize] = ThemingParameters.sapObjectHeader_Title_SnappedFontSize;\n    }\n    return (React.createElement(\"div\", Object.assign({ \"data-component-name\": \"ObjectPage\", slot: slot, className: objectPageClasses, style: objectPageStyles, ref: componentRef, onScroll: onObjectPageScroll }, propsWithoutOmitted),\n        React.createElement(\"header\", { onMouseOver: onHoverToggleButton, onMouseLeave: onHoverToggleButton, \"data-component-name\": \"ObjectPageTopHeader\", ref: topHeaderRef, role: (_d = (_c = a11yConfig === null || a11yConfig === void 0 ? void 0 : a11yConfig.objectPageTopHeader) === null || _c === void 0 ? void 0 : _c.role) !== null && _d !== void 0 ? _d : 'banner', \"data-not-clickable\": titleHeaderNotClickable, \"aria-roledescription\": (_f = (_e = a11yConfig === null || a11yConfig === void 0 ? void 0 : a11yConfig.objectPageTopHeader) === null || _e === void 0 ? void 0 : _e.ariaRoledescription) !== null && _f !== void 0 ? _f : 'Object Page header', className: `${classes.header} ${responsivePaddingClass}`, onClick: onTitleClick, style: {\n                gridAutoColumns: `min-content ${headerTitle && image && headerCollapsed === true ? `calc(100% - 3rem - 1rem)` : '100%'}`,\n                display: !showTitleInHeaderContent || headerCollapsed === true ? 'grid' : 'none'\n            } },\n            headerTitle && image && headerCollapsed === true && (React.createElement(CollapsedAvatar, { image: image, imageShapeCircle: imageShapeCircle, style: { [paddingLeftRtl]: '1rem' } })),\n            headerTitle && renderTitleSection()),\n        renderHeaderContentSection(),\n        headerContent && headerTitle && (React.createElement(\"div\", { \"data-component-name\": \"ObjectPageAnchorBar\", ref: anchorBarRef, className: classes.anchorBar, style: {\n                top: scrolledHeaderExpanded || headerPinned\n                    ? `${topHeaderHeight + (headerCollapsed === true ? 0 : headerContentHeight)}px`\n                    : `${topHeaderHeight + 5}px`\n            } },\n            React.createElement(DynamicPageAnchorBar, { headerContentVisible: headerContent && headerCollapsed !== true, headerContentPinnable: headerContentPinnable, showHideHeaderButton: showHideHeaderButton, onToggleHeaderContentVisibility: onToggleHeaderContentVisibility, setHeaderPinned: setHeaderPinned, headerPinned: headerPinned, onHoverToggleButton: onHoverToggleButton, a11yConfig: a11yConfig }))),\n        !placeholder && (React.createElement(\"div\", { className: classes.tabContainer, \"data-component-name\": \"ObjectPageTabContainer\", style: {\n                top: headerPinned || scrolledHeaderExpanded\n                    ? `${topHeaderHeight + (headerCollapsed === true ? 0 : headerContentHeight)}px`\n                    : `${topHeaderHeight}px`\n            } },\n            React.createElement(TabContainer, { collapsed: true, fixed: true, onTabSelect: onTabItemSelect, \"data-component-name\": \"ObjectPageTabContainer\", className: classes.tabContainerComponent }, safeGetChildrenArray(children).map((section, index) => {\n                var _a, _b;\n                if (!section.props)\n                    return null;\n                const subTabs = safeGetChildrenArray(section.props.children).filter((subSection) => { var _a; return ((_a = subSection === null || subSection === void 0 ? void 0 : subSection.type) === null || _a === void 0 ? void 0 : _a.displayName) === 'ObjectPageSubSection'; });\n                return (React.createElement(Tab, { key: `Anchor-${(_a = section.props) === null || _a === void 0 ? void 0 : _a.id}`, \"data-index\": index, \"data-section-id\": section.props.id, text: section.props.titleText, selected: internalSelectedSectionId === ((_b = section.props) === null || _b === void 0 ? void 0 : _b.id) || undefined, subTabs: subTabs.map((item) => {\n                        return (React.createElement(Tab, { \"data-parent-id\": section.props.id, key: item.props.id, \"data-is-sub-tab\": true, \"data-section-id\": item.props.id, text: item.props.titleText, selected: item.props.id === selectedSubSectionId || undefined },\n                            React.createElement(\"span\", { style: { display: 'none' } })));\n                    }) },\n                    React.createElement(\"span\", { style: { display: 'none' } })));\n            })))),\n        React.createElement(\"div\", { \"data-component-name\": \"ObjectPageContent\", className: responsivePaddingClass }, placeholder\n            ? placeholder\n            : mode === ObjectPageMode.IconTabBar\n                ? getSectionById(children, internalSelectedSectionId)\n                : children),\n        footer && React.createElement(\"div\", { style: { height: '1rem' }, \"data-component-name\": \"ObjectPageFooterSpacer\" }),\n        footer && (React.createElement(\"footer\", { className: classes.footer, \"data-component-name\": \"ObjectPageFooter\" }, footer))));\n});\nObjectPage.displayName = 'ObjectPage';\nObjectPage.defaultProps = {\n    image: null,\n    mode: ObjectPageMode.Default,\n    imageShapeCircle: false,\n    showHideHeaderButton: false\n};\nexport { ObjectPage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}