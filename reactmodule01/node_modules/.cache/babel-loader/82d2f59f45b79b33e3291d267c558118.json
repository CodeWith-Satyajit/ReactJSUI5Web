{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { renderFinished } from \"@ui5/webcomponents-base/dist/Render.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { isTabNext, isSpace, isEnter, isTabPrevious } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport getEffectiveScrollbarStyle from \"@ui5/webcomponents-base/dist/util/getEffectiveScrollbarStyle.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport debounce from \"@ui5/webcomponents-base/dist/util/debounce.js\";\nimport isElementInView from \"@ui5/webcomponents-base/dist/util/isElementInView.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListGrowingMode from \"./types/ListGrowingMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\n\n// Template\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\";\n\n// Styles\nimport listCss from \"./generated/themes/List.css.js\";\nimport browserScrollbarCSS from \"./generated/themes/BrowserScrollbar.css.js\";\n\n// Texts\nimport { LOAD_MORE_TEXT, ARIA_LABEL_LIST_SELECTABLE, ARIA_LABEL_LIST_MULTISELECTABLE, ARIA_LABEL_LIST_DELETABLE } from \"./generated/i18n/i18n-defaults.js\";\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\nconst PAGE_UP_DOWN_SIZE = 10;\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-list\",\n  managedSlots: true,\n  fastNavigation: true,\n  slots: /** @lends sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Defines the component header.\n     * <br><br>\n     * <b>Note:</b> When <code>header</code> is set, the\n     * <code>headerText</code> property is ignored.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    header: {\n      type: HTMLElement\n    },\n    /**\n     * Defines the items of the component.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n     *\n     * @type {sap.ui.webcomponents.main.IListItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement\n    }\n  },\n  properties: /** @lends sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Defines the component header text.\n     * <br><br>\n     * <b>Note:</b> If <code>header</code> is set this property is ignored.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    headerText: {\n      type: String\n    },\n    /**\n     * Defines the footer text.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    footerText: {\n      type: String\n    },\n    /**\n     * Determines whether the component is indented.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    indent: {\n      type: Boolean\n    },\n    /**\n     * Defines the mode of the component.\n     * <br><br>\n     * <b>Note:</b> Available options are <code>None</code>, <code>SingleSelect</code>, <code>SingleSelectBegin</code>,\n     * <code>SingleSelectEnd</code>, <code>MultiSelect</code>, and <code>Delete</code>.\n     *\n     * @type {sap.ui.webcomponents.main.types.ListMode}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    mode: {\n      type: ListMode,\n      defaultValue: ListMode.None\n    },\n    /**\n     * Defines the text that is displayed when the component contains no items.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    noDataText: {\n      type: String\n    },\n    /**\n     * Defines the item separator style that is used.\n     * <br><br>\n     * <b>Notes:</b>\n     * <ul>\n     * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n     * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n     * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n     * item doesn't have a bottom separator.</li>\n     * </ul>\n     *\n     * @type {sap.ui.webcomponents.main.types.ListSeparators}\n     * @defaultvalue \"All\"\n     * @public\n     */\n    separators: {\n      type: ListSeparators,\n      defaultValue: ListSeparators.All\n    },\n    /**\n     * Defines whether the component will have growing capability either by pressing a <code>More</code> button,\n     * or via user scroll. In both cases <code>load-more</code> event is fired.\n     * <br><br>\n     *\n     * Available options:\n     * <br><br>\n     * <code>Button</code> - Shows a <code>More</code> button at the bottom of the list,\n     * pressing of which triggers the <code>load-more</code> event.\n     * <br>\n     * <code>Scroll</code> - The <code>load-more</code> event is triggered when the user scrolls to the bottom of the list;\n     * <br>\n     * <code>None</code> (default) - The growing is off.\n     * <br><br>\n     *\n     * <b>Restrictions:</b> <code>growing=\"Scroll\"</code> is not supported for Internet Explorer,\n     * on IE the component will fallback to <code>growing=\"Button\"</code>.\n     * @type {sap.ui.webcomponents.main.types.ListGrowingMode}\n     * @defaultvalue \"None\"\n     * @since 1.0.0-rc.13\n     * @public\n     */\n    growing: {\n      type: ListGrowingMode,\n      defaultValue: ListGrowingMode.None\n    },\n    /**\n     * Defines if the component would display a loading indicator over the list.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    busy: {\n      type: Boolean\n    },\n    /**\n     * Defines the delay in milliseconds, after which the busy indicator will show up for this component.\n     *\n     * @type {sap.ui.webcomponents.base.types.Integer}\n     * @defaultValue 1000\n     * @public\n     */\n    busyDelay: {\n      type: Integer,\n      defaultValue: 1000\n    },\n    /**\n     * Defines the accessible name of the component.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    accessibleName: {\n      type: String\n    },\n    /**\n     * Defines the IDs of the elements that label the input.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    accessibleNameRef: {\n      type: String,\n      defaultValue: \"\"\n    },\n    /**\n     * Defines the accessible role of the component.\n     * <br><br>\n     * @public\n     * @type {string}\n     * @defaultvalue \"list\"\n     * @since 1.0.0-rc.15\n     */\n    accessibleRole: {\n      type: String,\n      defaultValue: \"list\"\n    },\n    /**\n     * Defines if the entire list is in view port.\n     * @private\n     */\n    _inViewport: {\n      type: Boolean\n    },\n    /**\n     * Defines the active state of the <code>More</code> button.\n     * @private\n     */\n    _loadMoreActive: {\n      type: Boolean\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Fired when an item is activated, unless the item's <code>type</code> property\n     * is set to <code>Inactive</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-click\n     * @allowPreventDefault\n     * @param {HTMLElement} item The clicked item.\n     * @public\n     */\n    \"item-click\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the <code>Close</code> button of any item is clicked\n     * <br><br>\n     * <b>Note:</b> This event is only applicable to list items that can be closed (such as notification list items),\n     * not to be confused with <code>item-delete</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-close\n     * @param {HTMLElement} item the item about to be closed.\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    \"item-close\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the <code>Toggle</code> button of any item is clicked.\n     * <br><br>\n     * <b>Note:</b> This event is only applicable to list items that can be toggled (such as notification group list items).\n     *\n     * @event sap.ui.webcomponents.main.List#item-toggle\n     * @param {HTMLElement} item the toggled item.\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    \"item-toggle\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the Delete button of any item is pressed.\n     * <br><br>\n     * <b>Note:</b> A Delete button is displayed on each item,\n     * when the component <code>mode</code> property is set to <code>Delete</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-delete\n     * @param {HTMLElement} item the deleted item.\n     * @public\n     */\n    \"item-delete\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code>, <code>SingleSelectBegin</code>, <code>SingleSelectEnd</code> and <code>MultiSelect</code> modes.\n     *\n     * @event sap.ui.webcomponents.main.List#selection-change\n     * @param {Array} selectedItems An array of the selected items.\n     * @param {Array} previouslySelectedItems An array of the previously selected items.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        selectedItems: {\n          type: Array\n        },\n        previouslySelectedItems: {\n          type: Array\n        },\n        targetItem: {\n          type: HTMLElement\n        },\n        // protected, holds the event target item\n        selectionComponentPressed: {\n          type: Boolean\n        } // protected, indicates if the user used the selection components to change the selection\n      }\n    },\n\n    /**\n     * Fired when the user scrolls to the bottom of the list.\n     * <br><br>\n     * <b>Note:</b> The event is fired when the <code>growing='Scroll'</code> property is enabled.\n     *\n     * @event sap.ui.webcomponents.main.List#load-more\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    \"load-more\": {}\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is a container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-groupheader</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <br><br>\n * <h3>Keyboard Handling</h3>\n *\n * <h4>Basic Navigation</h4>\n * The <code>ui5-list</code> provides advanced keyboard handling.\n * When a list is focused the user can use the following keyboard\n * shortcuts in order to perform a navigation:\n * <br>\n *\n * <ul>\n * <li>[UP/DOWN] - Navigates up and down the items</li>\n * <li>[HOME] - Navigates to first item</li>\n * <li>[END] - Navigates to the last item</li>\n * </ul>\n *\n * The user can use the following keyboard shortcuts to perform actions (such as select, delete),\n * when the <code>mode</code> property is in use:\n * <ul>\n * <li>[SPACE] - Select an item (if <code>type</code> is 'Active') when <code>mode</code> is selection</li>\n * <li>[DELETE] - Delete an item if <code>mode</code> property is <code>Delete</code></li>\n * </ul>\n *\n * <h4>Fast Navigation</h4>\n * This component provides a build in fast navigation group which can be used via <code>F6 / Shift + F6</code> or <code> Ctrl + Alt(Option) + Down /  Ctrl + Alt(Option) + Up</code>.\n * In order to use this functionality, you need to import the following module:\n * <code>import \"@ui5/webcomponents-base/dist/features/F6Navigation.js\"</code>\n * <br><br>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-groupheader</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\nclass List extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get template() {\n    return ListTemplate;\n  }\n  static get styles() {\n    return [browserScrollbarCSS, listCss];\n  }\n  static async onDefine() {\n    List.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n  }\n  static get dependencies() {\n    return [BusyIndicator];\n  }\n  constructor() {\n    super();\n    this.initItemNavigation();\n\n    // Stores the last focused item within the internal ul element.\n    this._previouslyFocusedItem = null;\n\n    // Indicates that the List is forwarding the focus before or after the internal ul.\n    this._forwardingFocus = false;\n    this._previouslySelectedItem = null;\n\n    // Indicates that the List has already subscribed for resize.\n    this.resizeListenerAttached = false;\n\n    // Indicates if the IntersectionObserver started observing the List\n    this.listEndObserved = false;\n    this.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n    this.addEventListener(\"ui5-close\", this.onItemClose.bind(this));\n    this.addEventListener(\"ui5-toggle\", this.onItemToggle.bind(this));\n    this.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n    this.addEventListener(\"ui5-_forward-after\", this.onForwardAfter.bind(this));\n    this.addEventListener(\"ui5-_forward-before\", this.onForwardBefore.bind(this));\n    this.addEventListener(\"ui5-_selection-requested\", this.onSelectionRequested.bind(this));\n    this.addEventListener(\"ui5-_focus-requested\", this.focusUploadCollectionItem.bind(this));\n    this._handleResize = this.checkListInViewport.bind(this);\n\n    // Indicates the List bottom most part has been detected by the IntersectionObserver\n    // for the first time.\n    this.initialIntersection = true;\n  }\n  onExitDOM() {\n    this.unobserveListEnd();\n    this.resizeListenerAttached = false;\n    ResizeHandler.deregister(this.getDomRef(), this._handleResize);\n  }\n  onBeforeRendering() {\n    this.prepareListItems();\n  }\n  onAfterRendering() {\n    if (this.growsOnScroll) {\n      this.observeListEnd();\n    } else if (this.listEndObserved) {\n      this.unobserveListEnd();\n    }\n    if (this.grows) {\n      this.checkListInViewport();\n      this.attachForResize();\n    }\n  }\n  attachForResize() {\n    if (!this.resizeListenerAttached) {\n      this.resizeListenerAttached = true;\n      ResizeHandler.register(this.getDomRef(), this._handleResize);\n    }\n  }\n  get shouldRenderH1() {\n    return !this.header.length && this.headerText;\n  }\n  get headerID() {\n    return `${this._id}-header`;\n  }\n  get modeLabelID() {\n    return `${this._id}-modeLabel`;\n  }\n  get listEndDOM() {\n    return this.shadowRoot.querySelector(\".ui5-list-end-marker\");\n  }\n  get hasData() {\n    return this.getSlottedNodes(\"items\").length !== 0;\n  }\n  get showNoDataText() {\n    return !this.hasData && this.noDataText;\n  }\n  get isDelete() {\n    return this.mode === ListMode.Delete;\n  }\n  get isSingleSelect() {\n    return [ListMode.SingleSelect, ListMode.SingleSelectBegin, ListMode.SingleSelectEnd, ListMode.SingleSelectAuto].includes(this.mode);\n  }\n  get isMultiSelect() {\n    return this.mode === ListMode.MultiSelect;\n  }\n  get ariaLabelledBy() {\n    if (this.accessibleNameRef || this.accessibleName) {\n      return undefined;\n    }\n    const ids = [];\n    if (this.isMultiSelect || this.isSingleSelect || this.isDelete) {\n      ids.push(this.modeLabelID);\n    }\n    if (this.shouldRenderH1) {\n      ids.push(this.headerID);\n    }\n    return ids.length ? ids.join(\" \") : undefined;\n  }\n  get ariaLabelTxt() {\n    return getEffectiveAriaLabelText(this);\n  }\n  get ariaLabelModeText() {\n    if (this.isMultiSelect) {\n      return List.i18nBundle.getText(ARIA_LABEL_LIST_MULTISELECTABLE);\n    }\n    if (this.isSingleSelect) {\n      return List.i18nBundle.getText(ARIA_LABEL_LIST_SELECTABLE);\n    }\n    if (this.isDelete) {\n      return List.i18nBundle.getText(ARIA_LABEL_LIST_DELETABLE);\n    }\n    return undefined;\n  }\n  get grows() {\n    return this.growing !== ListGrowingMode.None;\n  }\n  get growsOnScroll() {\n    return this.growing === ListGrowingMode.Scroll;\n  }\n  get growsWithButton() {\n    return this.growing === ListGrowingMode.Button;\n  }\n  get _growingButtonText() {\n    return List.i18nBundle.getText(LOAD_MORE_TEXT);\n  }\n  get busyIndPosition() {\n    if (!this.grows) {\n      return \"absolute\";\n    }\n    return this._inViewport ? \"absolute\" : \"sticky\";\n  }\n  get styles() {\n    return {\n      busyInd: {\n        position: this.busyIndPosition\n      }\n    };\n  }\n  get classes() {\n    return {\n      root: {\n        \"ui5-list-root\": true,\n        \"ui5-content-native-scrollbars\": getEffectiveScrollbarStyle()\n      }\n    };\n  }\n  initItemNavigation() {\n    this._itemNavigation = new ItemNavigation(this, {\n      skipItemsSize: PAGE_UP_DOWN_SIZE,\n      // PAGE_UP and PAGE_DOWN will skip trough 10 items\n      navigationMode: NavigationMode.Vertical,\n      getItemsCallback: () => this.getEnabledItems()\n    });\n  }\n  prepareListItems() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    slottedItems.forEach((item, key) => {\n      const isLastChild = key === slottedItems.length - 1;\n      const showBottomBorder = this.separators === ListSeparators.All || this.separators === ListSeparators.Inner && !isLastChild;\n      item._mode = this.mode;\n      item.hasBorder = showBottomBorder;\n    });\n    this._previouslySelectedItem = null;\n  }\n  async observeListEnd() {\n    if (!this.listEndObserved) {\n      await renderFinished();\n      this.getIntersectionObserver().observe(this.listEndDOM);\n      this.listEndObserved = true;\n    }\n  }\n  unobserveListEnd() {\n    if (this.growingIntersectionObserver) {\n      this.growingIntersectionObserver.disconnect();\n      this.growingIntersectionObserver = null;\n      this.listEndObserved = false;\n    }\n  }\n  onInteresection(entries) {\n    if (this.initialIntersection) {\n      this.initialIntersection = false;\n      return;\n    }\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        debounce(this.loadMore.bind(this), INFINITE_SCROLL_DEBOUNCE_RATE);\n      }\n    });\n  }\n\n  /*\n  * ITEM SELECTION BASED ON THE CURRENT MODE\n  */\n  onSelectionRequested(event) {\n    const previouslySelectedItems = this.getSelectedItems();\n    let selectionChange = false;\n    this._selectionRequested = true;\n    if (this[`handle${this.mode}`]) {\n      selectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n    }\n    if (selectionChange) {\n      this.fireEvent(\"selection-change\", {\n        selectedItems: this.getSelectedItems(),\n        previouslySelectedItems,\n        selectionComponentPressed: event.detail.selectionComponentPressed,\n        targetItem: event.detail.item,\n        key: event.detail.key\n      });\n    }\n  }\n  handleSingleSelect(item) {\n    if (item.selected) {\n      return false;\n    }\n    this.deselectSelectedItems();\n    item.selected = true;\n    return true;\n  }\n  handleSingleSelectBegin(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleSingleSelectEnd(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleSingleSelectAuto(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleMultiSelect(item, selected) {\n    item.selected = selected;\n    return true;\n  }\n  handleDelete(item) {\n    this.fireEvent(\"item-delete\", {\n      item\n    });\n  }\n  deselectSelectedItems() {\n    this.getSelectedItems().forEach(item => {\n      item.selected = false;\n    });\n  }\n  getSelectedItems() {\n    return this.getSlottedNodes(\"items\").filter(item => item.selected);\n  }\n  getEnabledItems() {\n    return this.getSlottedNodes(\"items\").filter(item => !item.disabled);\n  }\n  _onkeydown(event) {\n    if (isTabNext(event)) {\n      this._handleTabNext(event);\n    }\n  }\n  _onLoadMoreKeydown(event) {\n    if (isSpace(event)) {\n      event.preventDefault();\n      this._loadMoreActive = true;\n    }\n    if (isEnter(event)) {\n      this._onLoadMoreClick();\n      this._loadMoreActive = true;\n    }\n    if (isTabNext(event)) {\n      this.focusAfterElement();\n    }\n    if (isTabPrevious(event)) {\n      if (this.getPreviouslyFocusedItem()) {\n        this.focusPreviouslyFocusedItem();\n      } else {\n        this.focusFirstItem();\n      }\n      event.preventDefault();\n    }\n  }\n  _onLoadMoreKeyup(event) {\n    if (isSpace(event)) {\n      this._onLoadMoreClick();\n    }\n    this._loadMoreActive = false;\n  }\n  _onLoadMoreMousedown() {\n    this._loadMoreActive = true;\n  }\n  _onLoadMoreMouseup() {\n    this._loadMoreActive = false;\n  }\n  _onLoadMoreClick() {\n    this.loadMore();\n  }\n  checkListInViewport() {\n    this._inViewport = isElementInView(this.getDomRef());\n  }\n  loadMore() {\n    this.fireEvent(\"load-more\");\n  }\n\n  /*\n  * KEYBOARD SUPPORT\n  */\n  _handleTabNext(event) {\n    // If forward navigation is performed, we check if the List has headerToolbar.\n    // If yes - we check if the target is at the last tabbable element of the headerToolbar\n    // to forward correctly the focus to the selected, previously focused or to the first list item.\n    let lastTabbableEl;\n    const target = this.getNormalizedTarget(event.target);\n    if (this.headerToolbar) {\n      lastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n    }\n    if (!lastTabbableEl) {\n      return;\n    }\n    if (lastTabbableEl === target) {\n      if (this.getFirstItem(x => x.selected && !x.disabled)) {\n        this.focusFirstSelectedItem();\n      } else if (this.getPreviouslyFocusedItem()) {\n        this.focusPreviouslyFocusedItem();\n      } else {\n        this.focusFirstItem();\n      }\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    }\n  }\n  _onfocusin(event) {\n    const target = this.getNormalizedTarget(event.target);\n    // If the focusin event does not origin from one of the 'triggers' - ignore it.\n    if (!this.isForwardElement(target)) {\n      event.stopImmediatePropagation();\n      return;\n    }\n\n    // The focus arrives in the List for the first time.\n    // If there is selected item - focus it or focus the first item.\n    if (!this.getPreviouslyFocusedItem()) {\n      if (this.growsWithButton && this.isForwardAfterElement(target)) {\n        this.focusGrowingButton();\n      } else {\n        this.focusFirstItem();\n      }\n      event.stopImmediatePropagation();\n      return;\n    }\n\n    // The focus returns to the List,\n    // focus the first selected item or the previously focused element.\n    if (!this.getForwardingFocus()) {\n      if (this.growsWithButton && this.isForwardAfterElement(target)) {\n        this.focusGrowingButton();\n        event.stopImmediatePropagation();\n        return;\n      }\n      this.focusPreviouslyFocusedItem();\n      event.stopImmediatePropagation();\n    }\n    this.setForwardingFocus(false);\n  }\n  isForwardElement(node) {\n    const nodeId = node.id;\n    const beforeElement = this.getBeforeElement();\n    if (this._id === nodeId || beforeElement && beforeElement.id === nodeId) {\n      return true;\n    }\n    return this.isForwardAfterElement(node);\n  }\n  isForwardAfterElement(node) {\n    const nodeId = node.id;\n    const afterElement = this.getAfterElement();\n    return afterElement && afterElement.id === nodeId;\n  }\n  onItemFocused(event) {\n    const target = event.target;\n    event.stopPropagation();\n    this._itemNavigation.setCurrentItem(target);\n    this.fireEvent(\"item-focused\", {\n      item: target\n    });\n    if (this.mode === ListMode.SingleSelectAuto) {\n      this.onSelectionRequested({\n        detail: {\n          item: target,\n          selectionComponentPressed: false,\n          selected: true,\n          key: event.detail.key\n        }\n      });\n    }\n  }\n  onItemPress(event) {\n    const pressedItem = event.detail.item;\n    if (!this.fireEvent(\"item-click\", {\n      item: pressedItem\n    }, true)) {\n      return;\n    }\n    if (!this._selectionRequested && this.mode !== ListMode.Delete) {\n      this._selectionRequested = true;\n      this.onSelectionRequested({\n        detail: {\n          item: pressedItem,\n          selectionComponentPressed: false,\n          selected: !pressedItem.selected,\n          key: event.detail.key\n        }\n      });\n    }\n    this._selectionRequested = false;\n  }\n\n  // This is applicable to NoficationListItem\n  onItemClose(event) {\n    this.fireEvent(\"item-close\", {\n      item: event.detail.item\n    });\n  }\n  onItemToggle(event) {\n    this.fireEvent(\"item-toggle\", {\n      item: event.detail.item\n    });\n  }\n  onForwardBefore(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    this.focusBeforeElement();\n    event.stopPropagation();\n  }\n  onForwardAfter(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    if (!this.growsWithButton) {\n      this.focusAfterElement();\n    } else {\n      this.focusGrowingButton();\n      event.preventDefault();\n    }\n    event.stopPropagation();\n  }\n  focusBeforeElement() {\n    this.setForwardingFocus(true);\n    this.getBeforeElement().focus();\n  }\n  focusAfterElement() {\n    this.setForwardingFocus(true);\n    this.getAfterElement().focus();\n  }\n  focusGrowingButton() {\n    const growingBtn = this.getGrowingButton();\n    if (growingBtn) {\n      growingBtn.focus();\n    }\n  }\n  getGrowingButton() {\n    return this.shadowRoot.querySelector(`#${this._id}-growing-btn`);\n  }\n\n  /**\n   * Focuses the first list item and sets its tabindex to \"0\" via the ItemNavigation\n   * @protected\n   */\n  focusFirstItem() {\n    // only enabled items are focusable\n    const firstItem = this.getFirstItem(x => !x.disabled);\n    if (firstItem) {\n      firstItem.focus();\n    }\n  }\n  focusPreviouslyFocusedItem() {\n    const previouslyFocusedItem = this.getPreviouslyFocusedItem();\n    if (previouslyFocusedItem) {\n      previouslyFocusedItem.focus();\n    }\n  }\n  focusFirstSelectedItem() {\n    // only enabled items are focusable\n    const firstSelectedItem = this.getFirstItem(x => x.selected && !x.disabled);\n    if (firstSelectedItem) {\n      firstSelectedItem.focus();\n    }\n  }\n\n  /**\n   * Focuses a list item and sets its tabindex to \"0\" via the ItemNavigation\n   * @protected\n   * @param item\n   */\n  focusItem(item) {\n    this._itemNavigation.setCurrentItem(item);\n    item.focus();\n  }\n  focusUploadCollectionItem(event) {\n    setTimeout(() => {\n      this.setPreviouslyFocusedItem(event.target);\n      this.focusPreviouslyFocusedItem();\n    }, 0);\n  }\n  setForwardingFocus(forwardingFocus) {\n    this._forwardingFocus = forwardingFocus;\n  }\n  getForwardingFocus() {\n    return this._forwardingFocus;\n  }\n  setPreviouslyFocusedItem(item) {\n    this._previouslyFocusedItem = item;\n  }\n  getPreviouslyFocusedItem() {\n    return this._previouslyFocusedItem;\n  }\n  getFirstItem(filter) {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    let firstItem = null;\n    if (!filter) {\n      return !!slottedItems.length && slottedItems[0];\n    }\n    for (let i = 0; i < slottedItems.length; i++) {\n      if (filter(slottedItems[i])) {\n        firstItem = slottedItems[i];\n        break;\n      }\n    }\n    return firstItem;\n  }\n  getAfterElement() {\n    if (!this._afterElement) {\n      this._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n    }\n    return this._afterElement;\n  }\n  getBeforeElement() {\n    if (!this._beforeElement) {\n      this._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n    }\n    return this._beforeElement;\n  }\n  getHeaderToolbarLastTabbableElement() {\n    return getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n  }\n  getNormalizedTarget(target) {\n    let focused = target;\n    if (target.shadowRoot && target.shadowRoot.activeElement) {\n      focused = target.shadowRoot.activeElement;\n    }\n    return focused;\n  }\n  getIntersectionObserver() {\n    if (!this.growingIntersectionObserver) {\n      this.growingIntersectionObserver = new IntersectionObserver(this.onInteresection.bind(this), {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 1.0\n      });\n    }\n    return this.growingIntersectionObserver;\n  }\n}\nList.define();\nexport default List;","map":{"version":3,"names":["UI5Element","litRender","ResizeHandler","ItemNavigation","renderFinished","getLastTabbableElement","isTabNext","isSpace","isEnter","isTabPrevious","Integer","NavigationMode","getEffectiveAriaLabelText","getEffectiveScrollbarStyle","getI18nBundle","debounce","isElementInView","ListMode","ListGrowingMode","ListSeparators","BusyIndicator","ListTemplate","listCss","browserScrollbarCSS","LOAD_MORE_TEXT","ARIA_LABEL_LIST_SELECTABLE","ARIA_LABEL_LIST_MULTISELECTABLE","ARIA_LABEL_LIST_DELETABLE","INFINITE_SCROLL_DEBOUNCE_RATE","PAGE_UP_DOWN_SIZE","metadata","tag","managedSlots","fastNavigation","slots","header","type","HTMLElement","propertyName","properties","headerText","String","footerText","indent","Boolean","mode","defaultValue","None","noDataText","separators","All","growing","busy","busyDelay","accessibleName","accessibleNameRef","accessibleRole","_inViewport","_loadMoreActive","events","detail","item","selectedItems","Array","previouslySelectedItems","targetItem","selectionComponentPressed","List","render","template","styles","onDefine","i18nBundle","dependencies","constructor","initItemNavigation","_previouslyFocusedItem","_forwardingFocus","_previouslySelectedItem","resizeListenerAttached","listEndObserved","addEventListener","onItemPress","bind","onItemClose","onItemToggle","onItemFocused","onForwardAfter","onForwardBefore","onSelectionRequested","focusUploadCollectionItem","_handleResize","checkListInViewport","initialIntersection","onExitDOM","unobserveListEnd","deregister","getDomRef","onBeforeRendering","prepareListItems","onAfterRendering","growsOnScroll","observeListEnd","grows","attachForResize","register","shouldRenderH1","length","headerID","_id","modeLabelID","listEndDOM","shadowRoot","querySelector","hasData","getSlottedNodes","showNoDataText","isDelete","Delete","isSingleSelect","SingleSelect","SingleSelectBegin","SingleSelectEnd","SingleSelectAuto","includes","isMultiSelect","MultiSelect","ariaLabelledBy","undefined","ids","push","join","ariaLabelTxt","ariaLabelModeText","getText","Scroll","growsWithButton","Button","_growingButtonText","busyIndPosition","busyInd","position","classes","root","_itemNavigation","skipItemsSize","navigationMode","Vertical","getItemsCallback","getEnabledItems","slottedItems","forEach","key","isLastChild","showBottomBorder","Inner","_mode","hasBorder","getIntersectionObserver","observe","growingIntersectionObserver","disconnect","onInteresection","entries","entry","isIntersecting","loadMore","event","getSelectedItems","selectionChange","_selectionRequested","selected","fireEvent","handleSingleSelect","deselectSelectedItems","handleSingleSelectBegin","handleSingleSelectEnd","handleSingleSelectAuto","handleMultiSelect","handleDelete","filter","disabled","_onkeydown","_handleTabNext","_onLoadMoreKeydown","preventDefault","_onLoadMoreClick","focusAfterElement","getPreviouslyFocusedItem","focusPreviouslyFocusedItem","focusFirstItem","_onLoadMoreKeyup","_onLoadMoreMousedown","_onLoadMoreMouseup","lastTabbableEl","target","getNormalizedTarget","headerToolbar","getHeaderToolbarLastTabbableElement","getFirstItem","x","focusFirstSelectedItem","stopImmediatePropagation","_onfocusin","isForwardElement","isForwardAfterElement","focusGrowingButton","getForwardingFocus","setForwardingFocus","node","nodeId","id","beforeElement","getBeforeElement","afterElement","getAfterElement","stopPropagation","setCurrentItem","pressedItem","setPreviouslyFocusedItem","focusBeforeElement","focus","growingBtn","getGrowingButton","firstItem","previouslyFocusedItem","firstSelectedItem","focusItem","setTimeout","forwardingFocus","i","_afterElement","_beforeElement","focused","activeElement","IntersectionObserver","rootMargin","threshold","define"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents/dist/List.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { renderFinished } from \"@ui5/webcomponents-base/dist/Render.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport {\n\tisTabNext,\n\tisSpace,\n\tisEnter,\n\tisTabPrevious,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport getEffectiveScrollbarStyle from \"@ui5/webcomponents-base/dist/util/getEffectiveScrollbarStyle.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport debounce from \"@ui5/webcomponents-base/dist/util/debounce.js\";\nimport isElementInView from \"@ui5/webcomponents-base/dist/util/isElementInView.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListGrowingMode from \"./types/ListGrowingMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\n\n// Template\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\";\n\n// Styles\nimport listCss from \"./generated/themes/List.css.js\";\nimport browserScrollbarCSS from \"./generated/themes/BrowserScrollbar.css.js\";\n\n// Texts\nimport {\n\tLOAD_MORE_TEXT, ARIA_LABEL_LIST_SELECTABLE,\n\tARIA_LABEL_LIST_MULTISELECTABLE,\n\tARIA_LABEL_LIST_DELETABLE,\n} from \"./generated/i18n/i18n-defaults.js\";\n\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\nconst PAGE_UP_DOWN_SIZE = 10;\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-list\",\n\tmanagedSlots: true,\n\tfastNavigation: true,\n\tslots: /** @lends sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the component header.\n\t\t * <br><br>\n\t\t * <b>Note:</b> When <code>header</code> is set, the\n\t\t * <code>headerText</code> property is ignored.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\theader: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the items of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IListItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the component header text.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>header</code> is set this property is ignored.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\theaderText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the footer text.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tfooterText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the component is indented.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tindent: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the mode of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Available options are <code>None</code>, <code>SingleSelect</code>, <code>SingleSelectBegin</code>,\n\t\t * <code>SingleSelectEnd</code>, <code>MultiSelect</code>, and <code>Delete</code>.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.types.ListMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tmode: {\n\t\t\ttype: ListMode,\n\t\t\tdefaultValue: ListMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines the text that is displayed when the component contains no items.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tnoDataText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the item separator style that is used.\n\t\t * <br><br>\n\t\t * <b>Notes:</b>\n\t\t * <ul>\n\t\t * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n\t\t * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n\t\t * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n\t\t * item doesn't have a bottom separator.</li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.types.ListSeparators}\n\t\t * @defaultvalue \"All\"\n\t\t * @public\n\t\t */\n\t\tseparators: {\n\t\t\ttype: ListSeparators,\n\t\t\tdefaultValue: ListSeparators.All,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component will have growing capability either by pressing a <code>More</code> button,\n\t\t * or via user scroll. In both cases <code>load-more</code> event is fired.\n\t\t * <br><br>\n\t\t *\n\t\t * Available options:\n\t\t * <br><br>\n\t\t * <code>Button</code> - Shows a <code>More</code> button at the bottom of the list,\n\t\t * pressing of which triggers the <code>load-more</code> event.\n\t\t * <br>\n\t\t * <code>Scroll</code> - The <code>load-more</code> event is triggered when the user scrolls to the bottom of the list;\n\t\t * <br>\n\t\t * <code>None</code> (default) - The growing is off.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Restrictions:</b> <code>growing=\"Scroll\"</code> is not supported for Internet Explorer,\n\t\t * on IE the component will fallback to <code>growing=\"Button\"</code>.\n\t\t * @type {sap.ui.webcomponents.main.types.ListGrowingMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @since 1.0.0-rc.13\n\t\t * @public\n\t\t */\n\t\tgrowing: {\n\t\t\ttype: ListGrowingMode,\n\t\t\tdefaultValue: ListGrowingMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the component would display a loading indicator over the list.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tbusy: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the delay in milliseconds, after which the busy indicator will show up for this component.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.base.types.Integer}\n\t\t * @defaultValue 1000\n\t\t * @public\n\t\t */\n\t\tbusyDelay: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 1000,\n\t\t},\n\n\t\t/**\n\t\t * Defines the accessible name of the component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\taccessibleName: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the IDs of the elements that label the input.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\taccessibleNameRef: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines the accessible role of the component.\n\t\t * <br><br>\n\t\t * @public\n\t\t * @type {string}\n\t\t * @defaultvalue \"list\"\n\t\t * @since 1.0.0-rc.15\n\t\t */\n\t\taccessibleRole: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"list\",\n\t\t},\n\n\t\t/**\n\t\t * Defines if the entire list is in view port.\n\t\t * @private\n\t\t */\n\t\t_inViewport: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the active state of the <code>More</code> button.\n\t\t * @private\n\t\t */\n\t\t_loadMoreActive: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Fired when an item is activated, unless the item's <code>type</code> property\n\t\t * is set to <code>Inactive</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-click\n\t\t * @allowPreventDefault\n\t\t * @param {HTMLElement} item The clicked item.\n\t\t * @public\n\t\t */\n\t\t\"item-click\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the <code>Close</code> button of any item is clicked\n\t\t * <br><br>\n\t\t * <b>Note:</b> This event is only applicable to list items that can be closed (such as notification list items),\n\t\t * not to be confused with <code>item-delete</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-close\n\t\t * @param {HTMLElement} item the item about to be closed.\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\t\"item-close\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the <code>Toggle</code> button of any item is clicked.\n\t\t * <br><br>\n\t\t * <b>Note:</b> This event is only applicable to list items that can be toggled (such as notification group list items).\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-toggle\n\t\t * @param {HTMLElement} item the toggled item.\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\t\"item-toggle\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the Delete button of any item is pressed.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A Delete button is displayed on each item,\n\t\t * when the component <code>mode</code> property is set to <code>Delete</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-delete\n\t\t * @param {HTMLElement} item the deleted item.\n\t\t * @public\n\t\t */\n\t\t\"item-delete\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code>, <code>SingleSelectBegin</code>, <code>SingleSelectEnd</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#selection-change\n\t\t * @param {Array} selectedItems An array of the selected items.\n\t\t * @param {Array} previouslySelectedItems An array of the previously selected items.\n\t\t * @public\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\tselectedItems: { type: Array },\n\t\t\t\tpreviouslySelectedItems: { type: Array },\n\t\t\t\ttargetItem: { type: HTMLElement }, // protected, holds the event target item\n\t\t\t\tselectionComponentPressed: { type: Boolean }, // protected, indicates if the user used the selection components to change the selection\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the user scrolls to the bottom of the list.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The event is fired when the <code>growing='Scroll'</code> property is enabled.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#load-more\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\t\"load-more\": {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is a container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-groupheader</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <br><br>\n * <h3>Keyboard Handling</h3>\n *\n * <h4>Basic Navigation</h4>\n * The <code>ui5-list</code> provides advanced keyboard handling.\n * When a list is focused the user can use the following keyboard\n * shortcuts in order to perform a navigation:\n * <br>\n *\n * <ul>\n * <li>[UP/DOWN] - Navigates up and down the items</li>\n * <li>[HOME] - Navigates to first item</li>\n * <li>[END] - Navigates to the last item</li>\n * </ul>\n *\n * The user can use the following keyboard shortcuts to perform actions (such as select, delete),\n * when the <code>mode</code> property is in use:\n * <ul>\n * <li>[SPACE] - Select an item (if <code>type</code> is 'Active') when <code>mode</code> is selection</li>\n * <li>[DELETE] - Delete an item if <code>mode</code> property is <code>Delete</code></li>\n * </ul>\n *\n * <h4>Fast Navigation</h4>\n * This component provides a build in fast navigation group which can be used via <code>F6 / Shift + F6</code> or <code> Ctrl + Alt(Option) + Down /  Ctrl + Alt(Option) + Up</code>.\n * In order to use this functionality, you need to import the following module:\n * <code>import \"@ui5/webcomponents-base/dist/features/F6Navigation.js\"</code>\n * <br><br>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-groupheader</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\nclass List extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn ListTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn [browserScrollbarCSS, listCss];\n\t}\n\n\tstatic async onDefine() {\n\t\tList.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [BusyIndicator];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.initItemNavigation();\n\n\t\t// Stores the last focused item within the internal ul element.\n\t\tthis._previouslyFocusedItem = null;\n\n\t\t// Indicates that the List is forwarding the focus before or after the internal ul.\n\t\tthis._forwardingFocus = false;\n\n\t\tthis._previouslySelectedItem = null;\n\n\t\t// Indicates that the List has already subscribed for resize.\n\t\tthis.resizeListenerAttached = false;\n\n\t\t// Indicates if the IntersectionObserver started observing the List\n\t\tthis.listEndObserved = false;\n\n\t\tthis.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n\t\tthis.addEventListener(\"ui5-close\", this.onItemClose.bind(this));\n\t\tthis.addEventListener(\"ui5-toggle\", this.onItemToggle.bind(this));\n\t\tthis.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-after\", this.onForwardAfter.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-before\", this.onForwardBefore.bind(this));\n\t\tthis.addEventListener(\"ui5-_selection-requested\", this.onSelectionRequested.bind(this));\n\t\tthis.addEventListener(\"ui5-_focus-requested\", this.focusUploadCollectionItem.bind(this));\n\n\t\tthis._handleResize = this.checkListInViewport.bind(this);\n\n\t\t// Indicates the List bottom most part has been detected by the IntersectionObserver\n\t\t// for the first time.\n\t\tthis.initialIntersection = true;\n\t}\n\n\tonExitDOM() {\n\t\tthis.unobserveListEnd();\n\t\tthis.resizeListenerAttached = false;\n\t\tResizeHandler.deregister(this.getDomRef(), this._handleResize);\n\t}\n\n\tonBeforeRendering() {\n\t\tthis.prepareListItems();\n\t}\n\n\tonAfterRendering() {\n\t\tif (this.growsOnScroll) {\n\t\t\tthis.observeListEnd();\n\t\t} else if (this.listEndObserved) {\n\t\t\tthis.unobserveListEnd();\n\t\t}\n\n\t\tif (this.grows) {\n\t\t\tthis.checkListInViewport();\n\t\t\tthis.attachForResize();\n\t\t}\n\t}\n\n\tattachForResize() {\n\t\tif (!this.resizeListenerAttached) {\n\t\t\tthis.resizeListenerAttached = true;\n\t\t\tResizeHandler.register(this.getDomRef(), this._handleResize);\n\t\t}\n\t}\n\n\tget shouldRenderH1() {\n\t\treturn !this.header.length && this.headerText;\n\t}\n\n\tget headerID() {\n\t\treturn `${this._id}-header`;\n\t}\n\n\tget modeLabelID() {\n\t\treturn `${this._id}-modeLabel`;\n\t}\n\n\tget listEndDOM() {\n\t\treturn this.shadowRoot.querySelector(\".ui5-list-end-marker\");\n\t}\n\n\tget hasData() {\n\t\treturn this.getSlottedNodes(\"items\").length !== 0;\n\t}\n\n\tget showNoDataText() {\n\t\treturn !this.hasData && this.noDataText;\n\t}\n\n\tget isDelete() {\n\t\treturn this.mode === ListMode.Delete;\n\t}\n\n\tget isSingleSelect() {\n\t\treturn [\n\t\t\tListMode.SingleSelect,\n\t\t\tListMode.SingleSelectBegin,\n\t\t\tListMode.SingleSelectEnd,\n\t\t\tListMode.SingleSelectAuto,\n\t\t].includes(this.mode);\n\t}\n\n\tget isMultiSelect() {\n\t\treturn this.mode === ListMode.MultiSelect;\n\t}\n\n\tget ariaLabelledBy() {\n\t\tif (this.accessibleNameRef || this.accessibleName) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst ids = [];\n\n\t\tif (this.isMultiSelect || this.isSingleSelect || this.isDelete) {\n\t\t\tids.push(this.modeLabelID);\n\t\t}\n\n\t\tif (this.shouldRenderH1) {\n\t\t\tids.push(this.headerID);\n\t\t}\n\n\t\treturn ids.length ? ids.join(\" \") : undefined;\n\t}\n\n\tget ariaLabelTxt() {\n\t\treturn getEffectiveAriaLabelText(this);\n\t}\n\n\tget ariaLabelModeText() {\n\t\tif (this.isMultiSelect) {\n\t\t\treturn List.i18nBundle.getText(ARIA_LABEL_LIST_MULTISELECTABLE);\n\t\t}\n\t\tif (this.isSingleSelect) {\n\t\t\treturn List.i18nBundle.getText(ARIA_LABEL_LIST_SELECTABLE);\n\t\t}\n\t\tif (this.isDelete) {\n\t\t\treturn List.i18nBundle.getText(ARIA_LABEL_LIST_DELETABLE);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget grows() {\n\t\treturn this.growing !== ListGrowingMode.None;\n\t}\n\n\tget growsOnScroll() {\n\t\treturn this.growing === ListGrowingMode.Scroll;\n\t}\n\n\tget growsWithButton() {\n\t\treturn this.growing === ListGrowingMode.Button;\n\t}\n\n\tget _growingButtonText() {\n\t\treturn List.i18nBundle.getText(LOAD_MORE_TEXT);\n\t}\n\n\tget busyIndPosition() {\n\t\tif (!this.grows) {\n\t\t\treturn \"absolute\";\n\t\t}\n\n\t\treturn this._inViewport ? \"absolute\" : \"sticky\";\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tbusyInd: {\n\t\t\t\tposition: this.busyIndPosition,\n\t\t\t},\n\t\t};\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\troot: {\n\t\t\t\t\"ui5-list-root\": true,\n\t\t\t\t\"ui5-content-native-scrollbars\": getEffectiveScrollbarStyle(),\n\t\t\t},\n\t\t};\n\t}\n\n\tinitItemNavigation() {\n\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\tskipItemsSize: PAGE_UP_DOWN_SIZE, // PAGE_UP and PAGE_DOWN will skip trough 10 items\n\t\t\tnavigationMode: NavigationMode.Vertical,\n\t\t\tgetItemsCallback: () => this.getEnabledItems(),\n\t\t});\n\t}\n\n\tprepareListItems() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\n\t\tslottedItems.forEach((item, key) => {\n\t\t\tconst isLastChild = key === slottedItems.length - 1;\n\t\t\tconst showBottomBorder = this.separators === ListSeparators.All\n\t\t\t\t|| (this.separators === ListSeparators.Inner && !isLastChild);\n\n\t\t\titem._mode = this.mode;\n\t\t\titem.hasBorder = showBottomBorder;\n\t\t});\n\n\t\tthis._previouslySelectedItem = null;\n\t}\n\n\tasync observeListEnd() {\n\t\tif (!this.listEndObserved) {\n\t\t\tawait renderFinished();\n\t\t\tthis.getIntersectionObserver().observe(this.listEndDOM);\n\t\t\tthis.listEndObserved = true;\n\t\t}\n\t}\n\n\tunobserveListEnd() {\n\t\tif (this.growingIntersectionObserver) {\n\t\t\tthis.growingIntersectionObserver.disconnect();\n\t\t\tthis.growingIntersectionObserver = null;\n\t\t\tthis.listEndObserved = false;\n\t\t}\n\t}\n\n\tonInteresection(entries) {\n\t\tif (this.initialIntersection) {\n\t\t\tthis.initialIntersection = false;\n\t\t\treturn;\n\t\t}\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tdebounce(this.loadMore.bind(this), INFINITE_SCROLL_DEBOUNCE_RATE);\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n\t* ITEM SELECTION BASED ON THE CURRENT MODE\n\t*/\n\tonSelectionRequested(event) {\n\t\tconst previouslySelectedItems = this.getSelectedItems();\n\t\tlet selectionChange = false;\n\t\tthis._selectionRequested = true;\n\n\t\tif (this[`handle${this.mode}`]) {\n\t\t\tselectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n\t\t}\n\n\t\tif (selectionChange) {\n\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\tselectedItems: this.getSelectedItems(),\n\t\t\t\tpreviouslySelectedItems,\n\t\t\t\tselectionComponentPressed: event.detail.selectionComponentPressed,\n\t\t\t\ttargetItem: event.detail.item,\n\t\t\t\tkey: event.detail.key,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSingleSelect(item) {\n\t\tif (item.selected) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.deselectSelectedItems();\n\t\titem.selected = true;\n\n\t\treturn true;\n\t}\n\n\thandleSingleSelectBegin(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleSingleSelectEnd(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleSingleSelectAuto(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleMultiSelect(item, selected) {\n\t\titem.selected = selected;\n\t\treturn true;\n\t}\n\n\thandleDelete(item) {\n\t\tthis.fireEvent(\"item-delete\", { item });\n\t}\n\n\tdeselectSelectedItems() {\n\t\tthis.getSelectedItems().forEach(item => { item.selected = false; });\n\t}\n\n\tgetSelectedItems() {\n\t\treturn this.getSlottedNodes(\"items\").filter(item => item.selected);\n\t}\n\n\tgetEnabledItems() {\n\t\treturn this.getSlottedNodes(\"items\").filter(item => !item.disabled);\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isTabNext(event)) {\n\t\t\tthis._handleTabNext(event);\n\t\t}\n\t}\n\n\t_onLoadMoreKeydown(event) {\n\t\tif (isSpace(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._loadMoreActive = true;\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._onLoadMoreClick();\n\t\t\tthis._loadMoreActive = true;\n\t\t}\n\n\t\tif (isTabNext(event)) {\n\t\t\tthis.focusAfterElement();\n\t\t}\n\n\t\tif (isTabPrevious(event)) {\n\t\t\tif (this.getPreviouslyFocusedItem()) {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onLoadMoreKeyup(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis._onLoadMoreClick();\n\t\t}\n\t\tthis._loadMoreActive = false;\n\t}\n\n\t_onLoadMoreMousedown() {\n\t\tthis._loadMoreActive = true;\n\t}\n\n\t_onLoadMoreMouseup() {\n\t\tthis._loadMoreActive = false;\n\t}\n\n\t_onLoadMoreClick() {\n\t\tthis.loadMore();\n\t}\n\n\tcheckListInViewport() {\n\t\tthis._inViewport = isElementInView(this.getDomRef());\n\t}\n\n\tloadMore() {\n\t\tthis.fireEvent(\"load-more\");\n\t}\n\n\t/*\n\t* KEYBOARD SUPPORT\n\t*/\n\t_handleTabNext(event) {\n\t\t// If forward navigation is performed, we check if the List has headerToolbar.\n\t\t// If yes - we check if the target is at the last tabbable element of the headerToolbar\n\t\t// to forward correctly the focus to the selected, previously focused or to the first list item.\n\t\tlet lastTabbableEl;\n\t\tconst target = this.getNormalizedTarget(event.target);\n\n\t\tif (this.headerToolbar) {\n\t\t\tlastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n\t\t}\n\n\t\tif (!lastTabbableEl) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastTabbableEl === target) {\n\t\t\tif (this.getFirstItem(x => x.selected && !x.disabled)) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else if (this.getPreviouslyFocusedItem()) {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onfocusin(event) {\n\t\tconst target = this.getNormalizedTarget(event.target);\n\t\t// If the focusin event does not origin from one of the 'triggers' - ignore it.\n\t\tif (!this.isForwardElement(target)) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus arrives in the List for the first time.\n\t\t// If there is selected item - focus it or focus the first item.\n\t\tif (!this.getPreviouslyFocusedItem()) {\n\t\t\tif (this.growsWithButton && this.isForwardAfterElement(target)) {\n\t\t\t\tthis.focusGrowingButton();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus returns to the List,\n\t\t// focus the first selected item or the previously focused element.\n\t\tif (!this.getForwardingFocus()) {\n\t\t\tif (this.growsWithButton && this.isForwardAfterElement(target)) {\n\t\t\t\tthis.focusGrowingButton();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.setForwardingFocus(false);\n\t}\n\n\tisForwardElement(node) {\n\t\tconst nodeId = node.id;\n\t\tconst beforeElement = this.getBeforeElement();\n\n\t\tif (this._id === nodeId || (beforeElement && beforeElement.id === nodeId)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.isForwardAfterElement(node);\n\t}\n\n\tisForwardAfterElement(node) {\n\t\tconst nodeId = node.id;\n\t\tconst afterElement = this.getAfterElement();\n\n\t\treturn afterElement && afterElement.id === nodeId;\n\t}\n\n\tonItemFocused(event) {\n\t\tconst target = event.target;\n\n\t\tevent.stopPropagation();\n\n\t\tthis._itemNavigation.setCurrentItem(target);\n\t\tthis.fireEvent(\"item-focused\", { item: target });\n\n\t\tif (this.mode === ListMode.SingleSelectAuto) {\n\t\t\tthis.onSelectionRequested({\n\t\t\t\tdetail: {\n\t\t\t\t\titem: target,\n\t\t\t\t\tselectionComponentPressed: false,\n\t\t\t\t\tselected: true,\n\t\t\t\t\tkey: event.detail.key,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tonItemPress(event) {\n\t\tconst pressedItem = event.detail.item;\n\n\t\tif (!this.fireEvent(\"item-click\", { item: pressedItem }, true)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._selectionRequested && this.mode !== ListMode.Delete) {\n\t\t\tthis._selectionRequested = true;\n\t\t\tthis.onSelectionRequested({\n\t\t\t\tdetail: {\n\t\t\t\t\titem: pressedItem,\n\t\t\t\t\tselectionComponentPressed: false,\n\t\t\t\t\tselected: !pressedItem.selected,\n\t\t\t\t\tkey: event.detail.key,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tthis._selectionRequested = false;\n\t}\n\n\t// This is applicable to NoficationListItem\n\tonItemClose(event) {\n\t\tthis.fireEvent(\"item-close\", { item: event.detail.item });\n\t}\n\n\tonItemToggle(event) {\n\t\tthis.fireEvent(\"item-toggle\", { item: event.detail.item });\n\t}\n\n\tonForwardBefore(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\tthis.focusBeforeElement();\n\t\tevent.stopPropagation();\n\t}\n\n\tonForwardAfter(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\n\t\tif (!this.growsWithButton) {\n\t\t\tthis.focusAfterElement();\n\t\t} else {\n\t\t\tthis.focusGrowingButton();\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tevent.stopPropagation();\n\t}\n\n\tfocusBeforeElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getBeforeElement().focus();\n\t}\n\n\tfocusAfterElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getAfterElement().focus();\n\t}\n\n\tfocusGrowingButton() {\n\t\tconst growingBtn = this.getGrowingButton();\n\n\t\tif (growingBtn) {\n\t\t\tgrowingBtn.focus();\n\t\t}\n\t}\n\n\tgetGrowingButton() {\n\t\treturn this.shadowRoot.querySelector(`#${this._id}-growing-btn`);\n\t}\n\n\t/**\n\t * Focuses the first list item and sets its tabindex to \"0\" via the ItemNavigation\n\t * @protected\n\t */\n\tfocusFirstItem() {\n\t\t// only enabled items are focusable\n\t\tconst firstItem = this.getFirstItem(x => !x.disabled);\n\n\t\tif (firstItem) {\n\t\t\tfirstItem.focus();\n\t\t}\n\t}\n\n\tfocusPreviouslyFocusedItem() {\n\t\tconst previouslyFocusedItem = this.getPreviouslyFocusedItem();\n\n\t\tif (previouslyFocusedItem) {\n\t\t\tpreviouslyFocusedItem.focus();\n\t\t}\n\t}\n\n\tfocusFirstSelectedItem() {\n\t\t// only enabled items are focusable\n\t\tconst firstSelectedItem = this.getFirstItem(x => x.selected && !x.disabled);\n\n\t\tif (firstSelectedItem) {\n\t\t\tfirstSelectedItem.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Focuses a list item and sets its tabindex to \"0\" via the ItemNavigation\n\t * @protected\n\t * @param item\n\t */\n\tfocusItem(item) {\n\t\tthis._itemNavigation.setCurrentItem(item);\n\t\titem.focus();\n\t}\n\n\tfocusUploadCollectionItem(event) {\n\t\tsetTimeout(() => {\n\t\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t}, 0);\n\t}\n\n\tsetForwardingFocus(forwardingFocus) {\n\t\tthis._forwardingFocus = forwardingFocus;\n\t}\n\n\tgetForwardingFocus() {\n\t\treturn this._forwardingFocus;\n\t}\n\n\tsetPreviouslyFocusedItem(item) {\n\t\tthis._previouslyFocusedItem = item;\n\t}\n\n\tgetPreviouslyFocusedItem() {\n\t\treturn this._previouslyFocusedItem;\n\t}\n\n\tgetFirstItem(filter) {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\t\tlet firstItem = null;\n\n\t\tif (!filter) {\n\t\t\treturn !!slottedItems.length && slottedItems[0];\n\t\t}\n\n\t\tfor (let i = 0; i < slottedItems.length; i++) {\n\t\t\tif (filter(slottedItems[i])) {\n\t\t\t\tfirstItem = slottedItems[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn firstItem;\n\t}\n\n\tgetAfterElement() {\n\t\tif (!this._afterElement) {\n\t\t\tthis._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n\t\t}\n\t\treturn this._afterElement;\n\t}\n\n\tgetBeforeElement() {\n\t\tif (!this._beforeElement) {\n\t\t\tthis._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n\t\t}\n\t\treturn this._beforeElement;\n\t}\n\n\tgetHeaderToolbarLastTabbableElement() {\n\t\treturn getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n\t}\n\n\tgetNormalizedTarget(target) {\n\t\tlet focused = target;\n\n\t\tif (target.shadowRoot && target.shadowRoot.activeElement) {\n\t\t\tfocused = target.shadowRoot.activeElement;\n\t\t}\n\n\t\treturn focused;\n\t}\n\n\tgetIntersectionObserver() {\n\t\tif (!this.growingIntersectionObserver) {\n\t\t\tthis.growingIntersectionObserver = new IntersectionObserver(this.onInteresection.bind(this), {\n\t\t\t\troot: null,\n\t\t\t\trootMargin: \"0px\",\n\t\t\t\tthreshold: 1.0,\n\t\t\t});\n\t\t}\n\n\t\treturn this.growingIntersectionObserver;\n\t}\n}\n\nList.define();\n\nexport default List;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,aAAa,MAAM,wDAAwD;AAClF,OAAOC,cAAc,MAAM,yDAAyD;AACpF,SAASC,cAAc,QAAQ,wCAAwC;AACvE,SAASC,sBAAsB,QAAQ,uDAAuD;AAC9F,SACCC,SAAS,EACTC,OAAO,EACPC,OAAO,EACPC,aAAa,QACP,sCAAsC;AAC7C,OAAOC,OAAO,MAAM,+CAA+C;AACnE,OAAOC,cAAc,MAAM,sDAAsD;AACjF,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,OAAOC,0BAA0B,MAAM,iEAAiE;AACxG,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,eAAe,MAAM,sDAAsD;AAClF,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAOC,eAAe,MAAM,4BAA4B;AACxD,OAAOC,cAAc,MAAM,2BAA2B;AACtD,OAAOC,aAAa,MAAM,oBAAoB;;AAE9C;AACA,OAAOC,YAAY,MAAM,2CAA2C;;AAEpE;AACA,OAAOC,OAAO,MAAM,gCAAgC;AACpD,OAAOC,mBAAmB,MAAM,4CAA4C;;AAE5E;AACA,SACCC,cAAc,EAAEC,0BAA0B,EAC1CC,+BAA+B,EAC/BC,yBAAyB,QACnB,mCAAmC;AAE1C,MAAMC,6BAA6B,GAAG,GAAG,CAAC,CAAC;;AAE3C,MAAMC,iBAAiB,GAAG,EAAE;;AAE5B;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,UAAU;EACfC,YAAY,EAAE,IAAI;EAClBC,cAAc,EAAE,IAAI;EACpBC,KAAK,EAAE,sDAAuD;IAE7D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE;MACPC,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,SAAS,EAAE;MACVC,YAAY,EAAE,OAAO;MACrBF,IAAI,EAAEC;IACP;EACD,CAAC;EACDE,UAAU,EAAE,sDAAuD;IAElE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXJ,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXN,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,MAAM,EAAE;MACPP,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,IAAI,EAAE;MACLT,IAAI,EAAEnB,QAAQ;MACd6B,YAAY,EAAE7B,QAAQ,CAAC8B;IACxB,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXZ,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEQ,UAAU,EAAE;MACXb,IAAI,EAAEjB,cAAc;MACpB2B,YAAY,EAAE3B,cAAc,CAAC+B;IAC9B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,OAAO,EAAE;MACRf,IAAI,EAAElB,eAAe;MACrB4B,YAAY,EAAE5B,eAAe,CAAC6B;IAC/B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEK,IAAI,EAAE;MACLhB,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACES,SAAS,EAAE;MACVjB,IAAI,EAAE1B,OAAO;MACboC,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEQ,cAAc,EAAE;MACflB,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEc,iBAAiB,EAAE;MAClBnB,IAAI,EAAEK,MAAM;MACZK,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEU,cAAc,EAAE;MACfpB,IAAI,EAAEK,MAAM;MACZK,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;IACEW,WAAW,EAAE;MACZrB,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;IACEc,eAAe,EAAE;MAChBtB,IAAI,EAAEQ;IACP;EACD,CAAC;EACDe,MAAM,EAAE,sDAAuD;IAE9D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,YAAY,EAAE;MACbC,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEzB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,YAAY,EAAE;MACbuB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEzB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,aAAa,EAAE;MACduB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEzB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,aAAa,EAAE;MACduB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEzB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,kBAAkB,EAAE;MACnBuB,MAAM,EAAE;QACPE,aAAa,EAAE;UAAE1B,IAAI,EAAE2B;QAAM,CAAC;QAC9BC,uBAAuB,EAAE;UAAE5B,IAAI,EAAE2B;QAAM,CAAC;QACxCE,UAAU,EAAE;UAAE7B,IAAI,EAAEC;QAAY,CAAC;QAAE;QACnC6B,yBAAyB,EAAE;UAAE9B,IAAI,EAAEQ;QAAQ,CAAC,CAAE;MAC/C;IACD,CAAC;;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,WAAW,EAAE,CAAC;EACf;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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"},"metadata":{},"sourceType":"module"}