{"ast":null,"code":"import { cloneElement } from 'react';\nconst inputTagNames = new Set(['UI5-COMBOBOX', 'UI5-DATE-PICKER', 'UI5-DATERANGE-PICKER', 'UI5-DATETIME-PICKER', 'UI5-DURATION-PICKER', 'UI5-INPUT', 'UI5-MULTI-INPUT', 'UI5-RATING-INDICATOR', 'UI5-STEP-INPUT', 'UI5-TIME-PICKER']);\nexport const filterValue = (ref, child) => {\n  var _a, _b;\n  const tagName = ref.tagName;\n  let filterItemProps = {};\n  if (inputTagNames.has(tagName)) {\n    filterItemProps = {\n      value: (_a = ref.value) !== null && _a !== void 0 ? _a : ''\n    };\n  }\n  if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n    const selectedIndices = Array.from(ref.children).map((item, index) => item.selected ? index : false).filter(el => el !== false);\n    const selectedIndicesSet = new Set(selectedIndices);\n    const options = (_b = child.props.children.props.children) === null || _b === void 0 ? void 0 : _b.map((item, index) => {\n      if (selectedIndicesSet.has(index)) {\n        return cloneElement(item, {\n          selected: true\n        });\n      }\n      return cloneElement(item, {\n        selected: false\n      });\n    });\n    filterItemProps = {\n      children: options\n    };\n  }\n  if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n    filterItemProps = {\n      checked: ref.checked\n    };\n  }\n  return filterItemProps;\n};\nexport const renderSearchWithValue = (renderSearchElement, searchValue) => {\n  var _a;\n  return cloneElement(renderSearchElement, {\n    value: searchValue !== null && searchValue !== void 0 ? searchValue : (_a = renderSearchElement === null || renderSearchElement === void 0 ? void 0 : renderSearchElement.props) === null || _a === void 0 ? void 0 : _a.value,\n    'data-component-name': 'FilterBarSearch'\n  });\n};\nexport const syncRef = (ref, node) => {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else if (ref.hasOwnProperty('current')) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      ref.current = node;\n    }\n  }\n};","map":{"version":3,"names":["cloneElement","inputTagNames","Set","filterValue","ref","child","_a","_b","tagName","filterItemProps","has","value","selectedIndices","Array","from","children","map","item","index","selected","filter","el","selectedIndicesSet","options","props","checked","renderSearchWithValue","renderSearchElement","searchValue","syncRef","node","hasOwnProperty","current"],"sources":["/home/user/projects/reactwithcap01/reactmodule01/node_modules/@ui5/webcomponents-react/dist/components/FilterBar/utils.js"],"sourcesContent":["import { cloneElement } from 'react';\nconst inputTagNames = new Set([\n    'UI5-COMBOBOX',\n    'UI5-DATE-PICKER',\n    'UI5-DATERANGE-PICKER',\n    'UI5-DATETIME-PICKER',\n    'UI5-DURATION-PICKER',\n    'UI5-INPUT',\n    'UI5-MULTI-INPUT',\n    'UI5-RATING-INDICATOR',\n    'UI5-STEP-INPUT',\n    'UI5-TIME-PICKER'\n]);\nexport const filterValue = (ref, child) => {\n    var _a, _b;\n    const tagName = ref.tagName;\n    let filterItemProps = {};\n    if (inputTagNames.has(tagName)) {\n        filterItemProps = { value: (_a = ref.value) !== null && _a !== void 0 ? _a : '' };\n    }\n    if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n        const selectedIndices = Array.from(ref.children)\n            .map((item, index) => (item.selected ? index : false))\n            .filter((el) => el !== false);\n        const selectedIndicesSet = new Set(selectedIndices);\n        const options = (_b = child.props.children.props.children) === null || _b === void 0 ? void 0 : _b.map((item, index) => {\n            if (selectedIndicesSet.has(index)) {\n                return cloneElement(item, { selected: true });\n            }\n            return cloneElement(item, { selected: false });\n        });\n        filterItemProps = { children: options };\n    }\n    if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n        filterItemProps = { checked: ref.checked };\n    }\n    return filterItemProps;\n};\nexport const renderSearchWithValue = (renderSearchElement, searchValue) => {\n    var _a;\n    return cloneElement(renderSearchElement, {\n        value: searchValue !== null && searchValue !== void 0 ? searchValue : (_a = renderSearchElement === null || renderSearchElement === void 0 ? void 0 : renderSearchElement.props) === null || _a === void 0 ? void 0 : _a.value,\n        'data-component-name': 'FilterBarSearch'\n    });\n};\nexport const syncRef = (ref, node) => {\n    if (ref) {\n        if (typeof ref === 'function') {\n            ref(node);\n        }\n        else if (ref.hasOwnProperty('current')) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            ref.current = node;\n        }\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}